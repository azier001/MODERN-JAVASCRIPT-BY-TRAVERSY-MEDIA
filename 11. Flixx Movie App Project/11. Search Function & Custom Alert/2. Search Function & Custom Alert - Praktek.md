# ğŸ¬ Tutorial Search Functionality - Flixx Movie App

> **ğŸ“š Dokumentasi Belajar Pribadi - Step by Step untuk Pemula**

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Konsep Dasar](#konsep-dasar)
  - [Apa itu URL Search Params?](#apa-itu-url-search-params)
  - [Apa itu Global State?](#apa-itu-global-state)
  - [Apa itu Query String?](#apa-itu-query-string)
- [Persiapan Awal](#persiapan-awal)
  - [Struktur HTML Form](#struktur-html-form)
  - [Struktur Kode Awal](#struktur-kode-awal)
- [Langkah-langkah Implementasi](#langkah-langkah-implementasi)
  - [Langkah 1: Membuat Global State untuk Search](#langkah-1-membuat-global-state-untuk-search)
  - [Langkah 2: Memindahkan API Config ke Global State](#langkah-2-memindahkan-api-config-ke-global-state)
  - [Langkah 3: Membuat Fungsi Search](#langkah-3-membuat-fungsi-search)
  - [Langkah 4: Mengambil Data dari URL](#langkah-4-mengambil-data-dari-url)
  - [Langkah 5: Menyimpan ke Global State](#langkah-5-menyimpan-ke-global-state)
  - [Langkah 6: Membuat Custom Alert](#langkah-6-membuat-custom-alert)
  - [Langkah 7: Validasi Input Search](#langkah-7-validasi-input-search)
  - [Langkah 8: Membuat Fungsi searchAPIData](#langkah-8-membuat-fungsi-searchapidata)
  - [Langkah 9: Menghubungkan dengan Init Function](#langkah-9-menghubungkan-dengan-init-function)
- [Testing](#testing)
- [Kode Lengkap](#kode-lengkap)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar membuat **fitur pencarian (search functionality)** untuk aplikasi movie Flixx. Fitur ini akan memungkinkan pengguna untuk:

âœ… Mencari film atau TV show berdasarkan kata kunci  
âœ… Memfilter hasil berdasarkan tipe (Movies atau TV Shows)  
âœ… Menampilkan alert custom jika input kosong  
âœ… Mengambil data dari API berdasarkan pencarian

---

<a name="konsep-dasar"></a>
## ğŸ“š Konsep Dasar

<a name="apa-itu-url-search-params"></a>
### ğŸ” Apa itu URL Search Params?

**URL Search Params** adalah cara untuk membaca parameter dari URL. Misalnya:

```
http://example.com/search.html?type=movie&search-term=goodfellas
```

- `?` = tanda awal query string
- `type=movie` = parameter pertama
- `&` = pemisah antar parameter
- `search-term=goodfellas` = parameter kedua

<a name="apa-itu-global-state"></a>
### ğŸŒ Apa itu Global State?

**Global State** adalah object JavaScript yang menyimpan data yang bisa diakses dari mana saja dalam aplikasi. Ini seperti "memory" aplikasi kita.

<a name="apa-itu-query-string"></a>
### ğŸ”— Apa itu Query String?

**Query String** adalah bagian URL setelah tanda `?`. Ini digunakan untuk mengirim data melalui URL.

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

<a name="struktur-html-form"></a>
### ğŸ“ Struktur HTML Form

Pastikan di `index.html` kita punya form seperti ini:

```html
<form action="/search.html" class="search-form">
  <!-- Radio buttons untuk memilih Movies atau TV Shows -->
  <div class="search-radio">
    <input type="radio" id="movie" name="type" value="movie" checked />
    <label for="movies">Movies</label>
    <input type="radio" id="tv" name="type" value="tv" />
    <label for="shows">TV Shows</label>
  </div>
  
  <!-- Input text untuk kata kunci pencarian -->
  <div class="search-flex">
    <input
      type="text"
      name="search-term"
      id="search-term"
      placeholder="Enter search term"
    />
    <button class="btn" type="submit">
      <i class="fas fa-search"></i>
    </button>
  </div>
</form>
```

**ğŸ“Œ Penting:**
- Attribute `name="type"` pada radio button â†’ akan jadi parameter URL
- Attribute `name="search-term"` pada input text â†’ akan jadi parameter URL
- `action="/search.html"` â†’ redirect ke halaman search setelah submit

<a name="struktur-kode-awal"></a>
### ğŸ“„ Struktur Kode Awal

Ini adalah kode `script.js` sebelum kita mulai (Document 2):

```javascript
const global = {
  currentPage: window.location.pathname,
};

// ... fungsi-fungsi lainnya ...

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`,
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displaySlider();
      displayPopularMovies();
      break;
    // ... case lainnya ...
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}
```

---

<a name="langkah-langkah-implementasi"></a>
## ğŸš€ Langkah-langkah Implementasi

<a name="langkah-1-membuat-global-state-untuk-search"></a>
### ğŸ“¦ Langkah 1: Membuat Global State untuk Search

**ğŸ¯ Tujuan:** Menyimpan data search yang bisa diakses dari mana saja

**âœï¸ Kode yang diubah:**

```javascript
const global = {
  currentPage: window.location.pathname,
  // â­ TAMBAHKAN INI - Object untuk menyimpan state search
  search: {
    term: '',        // kata kunci pencarian
    type: '',        // movie atau tv
    page: 1,         // halaman saat ini (untuk pagination)
    totalPages: 1,   // total halaman hasil
  },
};
```

**ğŸ’¡ Penjelasan:**
- `term`: menyimpan kata yang dicari (misal: "goodfellas")
- `type`: menyimpan tipe pencarian (movie/tv)
- `page`: untuk pagination (nanti di video selanjutnya)
- `totalPages`: total halaman hasil pencarian

---

<a name="langkah-2-memindahkan-api-config-ke-global-state"></a>
### ğŸ”‘ Langkah 2: Memindahkan API Config ke Global State

**ğŸ¯ Tujuan:** Agar API_KEY dan API_URL bisa digunakan di banyak fungsi

**âœï¸ Kode yang diubah:**

```javascript
const global = {
  currentPage: window.location.pathname,
  search: {
    term: '',
    type: '',
    page: 1,
    totalPages: 1,
  },
  // â­ TAMBAHKAN INI - API configuration
  api: {
    apiKey: '', // Isi dengan API key kamu dari TMDB
    apiUrl: 'https://api.themoviedb.org/3/',
  },
};
```

**âœï¸ Update fungsi `fetchAPIData`:**

```javascript
async function fetchAPIData(endpoint) {
  // âŒ HAPUS INI:
  // const API_KEY = '';
  // const API_URL = 'https://api.themoviedb.org/3/';

  // âœ… GANTI DENGAN INI:
  const API_KEY = global.api.apiKey;
  const API_URL = global.api.apiUrl;

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}
```

**ğŸ’¡ Penjelasan:**
Sekarang `API_KEY` dan `API_URL` diambil dari `global.api` sehingga bisa digunakan di fungsi lain.

---

<a name="langkah-3-membuat-fungsi-search"></a>
### ğŸ” Langkah 3: Membuat Fungsi Search

**ğŸ¯ Tujuan:** Membuat fungsi utama yang akan dijalankan saat halaman search dibuka

**âœï¸ Tambahkan fungsi baru (letakkan di atas fungsi `displaySlider`):**

```javascript
// â­ FUNGSI BARU - Search Movies/Shows
async function search() {
  // Nanti kita isi step by step
}
```

**ğŸ’¡ Penjelasan:**
Fungsi ini akan:
1. Mengambil data dari URL
2. Validasi input
3. Request data ke API
4. Menampilkan hasil

---

<a name="langkah-4-mengambil-data-dari-url"></a>
### ğŸŒ Langkah 4: Mengambil Data dari URL

**ğŸ¯ Tujuan:** Membaca parameter `type` dan `search-term` dari URL

**âœï¸ Isi fungsi `search()`:**

```javascript
async function search() {
  // â­ STEP 1: Ambil query string dari URL
  const queryString = window.location.search;
  console.log(queryString); // Contoh: ?type=movie&search-term=goodfellas

  // â­ STEP 2: Parse query string menggunakan URLSearchParams
  const urlParams = new URLSearchParams(queryString);
  console.log(urlParams); // URLSearchParams object

  // â­ STEP 3: Ambil nilai spesifik dengan method .get()
  const type = urlParams.get('type');         // 'movie' atau 'tv'
  const term = urlParams.get('search-term');  // kata kunci pencarian
  
  console.log('Type:', type);
  console.log('Term:', term);
}
```

**ğŸ’¡ Penjelasan:**
- `window.location.search` â†’ mengambil semua query string (dari `?` hingga akhir)
- `new URLSearchParams(queryString)` â†’ membuat object yang bisa kita query
- `urlParams.get('type')` â†’ mengambil nilai dari parameter `type`

**ğŸ§ª Test:**
Jika URL adalah `search.html?type=movie&search-term=goodfellas`, maka:
- `type` = `"movie"`
- `term` = `"goodfellas"`

---

<a name="langkah-5-menyimpan-ke-global-state"></a>
### ğŸ’¾ Langkah 5: Menyimpan ke Global State

**ğŸ¯ Tujuan:** Simpan data URL ke global state agar bisa diakses fungsi lain

**âœï¸ Update fungsi `search()`:**

```javascript
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  // â­ SIMPAN KE GLOBAL STATE
  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  // Test: lihat isi global state
  console.log(global.search);
  // Output: { term: 'goodfellas', type: 'movie', page: 1, totalPages: 1 }
}
```

**ğŸ’¡ Penjelasan:**
Sekarang data pencarian tersimpan di `global.search` dan bisa diakses dari mana saja!

---

<a name="langkah-6-membuat-custom-alert"></a>
### ğŸš¨ Langkah 6: Membuat Custom Alert

**ğŸ¯ Tujuan:** Membuat alert yang lebih cantik daripada `alert()` bawaan browser

**âœï¸ Tambahkan fungsi baru (letakkan di bagian bawah, di atas `addCommasToNumber`):**

```javascript
// â­ FUNGSI BARU - Show Alert
function showAlert(message, className) {
  // 1. Buat element div
  const alertEl = document.createElement('div');
  
  // 2. Tambahkan class 'alert' dan class custom (misal: 'error', 'success')
  alertEl.classList.add('alert', className);
  
  // 3. Tambahkan text message
  alertEl.appendChild(document.createTextNode(message));
  
  // 4. Masukkan ke dalam div dengan id="alert"
  document.querySelector('#alert').appendChild(alertEl);

  // 5. Hapus alert setelah 3 detik
  setTimeout(() => alertEl.remove(), 3000);
}
```

**ğŸ’¡ Penjelasan:**
- `document.createElement('div')` â†’ buat element div baru
- `classList.add('alert', className)` â†’ tambah 2 class sekaligus
- `appendChild(document.createTextNode(message))` â†’ tambah text
- `setTimeout(() => alertEl.remove(), 3000)` â†’ hapus setelah 3 detik

**ğŸ“Œ Catatan:** 
Class `alert` sudah ada di CSS dengan styling background merah, padding, dll.

---

<a name="langkah-7-validasi-input-search"></a>
### âœ… Langkah 7: Validasi Input Search

**ğŸ¯ Tujuan:** Cek apakah user mengisi search term atau tidak

**âœï¸ Update fungsi `search()`:**

```javascript
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  // â­ VALIDASI INPUT
  if (global.search.term !== '' && global.search.term !== null) {
    // âœ… Input valid - lakukan pencarian
    // TODO: make request and display results
    console.log('Valid! Siap request API');
  } else {
    // âŒ Input tidak valid - tampilkan alert
    showAlert('Please enter a search term');
  }
}
```

**ğŸ’¡ Penjelasan:**
- Cek apakah `term` tidak kosong (`!== ''`) DAN tidak null (`!== null`)
- Jika valid â†’ lanjut ke request API
- Jika tidak â†’ tampilkan alert

**ğŸ§ª Test:**
1. Buka `search.html` tanpa parameter â†’ akan muncul alert
2. Buka `search.html?type=movie&search-term=` â†’ akan muncul alert
3. Buka `search.html?type=movie&search-term=test` â†’ console log "Valid!"

---

<a name="langkah-8-membuat-fungsi-searchapidata"></a>
### ğŸŒ Langkah 8: Membuat Fungsi searchAPIData

**ğŸ¯ Tujuan:** Membuat fungsi khusus untuk request API search

**âœï¸ Tambahkan fungsi baru (letakkan di bawah `fetchAPIData`):**

```javascript
// â­ FUNGSI BARU - Make Request To Search
async function searchAPIData() {
  const API_KEY = global.api.apiKey;
  const API_URL = global.api.apiUrl;

  showSpinner();

  // Construct URL untuk search endpoint
  const response = await fetch(
    `${API_URL}search/${global.search.type}?api_key=${API_KEY}&language=en-US&query=${global.search.term}`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}
```

**ğŸ’¡ Penjelasan URL:**
```
https://api.themoviedb.org/3/search/movie?api_key=xxx&language=en-US&query=goodfellas
                                    â†‘            â†‘                          â†‘
                              type (movie/tv)  API key                 search term
```

**ğŸ“Œ Perbedaan dengan `fetchAPIData`:**
- `fetchAPIData` â†’ untuk endpoint sederhana (popular, details, dll)
- `searchAPIData` â†’ khusus untuk search (punya query parameter)

---

**âœï¸ Update fungsi `search()` untuk memanggil API:**

```javascript
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  if (global.search.term !== '' && global.search.term !== null) {
    // â­ PANGGIL API DAN AMBIL HASIL
    const results = await searchAPIData();
    console.log(results);
  } else {
    showAlert('Please enter a search term');
  }
}
```

**ğŸ’¡ Penjelasan:**
Sekarang kita memanggil `searchAPIData()` dan menyimpan hasilnya di variable `results`.

---

<a name="langkah-9-menghubungkan-dengan-init-function"></a>
### ğŸ”— Langkah 9: Menghubungkan dengan Init Function

**ğŸ¯ Tujuan:** Jalankan fungsi `search()` saat halaman search.html dibuka

**âœï¸ Update fungsi `init()`:**

```javascript
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displaySlider();
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();
      break;
    case '/search.html':
      // â­ GANTI 'console.log' DENGAN 'search()'
      search();
      break;
  }

  highlightActiveLink();
}
```

**ğŸ’¡ Penjelasan:**
Sekarang setiap kali user membuka `search.html`, fungsi `search()` akan otomatis dijalankan!

---

<a name="testing"></a>
## ğŸ§ª Testing

### Test 1: Input Kosong
1. Buka `index.html`
2. Klik search tanpa mengisi apa-apa
3. âœ… Harus muncul alert merah "Please enter a search term"
4. âœ… Alert hilang setelah 3 detik

### Test 2: Search Movie - "goodfellas"
1. Buka `index.html`
2. Pilih radio "Movies"
3. Ketik "goodfellas"
4. Klik search
5. âœ… Buka console, harus ada object dengan:
   - `page: 1`
   - `total_pages: 1`
   - `total_results: 2`
   - `results: Array(2)`

### Test 3: Search Movie - "orphan"
1. Search "orphan"
2. âœ… Buka console, harus ada:
   - `total_results: 162`
   - `total_pages: 9`
   - `results: Array(20)` â† hanya 20 per halaman

### Test 4: Search TV Show
1. Pilih radio "TV Shows"
2. Search "breaking bad"
3. âœ… Console harus menampilkan hasil TV shows

---

<a name="kode-lengkap"></a>
## ğŸ“„ Kode Lengkap

### File: script.js (Versi Final)

```javascript
const global = {
  currentPage: window.location.pathname,
  search: {
    term: '',
    type: '',
    page: 1,
    totalPages: 1,
  },
  api: {
    apiKey: '', // âš ï¸ ISI DENGAN API KEY KAMU
    apiUrl: 'https://api.themoviedb.org/3/',
  },
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}

// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// Display Show Details
async function displayShowDetails() {
  const showId = window.location.search.split('=')[1];

  const show = await fetchAPIData(`tv/${showId}`);

  // Overlay for background image
  displayBackgroundImage('tv', show.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    show.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${show.poster_path}"
    class="card-img-top"
    alt="${show.name}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${show.name}"
/>`
  }
  </div>
  <div>
    <h2>${show.name}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${show.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Last Air Date: ${show.last_air_date}</p>
    <p>
      ${show.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${show.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      show.homepage
    }" target="_blank" class="btn">Visit show Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Show Info</h2>
  <ul>
    <li><span class="text-secondary">Number of Episodes:</span> ${
      show.number_of_episodes
    }</li>
    <li><span class="text-secondary">Last Episode To Air:</span> ${
      show.last_episode_to_air.name
    }</li>
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${show.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#show-details').appendChild(div);
}

// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}

// âœ¨ FUNGSI BARU: Search Movies/Shows
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  if (global.search.term !== '' && global.search.term !== null) {
    const results = await searchAPIData();
    console.log(results);
  } else {
    showAlert('Please enter a search term');
  }
}

// Display Slider Movies
async function displaySlider() {
  const { results } = await fetchAPIData('movie/now_playing');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('swiper-slide');

    div.innerHTML = `
      <a href="movie-details.html?id=${movie.id}">
        <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}" />
      </a>
      <h4 class="swiper-rating">
        <i class="fas fa-star text-secondary"></i> ${movie.vote_average} / 10
      </h4>
    `;

    document.querySelector('.swiper-wrapper').appendChild(div);

    initSwiper();
  });
}

function initSwiper() {
  const swiper = new Swiper('.swiper', {
    slidesPerView: 1,
    spaceBetween: 30,
    freeMode: true,
    loop: true,
    autoplay: {
      delay: 4000,
      disableOnInteraction: false,
    },
    breakpoints: {
      500: {
        slidesPerView: 2,
      },
      700: {
        slidesPerView: 3,
      },
      1200: {
        slidesPerView: 4,
      },
    },
  });
}

// âœ¨ UPDATE: Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = global.api.apiKey; // âœ¨ Ambil dari global state
  const API_URL = global.api.apiUrl; // âœ¨ Ambil dari global state

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

// âœ¨ FUNGSI BARU: Make Request To Search
async function searchAPIData() {
  const API_KEY = global.api.apiKey;
  const API_URL = global.api.apiUrl;

  showSpinner();

  const response = await fetch(
    `${API_URL}search/${global.search.type}?api_key=${API_KEY}&language=en-US&query=${global.search.term}`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

// âœ¨ FUNGSI BARU: Show Alert
function showAlert(message, className) {
  const alertEl = document.createElement('div');
  alertEl.classList.add('alert', className);
  alertEl.appendChild(document.createTextNode(message));
  document.querySelector('#alert').appendChild(alertEl);

  setTimeout(() => alertEl.remove(), 3000);
}

function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

function addCommasToNumber(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// âœ¨ UPDATE: Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displaySlider();
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();
      break;
    case '/search.html':
      search(); // âœ¨ Panggil fungsi search
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="kesimpulan"></a>
## ğŸ‰ Kesimpulan

### âœ… Apa yang Sudah Kita Pelajari?

1. **URL Search Params** - Cara membaca data dari URL
2. **Global State** - Menyimpan data di level aplikasi
3. **Form Submission** - Cara kerja GET request dengan form
4. **Custom Alert** - Membuat UI alert yang lebih baik
5. **API Request** - Membuat request khusus untuk search endpoint
6. **Validation** - Memvalidasi input user

### ğŸ¯ Fitur yang Sudah Jalan

âœ… User bisa memilih Movies atau TV Shows  
âœ… User bisa mengetik kata kunci pencarian  
âœ… Validasi input (alert jika kosong)  
âœ… Request ke API TMDB berhasil  
âœ… Data hasil pencarian masuk ke console  

### ğŸš§ Yang Belum Dikerjakan

â³ Menampilkan hasil pencarian di halaman  
â³ Pagination (halaman 1, 2, 3, dst)  
â³ Styling hasil pencarian  

### ğŸ“š Video Selanjutnya

Di video berikutnya, kita akan:
- Menampilkan hasil pencarian di DOM
- Membuat card untuk setiap movie/show
- Handle "no image" untuk poster yang tidak tersedia

---

### ğŸ’¡ Tips untuk Pemula

1. **Jangan terburu-buru** - Pahami setiap langkah sebelum lanjut
2. **Console.log adalah temanmu** - Gunakan untuk debug
3. **Test setiap perubahan** - Jangan menunggu sampai semua selesai
4. **Baca error message** - Browser akan memberitahu jika ada yang salah
5. **Praktek, praktek, praktek!** - Coba modifikasi sendiri

---

**ğŸ“ Selamat! Kamu sudah menyelesaikan Part 1 dari Search Functionality!**

ğŸ“ **Catatan Penting:**
- Jangan lupa isi `apiKey` dengan API key kamu dari TMDB
- Simpan dokumentasi ini untuk referensi
- Lanjutkan ke video berikutnya untuk menampilkan hasil

---

*Dokumentasi dibuat untuk pembelajaran pribadi*  
*Version: 1.0*  
*Last Updated: 20 Januari 2026*
