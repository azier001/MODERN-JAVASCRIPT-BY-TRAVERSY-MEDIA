# ğŸ¬ Tutorial Menambahkan Background Image pada Movie Details

> **Dokumentasi Pribadi** - Tutorial step-by-step untuk pemula dalam menambahkan backdrop image pada halaman detail film menggunakan TMDB API

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa yang Akan Kita Buat?](#apa-yang-akan-kita-buat)
- [Persiapan](#persiapan)
- [Langkah 1: Memanggil Fungsi Display Background](#langkah-1-memanggil-fungsi-display-background)
- [Langkah 2: Membuat Fungsi displayBackgroundImage](#langkah-2-membuat-fungsi-displaybackgroundimage)
- [Langkah 3: Membuat Element Overlay Div](#langkah-3-membuat-element-overlay-div)
- [Langkah 4: Mengatur Background Image URL](#langkah-4-mengatur-background-image-url)
- [Langkah 5: Menambahkan Style Properties](#langkah-5-menambahkan-style-properties)
- [Langkah 6: Menentukan Target Element](#langkah-6-menentukan-target-element)
- [Hasil Akhir](#hasil-akhir)
- [Tips & Catatan](#tips--catatan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara menambahkan **backdrop image** (gambar latar belakang) pada halaman detail film. Backdrop ini akan membuat tampilan website kita lebih profesional, mirip seperti Netflix! ğŸ¥

<a name="apa-yang-akan-kita-buat"></a>
## ğŸŒŸ Apa yang Akan Kita Buat?

Kita akan menambahkan gambar latar belakang yang **transparan** di halaman detail film. Gambar ini akan:
- âœ¨ Diambil dari TMDB API (backdrop_path)
- ğŸ¨ Ditampilkan dengan opacity rendah (0.1) agar tidak mengganggu teks
- ğŸ“ Diposisikan di belakang konten (z-index: -1)
- ğŸ“± Memenuhi seluruh layar (100vh x 100vw)

---

<a name="persiapan"></a>
## ğŸ› ï¸ Persiapan

Pastikan kamu sudah memiliki:
- âœ… File `script.js` dengan fungsi `displayMovieDetails()` yang sudah berfungsi
- âœ… File `movie-details.html` dengan element `#movie-details`
- âœ… API Key dari TMDB yang aktif

**Kode Awal script.js** (sebelum modifikasi):

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}
```

---

<a name="langkah-1-memanggil-fungsi-display-background"></a>
## ğŸ“ Langkah 1: Memanggil Fungsi Display Background

### ğŸ¯ Tujuan
Menambahkan pemanggilan fungsi untuk menampilkan background image **sebelum** kita membuat div konten.

### ğŸ’» Kode yang Ditambahkan

Cari fungsi `displayMovieDetails()` dan tambahkan baris berikut **setelah** kita mendapatkan data movie dari API:

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // âœ¨ KODE BARU: Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');
  // ... sisanya tetap sama
}
```

### ğŸ“– Penjelasan

- **`displayBackgroundImage('movie', movie.backdrop_path)`** 
  - Parameter pertama: `'movie'` â†’ menentukan ini untuk halaman movie (bukan TV show)
  - Parameter kedua: `movie.backdrop_path` â†’ path gambar backdrop dari API

> ğŸ’¡ **Catatan**: Fungsi ini belum ada, kita akan membuatnya di langkah selanjutnya!

---

<a name="langkah-2-membuat-fungsi-displaybackgroundimage"></a>
## ğŸ“ Langkah 2: Membuat Fungsi displayBackgroundImage

### ğŸ¯ Tujuan
Membuat fungsi baru yang akan menampilkan backdrop pada halaman details.

### ğŸ’» Kode yang Ditambahkan

Tambahkan fungsi baru ini **setelah** fungsi `displayMovieDetails()`:

```javascript
// âœ¨ KODE BARU: Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  // Kode akan kita isi bertahap di langkah selanjutnya
}
```

### ğŸ“– Penjelasan

- **`type`**: Parameter untuk membedakan antara 'movie' atau 'show' (TV series)
- **`backgroundPath`**: Path gambar dari API (contoh: `/abc123.jpg`)

> ğŸ’¡ **Mengapa perlu parameter `type`?** Karena nanti kita akan gunakan fungsi yang sama untuk TV shows, dan target element-nya berbeda (`#movie-details` vs `#show-details`)

---

<a name="langkah-3-membuat-element-overlay-div"></a>
## ğŸ“ Langkah 3: Membuat Element Overlay Div

### ğŸ¯ Tujuan
Membuat element `<div>` yang akan menjadi container untuk background image.

### ğŸ’» Kode yang Ditambahkan

Lengkapi fungsi `displayBackgroundImage()`:

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  // âœ¨ KODE BARU: Membuat element div
  const overlayDiv = document.createElement('div');
}
```

### ğŸ“– Penjelasan

- **`document.createElement('div')`**: Membuat element `<div>` baru di memori
- **`overlayDiv`**: Variabel untuk menyimpan element div tersebut

> ğŸ’¡ **Info**: Element ini belum terlihat di halaman karena belum di-append ke DOM!

---

<a name="langkah-4-mengatur-background-image-url"></a>
## ğŸ“ Langkah 4: Mengatur Background Image URL

### ğŸ¯ Tujuan
Menambahkan style `backgroundImage` dengan URL lengkap dari TMDB.

### ğŸ’» Kode yang Ditambahkan

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  // âœ¨ KODE BARU: Set background image URL
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
}
```

### ğŸ“– Penjelasan

- **`https://image.tmdb.org/t/p/original/`**: Base URL untuk gambar TMDB
- **`original`**: Size yang kita pilih (ukuran asli/terbesar)
- **`${backgroundPath}`**: Path spesifik dari API (contoh: `/abc123.jpg`)

**URL Lengkap Contoh**: 
```
https://image.tmdb.org/t/p/original/abc123.jpg
```

> âš ï¸ **Penting**: Pastikan gunakan backtick (\`) bukan quote biasa, agar bisa pakai template literal `${}`

---

<a name="langkah-5-menambahkan-style-properties"></a>
## ğŸ“ Langkah 5: Menambahkan Style Properties

### ğŸ¯ Tujuan
Menambahkan berbagai CSS properties agar backdrop terlihat sempurna.

### ğŸ’» Kode yang Ditambahkan

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  
  // âœ¨ KODE BARU: Style properties untuk backdrop
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';
}
```

### ğŸ“– Penjelasan Detail

| Property | Value | Fungsi |
|----------|-------|--------|
| **backgroundSize** | `cover` | ğŸ–¼ï¸ Gambar menutupi seluruh area tanpa distorsi |
| **backgroundPosition** | `center` | ğŸ“ Gambar di-posisikan di tengah |
| **backgroundRepeat** | `no-repeat` | ğŸš« Gambar tidak diulang/tile |
| **height** | `100vh` | ğŸ“ Tinggi 100% viewport (tinggi layar) |
| **width** | `100vw` | ğŸ“ Lebar 100% viewport (lebar layar) |
| **position** | `absolute` | ğŸ“Œ Posisi absolute terhadap parent |
| **top** | `0` | â¬†ï¸ Mulai dari atas (0px dari top) |
| **left** | `0` | â¬…ï¸ Mulai dari kiri (0px dari left) |
| **zIndex** | `-1` | ğŸšï¸ Di belakang konten lain |
| **opacity** | `0.1` | ğŸ’§ Transparansi 10% (90% transparan) |

> ğŸ’¡ **Tips**: Kamu bisa ubah nilai `opacity` dari `0.1` ke nilai lain (0.2, 0.3, dst) kalau ingin backdrop lebih terlihat. Tapi jangan terlalu tinggi agar teks tetap terbaca!

---

<a name="langkah-6-menentukan-target-element"></a>
## ğŸ“ Langkah 6: Menentukan Target Element

### ğŸ¯ Tujuan
Menambahkan overlay div ke element yang sesuai (`#movie-details` atau `#show-details`).

### ğŸ’» Kode yang Ditambahkan

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  // âœ¨ KODE BARU: Append ke element yang sesuai
  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}
```

### ğŸ“– Penjelasan

**Kondisi `if-else`:**
- **Jika `type === 'movie'`**: 
  - Append ke `#movie-details`
  - Digunakan untuk halaman detail film
  
- **Jika bukan (else)**:
  - Append ke `#show-details`
  - Digunakan untuk halaman detail TV show

> ğŸ’¡ **Fungsi `appendChild()`**: Menambahkan element sebagai child terakhir dari parent element

---

<a name="hasil-akhir"></a>
## ğŸ‰ Hasil Akhir

### Kode Lengkap `script.js` Setelah Modifikasi

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}

// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // âœ¨ BARIS BARU: Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// âœ¨ FUNGSI BARU: Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

function addCommasToNumber(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

### ğŸ¯ Apa yang Berubah?

**Ringkasan Perubahan:**

1. âœ¨ **Baris baru** di `displayMovieDetails()`:
   ```javascript
   displayBackgroundImage('movie', movie.backdrop_path);
   ```

2. âœ¨ **Fungsi baru** `displayBackgroundImage()`:
   - Membuat overlay div
   - Mengatur background image dari TMDB
   - Menambahkan style properties
   - Append ke element yang sesuai

---

<a name="tips--catatan"></a>
## ğŸ’¡ Tips & Catatan

### ğŸ¨ Kustomisasi Opacity

Jika backdrop terlalu terang atau gelap, ubah nilai opacity:

```javascript
// Backdrop lebih terlihat (20%)
overlayDiv.style.opacity = '0.2';

// Backdrop hampir tidak terlihat (5%)
overlayDiv.style.opacity = '0.05';

// Backdrop cukup terlihat (30%) - TIDAK DIREKOMENDASIKAN
overlayDiv.style.opacity = '0.3'; // Teks mungkin susah dibaca
```

### ğŸ” Troubleshooting

**Problem**: Backdrop tidak muncul
- âœ… Cek apakah `movie.backdrop_path` ada nilainya (bukan null/undefined)
- âœ… Pastikan element `#movie-details` sudah ada di HTML
- âœ… Cek console browser untuk error

**Problem**: Backdrop menutupi konten
- âœ… Pastikan `zIndex` bernilai `-1` (negatif)
- âœ… Cek apakah parent element punya `position: relative`

### ğŸš€ Next Steps

Langkah selanjutnya yang bisa kamu lakukan:
1. âœ… Terapkan fungsi yang sama untuk TV shows
2. âœ… Tambahkan animasi fade-in saat backdrop muncul
3. âœ… Tambahkan blur effect pada backdrop

### ğŸ“š Referensi

- [TMDB API Documentation](https://developers.themoviedb.org/3)
- [MDN - CSS Background](https://developer.mozilla.org/en-US/docs/Web/CSS/background)
- [MDN - appendChild()](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)

---

**ğŸŠ Selamat!** Kamu sudah berhasil menambahkan backdrop image pada halaman detail film. Website-mu sekarang terlihat lebih profesional seperti Netflix! ğŸ¿

---

> ğŸ“ **Catatan Dokumentasi**: Dibuat untuk pembelajaran pribadi â€¢ Terakhir diupdate: 2026
