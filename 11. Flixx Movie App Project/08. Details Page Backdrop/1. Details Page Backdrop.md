# ğŸ¬ Dokumentasi: Menambahkan Background Image pada Movie Details

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Backdrop Image?](#apa-itu-backdrop-image)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Memanggil Fungsi Display Background](#langkah-1-memanggil-fungsi-display-background)
- [Langkah 2: Membuat Fungsi displayBackgroundImage](#langkah-2-membuat-fungsi-displaybackgroundimage)
- [Langkah 3: Mengatur Style untuk Overlay](#langkah-3-mengatur-style-untuk-overlay)
- [Langkah 4: Menentukan Tempat Menampilkan Background](#langkah-4-menentukan-tempat-menampilkan-background)
- [Kode Lengkap](#kode-lengkap)
- [Hasil Akhir](#hasil-akhir)
- [Tips Tambahan](#tips-tambahan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Pada dokumentasi ini, kita akan belajar cara menambahkan **background image** (backdrop) pada halaman detail movie. Background ini akan membuat tampilan website kita terlihat lebih profesional, seperti Netflix! ğŸ¥âœ¨

Background image ini didapatkan dari API TMDB dan akan ditampilkan dengan efek transparan di belakang konten detail movie.

---

<a name="apa-itu-backdrop-image"></a>
## ğŸ“– Apa itu Backdrop Image?

**Backdrop Image** adalah gambar latar belakang yang diambil dari film atau TV show. Gambar ini biasanya berupa screenshot dari film yang ditampilkan dengan efek blur atau transparan agar tidak mengganggu keterbacaan teks.

**Contoh:**
- Saat kamu membuka detail film di Netflix, kamu akan melihat gambar besar di background
- Gambar tersebut adalah backdrop image dari film tersebut

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

### File HTML yang Digunakan

File `movie-details.html` sudah memiliki elemen dengan ID `#movie-details` yang akan menjadi container untuk menampilkan backdrop:

```html
<!-- Movie Details Output -->
<div id="movie-details"></div>
```

### File JavaScript yang Digunakan

Kita akan memodifikasi file `script.js` dengan menambahkan:
1. Pemanggilan fungsi untuk display background
2. Fungsi baru untuk membuat backdrop image

---

<a name="langkah-1-memanggil-fungsi-display-background"></a>
## ğŸ“ Langkah 1: Memanggil Fungsi Display Background

### Lokasi: Function `displayMovieDetails()`

Kita akan menambahkan pemanggilan fungsi `displayBackgroundImage()` **SEBELUM** membuat div untuk detail movie.

#### âœ… Kode SEBELUM Dimodifikasi:

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  // ... kode detail movie
```

#### âœ¨ Kode SETELAH Dimodifikasi:

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // ğŸ¨ BARIS BARU - Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  // ... kode detail movie
```

### ğŸ” Penjelasan:

- **`displayBackgroundImage('movie', movie.backdrop_path)`** â†’ Memanggil fungsi untuk menampilkan background
  - Parameter pertama: `'movie'` â†’ Menandakan ini adalah halaman movie (bukan TV show)
  - Parameter kedua: `movie.backdrop_path` â†’ Path gambar backdrop dari API

---

<a name="langkah-2-membuat-fungsi-displaybackgroundimage"></a>
## ğŸ¨ Langkah 2: Membuat Fungsi displayBackgroundImage

Sekarang kita akan membuat fungsi baru yang bernama `displayBackgroundImage()`. Fungsi ini akan membuat elemen div untuk backdrop image.

### ğŸ“ Lokasi Penambahan

Tambahkan fungsi ini **SETELAH** fungsi `displayMovieDetails()` dan **SEBELUM** fungsi `fetchAPIData()`.

#### âœ¨ Kode Fungsi Baru:

```javascript
// ğŸ¬ Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  
  // Style properties akan ditambahkan di langkah berikutnya
}
```

### ğŸ” Penjelasan:

1. **`function displayBackgroundImage(type, backgroundPath)`**
   - `type` â†’ Jenis halaman ('movie' atau 'show')
   - `backgroundPath` â†’ Path gambar dari API

2. **`const overlayDiv = document.createElement('div')`**
   - Membuat elemen `<div>` baru untuk menampung background image

3. **`overlayDiv.style.backgroundImage`**
   - Mengatur gambar background dengan URL dari TMDB
   - `https://image.tmdb.org/t/p/original/` â†’ URL dasar untuk gambar TMDB ukuran original
   - `${backgroundPath}` â†’ Path spesifik gambar yang diambil dari API

---

<a name="langkah-3-mengatur-style-untuk-overlay"></a>
## ğŸ¨ Langkah 3: Mengatur Style untuk Overlay

Sekarang kita akan menambahkan berbagai properti CSS melalui JavaScript agar backdrop terlihat bagus.

#### âœ¨ Kode Lengkap dengan Style:

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  
  // ğŸ¨ Style untuk background
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';
}
```

### ğŸ” Penjelasan Detail Setiap Style:

| Property | Value | Penjelasan |
|----------|-------|------------|
| `backgroundSize` | `'cover'` | ğŸ“ Gambar akan menutupi seluruh area dengan proporsi tetap |
| `backgroundPosition` | `'center'` | ğŸ¯ Gambar akan di-center (tengah) |
| `backgroundRepeat` | `'no-repeat'` | ğŸš« Gambar tidak akan diulang |
| `height` | `'100vh'` | ğŸ“ Tinggi 100% dari viewport (tinggi layar) |
| `width` | `'100vw'` | ğŸ“ Lebar 100% dari viewport (lebar layar) |
| `position` | `'absolute'` | ğŸ“ Posisi absolute agar bisa bebas diatur |
| `top` | `'0'` | â¬†ï¸ Mulai dari atas (0px dari atas) |
| `left` | `'0'` | â¬…ï¸ Mulai dari kiri (0px dari kiri) |
| `zIndex` | `'-1'` | ğŸ“š Di belakang konten (angka negatif = paling belakang) |
| `opacity` | `'0.1'` | ğŸ‘» Transparan 90% (hanya 10% terlihat) |

### ğŸ’¡ Kenapa Opacity 0.1?

- Opacity `0.1` membuat background **sangat transparan** (hanya 10% terlihat)
- Ini agar teks tetap mudah dibaca
- Jika opacity terlalu tinggi (misal 0.5), teks akan sulit dibaca

---

<a name="langkah-4-menentukan-tempat-menampilkan-background"></a>
## ğŸ“ Langkah 4: Menentukan Tempat Menampilkan Background

Sekarang kita akan menambahkan logika untuk menentukan **di mana** backdrop akan ditampilkan. Karena fungsi ini akan digunakan untuk movie DAN TV show, kita perlu pengecekan.

#### âœ¨ Kode Lengkap Final:

```javascript
// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  // âœ… Menentukan tempat append berdasarkan type
  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}
```

### ğŸ” Penjelasan Conditional:

```javascript
if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
} else {
    document.querySelector('#show-details').appendChild(overlayDiv);
}
```

- **Jika `type === 'movie'`**
  - Backdrop akan ditambahkan ke elemen `#movie-details`
  
- **Jika bukan movie (berarti TV show)**
  - Backdrop akan ditambahkan ke elemen `#show-details`

- **`appendChild(overlayDiv)`**
  - Menambahkan div backdrop sebagai child dari elemen details

---

<a name="kode-lengkap"></a>
## ğŸ“„ Kode Lengkap

### File: `script.js` (Bagian yang Dimodifikasi)

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // ğŸ¨ DITAMBAHKAN - Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// ğŸ¬ FUNGSI BARU - Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}
```

---

<a name="hasil-akhir"></a>
## âœ¨ Hasil Akhir

Setelah implementasi selesai:

1. âœ… Saat membuka halaman detail movie, background image akan muncul
2. âœ… Background akan menutupi seluruh layar dengan opacity rendah
3. âœ… Teks tetap mudah dibaca karena background sangat transparan
4. âœ… Tampilan menjadi lebih profesional seperti Netflix

---

## ğŸ“¦ Kode Lengkap script.js (FULL VERSION)

Berikut adalah **kode lengkap** file `script.js` setelah semua perubahan diterapkan:

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}

// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // ğŸ¨ âœ¨ BARIS BARU - Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> ${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> ${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// ğŸ¬ âœ¨ FUNGSI BARU - Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  // Register your key at https://www.themoviedb.org/settings/api and enter here
  // Only use this for development or very small projects. You should store your key and make requests from a server
  const API_KEY = ''; // âš ï¸ ISI DENGAN API KEY KAMU
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

function addCommasToNumber(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

### ğŸ” Ringkasan Perubahan:

| No | Perubahan | Lokasi | Keterangan |
|----|-----------|--------|------------|
| 1ï¸âƒ£ | ğŸ¨ `displayBackgroundImage('movie', movie.backdrop_path);` | Function `displayMovieDetails()` | Memanggil fungsi backdrop sebelum membuat div |
| 2ï¸âƒ£ | ğŸ¬ **Fungsi Baru** `displayBackgroundImage()` | Setelah `displayMovieDetails()` | Fungsi lengkap untuk menampilkan backdrop image |

### âš ï¸ Jangan Lupa:
- **Isi API_KEY** di fungsi `fetchAPIData()` dengan API key kamu dari TMDB!
- Tanpa API key, data tidak akan muncul

---

<a name="tips-tambahan"></a>
## ğŸ’¡ Tips Tambahan

### ğŸ¨ Mengubah Tingkat Transparansi

Jika kamu ingin background lebih terlihat:

```javascript
overlayDiv.style.opacity = '0.2'; // Background lebih terlihat
```

Jika kamu ingin background lebih pudar:

```javascript
overlayDiv.style.opacity = '0.05'; // Background hampir tidak terlihat
```

> âš ï¸ **PENTING:** Jangan set opacity terlalu tinggi (misalnya 0.5) karena akan membuat teks sulit dibaca!

### ğŸ”„ Untuk TV Show

Fungsi yang sama akan digunakan untuk TV show. Nanti kita tinggal panggil dengan:

```javascript
displayBackgroundImage('show', show.backdrop_path);
```

### ğŸŒ URL Gambar TMDB

Format URL lengkap untuk gambar TMDB:
```
https://image.tmdb.org/t/p/{size}/{backdrop_path}
```

Pilihan ukuran:
- `w300` - Kecil
- `w780` - Medium
- `w1280` - Besar
- `original` - Ukuran asli (yang kita gunakan)

---

## ğŸ‰ Selesai!

Sekarang halaman movie details kamu sudah memiliki backdrop image yang keren! Tampilan website-mu sudah terlihat lebih profesional seperti platform streaming film modern! ğŸ¬âœ¨

**Next Step:** Di video berikutnya, kita akan menerapkan hal yang sama untuk TV Show Details! ğŸ“º

---

**ğŸ“ Catatan Penting:**
- Pastikan API key sudah diisi di fungsi `fetchAPIData()`
- Backdrop path harus tersedia dari API
- Jika backdrop tidak muncul, cek Console untuk error

**ğŸ”— Link Berguna:**
- [TMDB API Documentation](https://developers.themoviedb.org/3)
- [TMDB Image Documentation](https://developers.themoviedb.org/3/getting-started/images)
