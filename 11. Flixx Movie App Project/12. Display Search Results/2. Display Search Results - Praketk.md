# ğŸ¬ Tutorial Membuat Fitur Pencarian Film & TV Show

> ğŸ“š Dokumentasi Pribadi - Belajar Step by Step untuk Pemula

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Memperbaiki Fungsi showAlert](#langkah-1-memperbaiki-fungsi-showalert)
- [Langkah 2: Mengambil Data dari API](#langkah-2-mengambil-data-dari-api)
- [Langkah 3: Validasi Hasil Pencarian](#langkah-3-validasi-hasil-pencarian)
- [Langkah 4: Membuat Fungsi Display Search Results](#langkah-4-membuat-fungsi-display-search-results)
- [Langkah 5: Membersihkan Input Pencarian](#langkah-5-membersihkan-input-pencarian)
- [Langkah 6: Membuat Template Card Dinamis](#langkah-6-membuat-template-card-dinamis)
- [Langkah 7: Menampilkan Hasil ke DOM](#langkah-7-menampilkan-hasil-ke-dom)
- [Langkah 8: Menghapus Dummy Data di HTML](#langkah-8-menghapus-dummy-data-di-html)
- [Testing dan Troubleshooting](#testing-dan-troubleshooting)
- [Kode Lengkap](#kode-lengkap)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara membuat **fitur pencarian film dan TV show** menggunakan API TMDB (The Movie Database). Fitur ini akan menampilkan hasil pencarian dalam bentuk card yang cantik dan responsif.

### âœ¨ Apa yang akan kita pelajari?

- Mengambil data dari API berdasarkan input user
- Validasi data hasil pencarian
- Menampilkan hasil secara dinamis
- Menangani perbedaan struktur data antara Movie dan TV Show
- Error handling yang baik

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

Sebelum memulai, pastikan kamu sudah punya:

1. âœ… File `script.js` dengan kode dasar
2. âœ… File `search.html` dengan struktur HTML
3. âœ… API Key dari TMDB
4. âœ… Fungsi `searchAPIData()` yang sudah ada

### ğŸ“„ Kode Awal di `script.js`

```javascript
// Search Movies/Shows
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  if (global.search.term !== '' && global.search.term !== null) {
    const results = await searchAPIData();
    console.log(results); // Kita masih console.log aja
  } else {
    showAlert('Please enter a search term');
  }
}
```

---

<a name="langkah-1-memperbaiki-fungsi-showalert"></a>
## ğŸ”§ Langkah 1: Memperbaiki Fungsi showAlert

### ğŸ“ Masalah yang Ditemukan

Saat ini, fungsi `showAlert` tidak menerima parameter untuk warna (error/success). Kita perlu memperbaikinya agar lebih fleksibel.

### ğŸ’¡ Solusi

#### 1.1 Update CSS (jika belum ada)

Pastikan di CSS kamu sudah ada class `.alert-error` dan `.alert-success`:

```css
/* Pastikan kode ini ada di style.css */
.alert {
  padding: 10px 20px;
  margin-bottom: 20px;
  border-radius: 5px;
}

.alert-error {
  background: red; /* âœ¨ TAMBAHKAN */
  color: white;
}

.alert-success {
  background: green; /* âœ¨ TAMBAHKAN */
  color: white;
}
```

#### 1.2 Update Fungsi showAlert

Ubah fungsi `showAlert` menjadi seperti ini:

```javascript
// Show Alert
function showAlert(message, className = 'error') { // âœ¨ TAMBAHKAN default parameter
  const alertEl = document.createElement('div');
  alertEl.classList.add('alert', className); // âš ï¸ UBAH: sekarang className bersifat dinamis
  alertEl.appendChild(document.createTextNode(message));
  document.querySelector('#alert').appendChild(alertEl);

  setTimeout(() => alertEl.remove(), 3000);
}
```

### ğŸ¨ Penjelasan Perubahan

- **`className = 'error'`**: Ini adalah *default parameter*. Jika kita tidak memasukkan parameter kedua, otomatis akan jadi `'error'`
- Sekarang kita bisa panggil:
  - `showAlert('Pesan error')` â†’ merah (default)
  - `showAlert('Berhasil!', 'success')` â†’ hijau

---

<a name="langkah-2-mengambil-data-dari-api"></a>
## ğŸ“¡ Langkah 2: Mengambil Data dari API

### ğŸ¯ Tujuan

Kita perlu mengambil beberapa data dari hasil API, yaitu:
- `results` - array berisi data film/show
- `total_pages` - total halaman (untuk pagination nanti)
- `page` - halaman saat ini

### ğŸ“ Kode Sebelumnya

```javascript
const results = await searchAPIData();
console.log(results);
```

### âœ¨ Kode Sesudahnya (Destructuring)

```javascript
// âœ¨ UBAH: Gunakan destructuring untuk ambil data yang diperlukan
const { results, total_pages, page } = await searchAPIData();
```

### ğŸ’¡ Penjelasan

**Destructuring** adalah cara singkat untuk mengambil nilai dari object:

```javascript
// Cara lama:
const data = await searchAPIData();
const results = data.results;
const total_pages = data.total_pages;
const page = data.page;

// Cara baru (lebih singkat):
const { results, total_pages, page } = await searchAPIData();
```

---

<a name="langkah-3-validasi-hasil-pencarian"></a>
## âœ… Langkah 3: Validasi Hasil Pencarian

### ğŸ¯ Tujuan

Kita perlu mengecek apakah hasil pencarian ada atau tidak. Jika tidak ada, tampilkan pesan error.

### âœ¨ Tambahkan Kode Validasi

Tambahkan kode ini **setelah** destructuring:

```javascript
const { results, total_pages, page } = await searchAPIData();

// âœ¨ TAMBAHKAN: Validasi jika tidak ada hasil
if (results.length === 0) {
  showAlert('No results found'); // Menggunakan default 'error'
  return; // Hentikan eksekusi fungsi
}

// âœ¨ TAMBAHKAN: Jika ada hasil, tampilkan
displaySearchResults(results);

// âœ¨ TAMBAHKAN: Bersihkan input setelah search
document.querySelector('#search-term').value = '';
```

### ğŸ“– Penjelasan Lengkap

```javascript
if (results.length === 0) {
```
- `results` adalah array
- `.length` mengecek panjang array
- Jika `0` berarti tidak ada data

```javascript
return;
```
- Menghentikan fungsi agar kode di bawahnya tidak dijalankan

---

<a name="langkah-4-membuat-fungsi-display-search-results"></a>
## ğŸ¨ Langkah 4: Membuat Fungsi Display Search Results

### ğŸ¯ Tujuan

Membuat fungsi baru untuk menampilkan hasil pencarian ke dalam card.

### ğŸ“ Buat Fungsi Baru

Tulis fungsi baru **di bawah** fungsi `search()`:

```javascript
// âœ¨ FUNGSI BARU: Menampilkan hasil pencarian
function displaySearchResults(results) {
  // Kita akan isi di langkah berikutnya
}
```

### ğŸ”„ Copy Template dari Fungsi Lain

Karena struktur card-nya mirip dengan popular movies, kita bisa copy dari sana:

1. Buka fungsi `displayPopularMovies()`
2. Copy bagian **forEach** nya
3. Paste ke fungsi `displaySearchResults`

```javascript
function displaySearchResults(results) {
  // âœ¨ COPY dari displayPopularMovies
  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
      <!-- Template akan kita ubah di langkah berikutnya -->
    `;
    document.querySelector('#popular-movies').appendChild(div);
  });
}
```

---

<a name="langkah-5-membersihkan-input-pencarian"></a>
## ğŸ§¹ Langkah 5: Membersihkan Input Pencarian

### ğŸ¯ Tujuan

Setelah user melakukan pencarian, input field harus dikosongkan.

### âœ¨ Tambahkan Kode di Fungsi search()

```javascript
// Di dalam fungsi search(), setelah displaySearchResults
displaySearchResults(results);

// âœ¨ TAMBAHKAN: Bersihkan input
document.querySelector('#search-term').value = '';
```

### ğŸ“– Penjelasan

```javascript
document.querySelector('#search-term')
```
- Memilih element input dengan id `search-term`

```javascript
.value = '';
```
- Mengosongkan nilai input

---

<a name="langkah-6-membuat-template-card-dinamis"></a>
## ğŸ­ Langkah 6: Membuat Template Card Dinamis

### ğŸ¯ Tujuan

Membuat template card yang bisa menampilkan **Movie** atau **TV Show** secara dinamis.

### âš ï¸ Perbedaan Movie vs TV Show

| Data | Movie | TV Show |
|------|-------|---------|
| Judul | `title` | `name` |
| Tanggal | `release_date` | `first_air_date` |
| URL Detail | `movie-details.html` | `tv-details.html` |

### âœ¨ Update Fungsi displaySearchResults

```javascript
function displaySearchResults(results) {
  // âš ï¸ UBAH: Ganti 'movie' jadi 'result'
  results.forEach((result) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="${global.search.type}-details.html?id=${result.id}">
            ${
              result.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500/${result.poster_path}"
              class="card-img-top"
              alt="${
                global.search.type === 'movie' ? result.title : result.name
              }"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
             alt="${
               global.search.type === 'movie' ? result.title : result.name
             }"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${
              global.search.type === 'movie' ? result.title : result.name
            }</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${
                global.search.type === 'movie'
                  ? result.release_date
                  : result.first_air_date
              }</small>
            </p>
          </div>
        `;

    // âš ï¸ UBAH: Ganti selector ke #search-results
    document.querySelector('#search-results').appendChild(div);
  });
}
```

### ğŸ” Mari Kita Bedah Satu per Satu!

#### 6.1 URL Detail Dinamis

```javascript
<a href="${global.search.type}-details.html?id=${result.id}">
```

**Penjelasan:**
- `global.search.type` bisa berisi `'movie'` atau `'tv'`
- Jika movie â†’ `movie-details.html?id=123`
- Jika tv â†’ `tv-details.html?id=123`

#### 6.2 Menampilkan Gambar dengan Slash (/)

```javascript
src="https://image.tmdb.org/t/p/w500/${result.poster_path}"
```

**âš ï¸ PERHATIAN:** Tambahkan `/` setelah `w500`!

```javascript
// âŒ SALAH (undefined)
src="https://image.tmdb.org/t/p/w500${result.poster_path}"

// âœ… BENAR
src="https://image.tmdb.org/t/p/w500/${result.poster_path}"
```

#### 6.3 Ternary Operator untuk Title/Name

```javascript
${global.search.type === 'movie' ? result.title : result.name}
```

**Penjelasan Ternary:**

```javascript
kondisi ? nilaiJikaTrue : nilaiJikaFalse
```

**Contoh:**
- Jika `global.search.type === 'movie'` â†’ `true` â†’ gunakan `result.title`
- Jika `global.search.type === 'tv'` â†’ `false` â†’ gunakan `result.name`

#### 6.4 Tanggal Release Dinamis

```javascript
${
  global.search.type === 'movie'
    ? result.release_date
    : result.first_air_date
}
```

**Penjelasan:**
- Movie punya `release_date`
- TV Show punya `first_air_date`

---

<a name="langkah-7-menampilkan-hasil-ke-dom"></a>
## ğŸ–¼ï¸ Langkah 7: Menampilkan Hasil ke DOM

### ğŸ¯ Tujuan

Pastikan hasil pencarian ditampilkan di tempat yang benar di HTML.

### âœ¨ Update Selector

Di bagian akhir fungsi `displaySearchResults`:

```javascript
// âš ï¸ UBAH dari #popular-movies ke #search-results
document.querySelector('#search-results').appendChild(div);
```

### ğŸ“„ Pastikan HTML Sudah Benar

Di file `search.html`, pastikan ada element ini:

```html
<div id="search-results" class="grid">
  <!-- Hasil pencarian akan muncul di sini -->
</div>
```

---

<a name="langkah-8-menghapus-dummy-data-di-html"></a>
## ğŸ—‘ï¸ Langkah 8: Menghapus Dummy Data di HTML

### ğŸ¯ Tujuan

Menghapus data contoh (dummy) dari HTML agar tidak bentrok dengan data dari JavaScript.

### ğŸ“ Buka File search.html

Cari bagian ini:

```html
<div id="search-results" class="grid">
  <!-- âŒ HAPUS semua dummy card di dalam sini -->
  <div class="card">...</div>
  <div class="card">...</div>
  <!-- dst... -->
</div>
```

### âœ¨ Bersihkan Menjadi:

```html
<div id="search-results" class="grid">
  <!-- âœ… Kosongkan, biarkan JavaScript yang mengisi -->
</div>
```

---

<a name="testing-dan-troubleshooting"></a>
## ğŸ§ª Testing dan Troubleshooting

### âœ… Test Case 1: Pencarian Film

1. Buka halaman search
2. Pilih radio button **"Movies"**
3. Ketik: `goodfellas`
4. Klik Search

**Expected Result:** Muncul card film Goodfellas dengan poster, judul, dan tanggal rilis.

---

### âœ… Test Case 2: Pencarian TV Show

1. Pilih radio button **"TV Shows"**
2. Ketik: `the sopranos`
3. Klik Search

**Expected Result:** Muncul card The Sopranos dengan data yang benar.

---

### âœ… Test Case 3: Tidak Ada Hasil

1. Ketik: `xyzabc123` (kata yang tidak ada)
2. Klik Search

**Expected Result:** Muncul alert merah "No results found"

---

### ğŸ› Troubleshooting

#### âŒ Masalah 1: Gambar Tidak Muncul (undefined)

**Penyebab:**
```javascript
// âŒ SALAH
src="https://image.tmdb.org/t/p/w500${result.poster_path}"
```

**Solusi:**
```javascript
// âœ… BENAR - Tambahkan slash (/)
src="https://image.tmdb.org/t/p/w500/${result.poster_path}"
```

---

#### âŒ Masalah 2: Alert Tidak Berwarna

**Penyebab:** CSS class `.alert-error` atau `.alert-success` tidak ada.

**Solusi:** Tambahkan di CSS:
```css
.alert-error {
  background: red;
  color: white;
}

.alert-success {
  background: green;
  color: white;
}
```

---

#### âŒ Masalah 3: Input Tidak Terhapus

**Penyebab:** Lupa menambahkan kode pembersihan input setelah submit

**Solusi:**
```javascript
document.querySelector('#search-term').value = '';
```

---


<a name="kode-lengkap"></a>
## ğŸ“ Kode Lengkap Final
#### File: script.js

```javascript
const global = {
  currentPage: window.location.pathname,
  search: {
    term: '',
    type: '',
    page: 1,
    totalPages: 1,
  },
  api: {
    apiKey: '',
    apiUrl: 'https://api.themoviedb.org/3/',
  },
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}

// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// Display Show Details
async function displayShowDetails() {
  const showId = window.location.search.split('=')[1];

  const show = await fetchAPIData(`tv/${showId}`);

  // Overlay for background image
  displayBackgroundImage('tv', show.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    show.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${show.poster_path}"
    class="card-img-top"
    alt="${show.name}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${show.name}"
/>`
  }
  </div>
  <div>
    <h2>${show.name}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${show.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Last Air Date: ${show.last_air_date}</p>
    <p>
      ${show.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${show.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      show.homepage
    }" target="_blank" class="btn">Visit show Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Show Info</h2>
  <ul>
    <li><span class="text-secondary">Number of Episodes:</span> ${
      show.number_of_episodes
    }</li>
    <li><span class="text-secondary">Last Episode To Air:</span> ${
      show.last_episode_to_air.name
    }</li>
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${show.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#show-details').appendChild(div);
}

// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}

// ============================================
// ğŸ” SEARCH MOVIES/SHOWS - UPDATED
// ============================================
async function search() {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);

  global.search.type = urlParams.get('type');
  global.search.term = urlParams.get('search-term');

  if (global.search.term !== '' && global.search.term !== null) {
    // âœ¨ DITAMBAH: Destructuring results, total_pages, page
    const { results, total_pages, page } = await searchAPIData();

    // âœ¨ DITAMBAH: Validasi jika results kosong
    if (results.length === 0) {
      showAlert('No results found');
      return;
    }

    // âœ¨ DITAMBAH: Panggil fungsi displaySearchResults
    displaySearchResults(results);

    // âœ¨ DITAMBAH: Clear input setelah search
    document.querySelector('#search-term').value = '';
  } else {
    showAlert('Please enter a search term');
  }
}

// ============================================
// âœ¨ FUNGSI BARU: Display Search Results
// ============================================
function displaySearchResults(results) {
  results.forEach((result) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="${global.search.type}-details.html?id=${result.id}">
            ${
              result.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500/${result.poster_path}"
              class="card-img-top"
              alt="${
                global.search.type === 'movie' ? result.title : result.name
              }"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
             alt="${
               global.search.type === 'movie' ? result.title : result.name
             }"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${
              global.search.type === 'movie' ? result.title : result.name
            }</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${
                global.search.type === 'movie'
                  ? result.release_date
                  : result.first_air_date
              }</small>
            </p>
          </div>
        `;

    document.querySelector('#search-results').appendChild(div);
  });
}

// Display Slider Movies
async function displaySlider() {
  const { results } = await fetchAPIData('movie/now_playing');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('swiper-slide');

    div.innerHTML = `
      <a href="movie-details.html?id=${movie.id}">
        <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}" />
      </a>
      <h4 class="swiper-rating">
        <i class="fas fa-star text-secondary"></i> ${movie.vote_average} / 10
      </h4>
    `;

    document.querySelector('.swiper-wrapper').appendChild(div);

    initSwiper();
  });
}

function initSwiper() {
  const swiper = new Swiper('.swiper', {
    slidesPerView: 1,
    spaceBetween: 30,
    freeMode: true,
    loop: true,
    autoplay: {
      delay: 4000,
      disableOnInteraction: false,
    },
    breakpoints: {
      500: {
        slidesPerView: 2,
      },
      700: {
        slidesPerView: 3,
      },
      1200: {
        slidesPerView: 4,
      },
    },
  });
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = global.api.apiKey;
  const API_URL = global.api.apiUrl;

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

// Make Request To Search
async function searchAPIData() {
  const API_KEY = global.api.apiKey;
  const API_URL = global.api.apiUrl;

  showSpinner();

  const response = await fetch(
    `${API_URL}search/${global.search.type}?api_key=${API_KEY}&language=en-US&query=${global.search.term}`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

// ============================================
// ğŸ”„ DIUBAH: Show Alert - Tambah default parameter
// ============================================
function showAlert(message, className = 'error') { // âœ¨ DITAMBAH: default parameter 'error'
  const alertEl = document.createElement('div');
  alertEl.classList.add('alert', className);
  alertEl.appendChild(document.createTextNode(message));
  document.querySelector('#alert').appendChild(alertEl);

  setTimeout(() => alertEl.remove(), 3000);
}

function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

function addCommasToNumber(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displaySlider();
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();
      break;
    case '/search.html':
      search();
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="kesimpulan"></a>
## ğŸ‰ Kesimpulan

### ğŸ“š Apa yang Sudah Kita Pelajari?

1. âœ… **Destructuring** untuk mengambil data dari object
2. âœ… **Validasi data** sebelum menampilkan
3. âœ… **Ternary operator** untuk kondisi sederhana
4. âœ… **Dynamic template** yang bisa handle Movie & TV Show
5. âœ… **Error handling** dengan alert
6. âœ… **Membersihkan input**

### ğŸš€ Langkah Selanjutnya

Di video berikutnya, kita akan belajar:
- ğŸ“„ **Pagination** - Menampilkan hasil lebih dari 20 item
- â®ï¸ **Previous/Next Button** - Navigasi antar halaman
- ğŸ”¢ **Page Counter** - Menampilkan "Page 1 of 5"

---

### ğŸ’¡ Tips untuk Pemula

1. **Jangan terburu-buru** - Pahami setiap baris kode
2. **Console.log adalah temanmu** - Gunakan untuk debug
3. **Baca error message** - Error memberitahu di mana masalahnya
4. **Coba variasi** - Ubah-ubah nilai untuk memahami cara kerjanya
5. **Practice makes perfect** - Ulangi sampai paham!

---

**ğŸ“ Selamat! Kamu sudah berhasil membuat fitur pencarian yang dinamis!** ğŸ‰

---

*ğŸ“ Dokumentasi Pribadi - Dibuat untuk pembelajaran step by step*
