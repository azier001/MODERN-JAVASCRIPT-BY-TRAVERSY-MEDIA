# ğŸ¬ Dokumentasi Lengkap: Menampilkan Film & TV Shows dengan JavaScript

> **ğŸ“š Dokumentasi Pribadi untuk Pemula**  
> Panduan step-by-step membangun aplikasi movie & TV shows menggunakan TMDB API

---

## ğŸ“‘ Daftar Isi

- [Pendahuluan](#pendahuluan)
- [Apa yang Akan Kita Pelajari?](#apa-yang-akan-kita-pelajari)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Membuat Fungsi Show Spinner](#langkah-1-membuat-fungsi-show-spinner)
- [Langkah 2: Membuat Fungsi Hide Spinner](#langkah-2-membuat-fungsi-hide-spinner)
- [Langkah 3: Integrasi Spinner ke Fetch API](#langkah-3-integrasi-spinner-ke-fetch-api)
- [Langkah 4: Membuat Fungsi Display Popular Shows](#langkah-4-membuat-fungsi-display-popular-shows)
- [Langkah 5: Update Init Function](#langkah-5-update-init-function)
- [Langkah 6: Membersihkan HTML Hardcoded](#langkah-6-membersihkan-html-hardcoded)
- [Hasil Akhir Kode Lengkap](#hasil-akhir-kode-lengkap)
- [Tips & Catatan Penting](#tips--catatan-penting)

---

<a name="pendahuluan"></a>
## ğŸ¯ Pendahuluan

Dalam tutorial ini, kita akan belajar bagaimana menambahkan **spinner loading** dan menampilkan **daftar TV shows populer** menggunakan JavaScript dan TMDB API.

### ğŸ“ Catatan Penting
- Tutorial ini adalah lanjutan dari video sebelumnya
- Kita sudah memiliki fungsi `displayPopularMovies()` yang bekerja
- Sekarang kita akan menambahkan fitur baru: **Spinner** dan **TV Shows**

---

<a name="apa-yang-akan-kita-pelajari"></a>
## ğŸ“– Apa yang Akan Kita Pelajari?

Di tutorial ini, kita akan membuat:

âœ… **Fungsi Show Spinner** - Menampilkan loading indicator  
âœ… **Fungsi Hide Spinner** - Menyembunyikan loading indicator  
âœ… **Fungsi Display Popular Shows** - Menampilkan daftar TV shows populer  
âœ… **Integrasi dengan Routing** - Memanggil fungsi sesuai halaman

---

<a name="persiapan-awal"></a>
## ğŸš€ Persiapan Awal

### Kode Awal (sebelum praktek)

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  return data;
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      console.log('Shows');
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="langkah-1-membuat-fungsi-show-spinner"></a>
## ğŸ”„ Langkah 1: Membuat Fungsi Show Spinner

### ğŸ“ Penjelasan
Spinner adalah animasi loading yang muncul saat kita mengambil data dari API. Ini memberi tahu user bahwa aplikasi sedang memproses sesuatu.

### ğŸ’¡ Konsep
- Di HTML sudah ada elemen dengan class `.spinner`
- Untuk menampilkan spinner, kita tambahkan class `show` ke elemen tersebut
- Class `show` sudah memiliki style CSS untuk overlay dan animasi

### âœï¸ Kode yang Ditambahkan

**Letakkan setelah fungsi `fetchAPIData`:**

```javascript
function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}
```

### ğŸ” Penjelasan Kode Baris per Baris

```javascript
function showSpinner() {
```
- Membuat fungsi bernama `showSpinner`
- Fungsi ini akan kita panggil ketika mulai fetch data

```javascript
  document.querySelector('.spinner')
```
- Mencari elemen HTML dengan class `spinner`
- `querySelector` mengembalikan elemen pertama yang ditemukan

```javascript
  .classList.add('show');
```
- Menambahkan class `show` ke elemen spinner
- Class `show` membuat spinner terlihat di layar

---

<a name="langkah-2-membuat-fungsi-hide-spinner"></a>
## âœ¨ Langkah 2: Membuat Fungsi Hide Spinner

### ğŸ“ Penjelasan
Setelah data selesai diambil, kita perlu menyembunyikan spinner agar user bisa melihat hasil datanya.

### âœï¸ Kode yang Ditambahkan

**Letakkan tepat setelah fungsi `showSpinner`:**

```javascript
function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}
```

### ğŸ” Penjelasan Kode Baris per Baris

```javascript
function hideSpinner() {
```
- Membuat fungsi bernama `hideSpinner`
- Fungsi ini kebalikan dari `showSpinner`

```javascript
  document.querySelector('.spinner')
```
- Mencari elemen spinner yang sama

```javascript
  .classList.remove('show');
```
- Menghapus class `show` dari elemen spinner
- Spinner akan tersembunyi kembali

### âš ï¸ Catatan Penting
- Pastikan ada **titik (.)** sebelum 'spinner' di `querySelector`
- Karena `spinner` adalah **class**, bukan ID atau tag name
- **Salah:** `querySelector('spinner')` âŒ
- **Benar:** `querySelector('.spinner')` âœ…

---

<a name="langkah-3-integrasi-spinner-ke-fetch-api"></a>
## ğŸ”— Langkah 3: Integrasi Spinner ke Fetch API

### ğŸ“ Penjelasan
Sekarang kita integrasikan kedua fungsi spinner ke dalam `fetchAPIData` agar spinner muncul otomatis setiap kali fetch data.

### âœï¸ Update Fungsi fetchAPIData

**Ganti fungsi `fetchAPIData` yang lama dengan yang baru:**

```javascript
async function fetchAPIData(endpoint) {
  // Register your key at https://www.themoviedb.org/settings/api and enter here
  // Only use this for development or very small projects. You should store your key and make requests from a server
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner(); // ğŸ‘ˆ TAMBAHAN BARU

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner(); // ğŸ‘ˆ TAMBAHAN BARU

  return data;
}
```

### ğŸ” Penjelasan Perubahan

**Sebelum fetch:**
```javascript
showSpinner();
```
- Memanggil fungsi `showSpinner()` sebelum mulai request
- Spinner akan muncul dan user tahu data sedang di-load

**Setelah dapat data:**
```javascript
hideSpinner();
```
- Memanggil fungsi `hideSpinner()` setelah data diterima
- Spinner akan hilang dan data siap ditampilkan

### ğŸ¯ Alur Proses
1. â³ User klik atau load halaman
2. ğŸ”„ `showSpinner()` â†’ Spinner muncul
3. ğŸ“¡ Fetch data ke API
4. â±ï¸ Tunggu response dari server
5. âœ… Data diterima
6. ğŸš« `hideSpinner()` â†’ Spinner hilang
7. ğŸ¬ Data ditampilkan

---

<a name="langkah-4-membuat-fungsi-display-popular-shows"></a>
## ğŸ“º Langkah 4: Membuat Fungsi Display Popular Shows

### ğŸ“ Penjelasan
Fungsi ini hampir sama dengan `displayPopularMovies`, tapi untuk TV shows. Ada beberapa perbedaan kecil pada property yang digunakan.

### âœï¸ Kode yang Ditambahkan

**Letakkan setelah fungsi `displayPopularMovies`:**

```javascript
// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}
```

### ğŸ” Penjelasan Detail

#### 1ï¸âƒ£ Endpoint API yang Berbeda
```javascript
const { results } = await fetchAPIData('tv/popular');
```
- **Movies:** `'movie/popular'`
- **TV Shows:** `'tv/popular'`

#### 2ï¸âƒ£ Nama Variable: `show` bukan `movie`
```javascript
results.forEach((show) => {
```
- Lebih masuk akal dan mudah dibaca
- Konsisten dengan konteks TV shows

#### 3ï¸âƒ£ Link ke Halaman Detail TV
```javascript
<a href="tv-details.html?id=${show.id}">
```
- Movies â†’ `movie-details.html`
- TV Shows â†’ `tv-details.html`

#### 4ï¸âƒ£ Property `name` bukan `title`
```javascript
alt="${show.name}"
${show.name}
```
- **Movies API** menggunakan: `movie.title`
- **TV Shows API** menggunakan: `show.name`

#### 5ï¸âƒ£ Tanggal Tayang: `first_air_date` bukan `release_date`
```javascript
Air Date: ${show.first_air_date}
```
- **Movies:** `release_date` (tanggal rilis)
- **TV Shows:** `first_air_date` (tanggal tayang pertama)

#### 6ï¸âƒ£ Target Container yang Berbeda
```javascript
document.querySelector('#popular-shows').appendChild(div);
```
- Movies â†’ `#popular-movies`
- TV Shows â†’ `#popular-shows`

### ğŸ¤” Kenapa Property-nya Berbeda?

Property berbeda karena **response dari API berbeda**:

**Response Movies:**
```json
{
  "title": "Avatar",
  "release_date": "2009-12-18"
}
```

**Response TV Shows:**
```json
{
  "name": "Breaking Bad",
  "first_air_date": "2008-01-20"
}
```

### ğŸ’¡ Cara Tahu Property-nya Apa?
1. ğŸŒ Buka dokumentasi TMDB API
2. ğŸ” Lihat contoh response untuk endpoint yang digunakan
3. ğŸ“‹ Sesuaikan kode dengan structure data yang dikembalikan

---

<a name="langkah-5-update-init-function"></a>
## âš™ï¸ Langkah 5: Update Init Function

### ğŸ“ Penjelasan
Sekarang kita perlu memanggil fungsi `displayPopularShows()` ketika user membuka halaman `shows.html`.

### âœï¸ Update pada Switch Case

**Ganti baris ini:**
```javascript
case '/shows.html':
  console.log('Shows');
  break;
```

**Dengan:**
```javascript
case '/shows.html':
  displayPopularShows();
  break;
```

### ğŸ” Fungsi `init` Lengkap Setelah Update

```javascript
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows(); // ğŸ‘ˆ PERUBAHAN DI SINI
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}
```

### ğŸ’¡ Cara Kerja Routing

| Halaman | Fungsi yang Dipanggil |
|---------|----------------------|
| `/` atau `/index.html` | `displayPopularMovies()` |
| `/shows.html` | `displayPopularShows()` |
| `/movie-details.html` | *Belum dibuat* |
| `/tv-details.html` | *Belum dibuat* |
| `/search.html` | *Belum dibuat* |

---

<a name="langkah-6-membersihkan-html-hardcoded"></a>
## ğŸ§¹ Langkah 6: Membersihkan HTML Hardcoded

### ğŸ“ Penjelasan
Di file `shows.html`, ada data dummy yang hard-coded. Kita perlu menghapusnya agar tidak bentrok dengan data dari API.

### âœï¸ Yang Perlu Dihapus di `shows.html`

**Cari bagian ini di HTML:**
```html
<section id="popular-shows" class="grid">
  <!-- Hapus semua div dengan class="card" di sini -->
  <div class="card">...</div>
  <div class="card">...</div>
  <div class="card">...</div>
  <!-- ... dst -->
</section>
```

**Bersihkan jadi seperti ini:**
```html
<section id="popular-shows" class="grid">
  <!-- Container kosong, akan diisi oleh JavaScript -->
</section>
```

### âš ï¸ Penting!
- **JANGAN** hapus element `<section id="popular-shows">`
- **HANYA** hapus semua child element di dalamnya
- Container kosong ini akan diisi oleh `displayPopularShows()`

---

<a name="hasil-akhir-kode-lengkap"></a>
## âœ… Hasil Akhir Kode Lengkap

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// âœ¨ FUNGSI BARU - Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular'); // ğŸ“ Endpoint: tv/popular

  results.forEach((show) => { // ğŸ“ Gunakan 'show' bukan 'movie'
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}"> 
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5> 
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small> 
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div); // ğŸ“ Target: #popular-shows
  });
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  // Register your key at https://www.themoviedb.org/settings/api and enter here
  // Only use this for development or very small projects. You should store your key and make requests from a server
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner(); // ğŸ”„ TAMBAHAN BARU - Tampilkan spinner sebelum fetch

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner(); // âœ… TAMBAHAN BARU - Sembunyikan spinner setelah dapat data

  return data;
}

// ğŸ†• FUNGSI BARU - Show spinner
function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

// ğŸ†• FUNGSI BARU - Hide spinner
function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows(); // ğŸ”„ DIUBAH - Panggil displayPopularShows()
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="tips--catatan-penting"></a>
## ğŸ’¡ Tips & Catatan Penting

### âœ¨ Kenapa Perlu Spinner?
- Memberi feedback visual ke user
- User tahu aplikasi sedang memproses
- Meningkatkan user experience
- **Penting untuk koneksi lambat!**

### ğŸ¯ Perbedaan Movies vs TV Shows

| Aspek | Movies | TV Shows |
|-------|--------|----------|
| Endpoint | `movie/popular` | `tv/popular` |
| Judul | `title` | `name` |
| Tanggal | `release_date` | `first_air_date` |
| Detail Page | `movie-details.html` | `tv-details.html` |
| Container | `#popular-movies` | `#popular-shows` |

### ğŸ”§ Debugging Tips

**Jika spinner tidak muncul:**
- âœ… Cek apakah ada titik `.` sebelum `spinner`
- âœ… Cek di console browser ada error atau tidak
- âœ… Pastikan class `show` sudah di-define di CSS

**Jika TV shows tidak muncul:**
- âœ… Cek API_KEY sudah diisi atau belum
- âœ… Cek endpoint API: `tv/popular` (bukan `show/popular`)
- âœ… Cek container HTML `#popular-shows` ada atau tidak
- âœ… Cek console browser untuk error messages

### ğŸ“š Next Steps

Tutorial selanjutnya akan membahas:
- ğŸ¬ Menampilkan detail movie
- ğŸ“º Menampilkan detail TV show
- ğŸ” Fitur pencarian
- ğŸ¨ Styling tambahan

### ğŸ“ Yang Sudah Kita Pelajari

âœ… Cara menambah dan menghapus class dengan JavaScript  
âœ… Cara membuat loading indicator dengan spinner  
âœ… Perbedaan struktur data API antara Movies dan TV Shows  
âœ… Cara membuat fungsi yang mirip untuk keperluan berbeda  
âœ… Konsep DRY (Don't Repeat Yourself) dalam coding  
âœ… Cara kerja routing sederhana dengan switch case

---

## ğŸ‰ Selamat!

Kamu sudah berhasil menambahkan fitur spinner dan menampilkan TV shows populer! Terus berlatih dan jangan takut untuk bereksperimen dengan kode ini.

### ğŸ“ Catatan Terakhir
- Simpan dokumentasi ini untuk referensi pribadi
- Praktek adalah kunci untuk mahir coding
- Jangan ragu untuk explore API documentation
- Happy coding! ğŸš€

---

**ğŸ”– Dokumentasi Pribadi** | **ğŸ“… Terakhir diupdate:** 2026
