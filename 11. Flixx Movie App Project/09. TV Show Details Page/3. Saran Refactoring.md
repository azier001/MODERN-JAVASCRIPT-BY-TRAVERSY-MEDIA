# üé¨ Alternatif Saran Refactoring

## üìë Daftar Isi
- [Chat GPT](#chat-gpt)
- [Claude AI](#claude-ai)

<a name="chat-gpt"></a>
### Chat GPT

<details>
<summary> Lihat Kode Full (klik untuk expand) </summary>

```javascript
/* =====================================================
   APP STATE & CONFIGURATION
===================================================== */

const appState = {
  currentPage: window.location.pathname,
};

const TMDB_CONFIG = {
  API_KEY: '', // üîë isi API key TMDB kamu
  BASE_URL: 'https://api.themoviedb.org/3/',
  IMAGE_BASE_URL: 'https://image.tmdb.org/t/p/w500',
  IMAGE_ORIGINAL_URL: 'https://image.tmdb.org/t/p/original',
};

/* =====================================================
   DOM HELPERS
===================================================== */

const getElement = (selector) => document.querySelector(selector);

/* =====================================================
   LOADING SPINNER
===================================================== */

const showLoadingSpinner = () => {
  getElement('.spinner').classList.add('show');
};

const hideLoadingSpinner = () => {
  getElement('.spinner').classList.remove('show');
};

/* =====================================================
   API HANDLER
===================================================== */

const fetchFromTMDB = async (endpoint) => {
  showLoadingSpinner();

  const response = await fetch(
    `${TMDB_CONFIG.BASE_URL}${endpoint}?api_key=${TMDB_CONFIG.API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideLoadingSpinner();
  return data;
};

/* =====================================================
   CARD CREATORS
===================================================== */

const createMovieCard = (movie) => {
  const card = document.createElement('div');
  card.classList.add('card');

  const posterImage = movie.poster_path
    ? `${TMDB_CONFIG.IMAGE_BASE_URL}${movie.poster_path}`
    : '../images/no-image.jpg';

  card.innerHTML = `
    <a href="movie-details.html?id=${movie.id}">
      <img src="${posterImage}" class="card-img-top" alt="${movie.title}" />
    </a>
    <div class="card-body">
      <h5 class="card-title">${movie.title}</h5>
      <p class="card-text">
        <small class="text-muted">Release: ${movie.release_date || '-'}</small>
      </p>
    </div>
  `;

  return card;
};

const createTvShowCard = (tvShow) => {
  const card = document.createElement('div');
  card.classList.add('card');

  const posterImage = tvShow.poster_path
    ? `${TMDB_CONFIG.IMAGE_BASE_URL}${tvShow.poster_path}`
    : '../images/no-image.jpg';

  card.innerHTML = `
    <a href="tv-details.html?id=${tvShow.id}">
      <img src="${posterImage}" class="card-img-top" alt="${tvShow.name}" />
    </a>
    <div class="card-body">
      <h5 class="card-title">${tvShow.name}</h5>
      <p class="card-text">
        <small class="text-muted">Air Date: ${tvShow.first_air_date || '-'}</small>
      </p>
    </div>
  `;

  return card;
};

/* =====================================================
   DETAILS HELPERS
===================================================== */

const getQueryParam = (key) => {
  const params = new URLSearchParams(window.location.search);
  return params.get(key);
};

const formatCurrency = (number) => {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
};

/* üîßüÜï TV SHOW POSTER HELPER */
const getTvShowPoster = (posterPath, name) => {
  return posterPath
    ? `<img src="${TMDB_CONFIG.IMAGE_BASE_URL}${posterPath}" alt="${name}" />`
    : `<img src="../images/no-image.jpg" alt="${name}" />`;
};

/* =====================================================
   DETAILS PAGE BACKDROP
===================================================== */

const renderDetailsBackdrop = (containerSelector, backdropPath) => {
  if (!backdropPath) return;

  const container = getElement(containerSelector);
  if (!container) return;

  const backdrop = document.createElement('div');
  backdrop.classList.add('details-backdrop');
  backdrop.style.backgroundImage = `
    url(${TMDB_CONFIG.IMAGE_ORIGINAL_URL}${backdropPath})
  `;

  container.appendChild(backdrop);
};

/* =====================================================
   MOVIE DETAILS (TETAP, TIDAK DIUBAH)
===================================================== */

const createMovieDetailsTop = (movie) => `
  <div class="details-top">
    <div>
      <img src="${
        movie.poster_path
          ? `${TMDB_CONFIG.IMAGE_BASE_URL}${movie.poster_path}`
          : '../images/no-image.jpg'
      }" alt="${movie.title}" />
    </div>

    <div>
      <h2>${movie.title}</h2>
      <p>
        <i class="fas fa-star text-primary"></i>
        ${movie.vote_average.toFixed(1)} / 10
      </p>
      <p class="text-muted">Release Date: ${movie.release_date}</p>
      <p>${movie.overview}</p>

      <h5>Genres</h5>
      <ul class="list-group">
        ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
      </ul>
    </div>
  </div>
`;

const createMovieDetailsBottom = (movie) => `
  <div class="details-bottom">
    <h2>Movie Info</h2>
    <ul>
      <li><span class="text-secondary">Budget:</span> $${formatCurrency(movie.budget)}</li>
      <li><span class="text-secondary">Revenue:</span> $${formatCurrency(movie.revenue)}</li>
      <li><span class="text-secondary">Runtime:</span> ${movie.runtime} minutes</li>
      <li><span class="text-secondary">Status:</span> ${movie.status}</li>
    </ul>
  </div>
`;

const createMovieDetails = (movie) => {
  const container = document.createElement('div');
  container.innerHTML = `
    ${createMovieDetailsTop(movie)}
    ${createMovieDetailsBottom(movie)}
  `;
  return container;
};

/* =====================================================
   üîßüÜï TV SHOW DETAILS UI BUILDER (CLEAN)
===================================================== */

const createTvShowDetails = (show) => {
  const container = document.createElement('div');

  container.innerHTML = `
    <div class="details-top">
      <div>
        ${getTvShowPoster(show.poster_path, show.name)}
      </div>

      <div>
        <h2>${show.name}</h2>
        <p>
          <i class="fas fa-star text-primary"></i>
          ${show.vote_average.toFixed(1)} / 10
        </p>
        <p class="text-muted">Last Air Date: ${show.last_air_date || '-'}</p>
        <p>${show.overview}</p>

        <h5>Genres</h5>
        <ul class="list-group">
          ${show.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
        </ul>
      </div>
    </div>

    <div class="details-bottom">
      <h2>Show Info</h2>
      <ul>
        <li>
          <span class="text-secondary">Number of Episodes:</span>
          ${show.number_of_episodes}
        </li>
        <li>
          <span class="text-secondary">Last Episode To Air:</span>
          ${show.last_episode_to_air?.name || '-'}
        </li>
        <li>
          <span class="text-secondary">Status:</span>
          ${show.status}
        </li>
      </ul>
    </div>
  `;

  return container;
};

/* =====================================================
   RENDER FUNCTIONS
===================================================== */

const renderMovies = (movies) => {
  const container = getElement('#popular-movies');
  movies.forEach((movie) => container.appendChild(createMovieCard(movie)));
};

const renderTvShows = (tvShows) => {
  const container = getElement('#popular-shows');
  tvShows.forEach((tv) => container.appendChild(createTvShowCard(tv)));
};

/* =====================================================
   PAGE CONTROLLERS
===================================================== */

const loadPopularMovies = async () => {
  const data = await fetchFromTMDB('movie/popular');
  renderMovies(data.results);
};

const loadPopularTvShows = async () => {
  const data = await fetchFromTMDB('tv/popular');
  renderTvShows(data.results);
};

const loadMovieDetails = async () => {
  const movieId = getQueryParam('id');
  if (!movieId) return;

  const movie = await fetchFromTMDB(`movie/${movieId}`);

  renderDetailsBackdrop('#movie-details', movie.backdrop_path);
  getElement('#movie-details').appendChild(createMovieDetails(movie));
};

/* üîßüÜï TV SHOW DETAILS CONTROLLER */
const loadTvShowDetails = async () => {
  const showId = getQueryParam('id');
  if (!showId) return;

  const show = await fetchFromTMDB(`tv/${showId}`);

  renderDetailsBackdrop('#show-details', show.backdrop_path);
  getElement('#show-details').appendChild(createTvShowDetails(show));
};

/* =====================================================
   NAVIGATION
===================================================== */

const highlightActiveNavigation = () => {
  document.querySelectorAll('.nav-link').forEach((link) => {
    if (link.getAttribute('href') === appState.currentPage) {
      link.classList.add('active');
    }
  });
};

/* =====================================================
   APP INITIALIZER
===================================================== */

const initializeApp = () => {
  switch (appState.currentPage) {
    case '/':
    case '/index.html':
      loadPopularMovies();
      break;

    case '/shows.html':
      loadPopularTvShows();
      break;

    case '/movie-details.html':
      loadMovieDetails();
      break;

    case '/tv-details.html':
      loadTvShowDetails(); // üîßüÜï
      break;
  }

  highlightActiveNavigation();
};

document.addEventListener('DOMContentLoaded', initializeApp);

```

</details>

<a name="claude-ai"></a>
### Claude AI

<details>
<summary> Lihat Kode Full (klik untuk expand) </summary>

```javascript
// ============================================
// CONSTANTS - Kumpulan nilai tetap
// ============================================
const CONFIG = {
  API_KEY: '', // ‚ö†Ô∏è ISI DENGAN API KEY ANDA dari https://www.themoviedb.org/settings/api
  API_BASE_URL: 'https://api.themoviedb.org/3/',
  IMAGE_BASE_URL: 'https://image.tmdb.org/t/p/w500',
  BACKDROP_IMAGE_URL: 'https://image.tmdb.org/t/p/original',
  NO_IMAGE_PATH: '../images/no-image.jpg',
  LANGUAGE: 'en-US'
};

const PAGES = {
  HOME: '/',
  INDEX: '/index.html',
  SHOWS: '/shows.html',
  MOVIE_DETAILS: '/movie-details.html',
  TV_DETAILS: '/tv-details.html',
  SEARCH: '/search.html'
};

const SELECTORS = {
  SPINNER: '.spinner',
  POPULAR_SHOWS: '#popular-shows',
  POPULAR_MOVIES: '#popular-movies',
  MOVIE_DETAILS_CONTAINER: '#movie-details',
  SHOW_DETAILS_CONTAINER: '#show-details', // üÜïüì∫ Selector untuk TV show details
  NAV_LINKS: '.nav-link'
};

const CSS_CLASSES = {
  SPINNER_SHOW: 'show',
  CARD: 'card',
  ACTIVE_LINK: 'active',
  DETAILS_BACKDROP: 'details-backdrop'
};

const API_ENDPOINTS = {
  POPULAR_MOVIES: 'movie/popular',
  POPULAR_SHOWS: 'tv/popular',
  MOVIE_DETAIL: 'movie',
  TV_DETAIL: 'tv' // üÜïüì∫ Endpoint untuk TV show detail
};

// ============================================
// UTILITY FUNCTIONS - Fungsi bantuan kecil
// ============================================

/**
 * Mendapatkan URL gambar lengkap atau gambar default
 * @param {string} posterPath - Path poster dari API
 * @returns {string} URL gambar lengkap
 */
const getImageUrl = (posterPath) => {
  if (posterPath) {
    return `${CONFIG.IMAGE_BASE_URL}${posterPath}`;
  }
  return CONFIG.NO_IMAGE_PATH;
};

/**
 * Mendapatkan halaman saat ini dari URL
 * @returns {string} Path halaman saat ini
 */
const getCurrentPage = () => {
  return window.location.pathname;
};

// ==========================================
// QUERY PARAMETER FUNCTIONS - URL helpers
// ==========================================

/**
 * Mendapatkan parameter dari URL query string
 * @param {string} paramName - Nama parameter yang dicari
 * @returns {string|null} Nilai parameter atau null
 */
const getQueryParam = (paramName) => {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(paramName);
};

/**
 * Mendapatkan movie ID dari URL
 * @returns {string|null} Movie ID atau null
 */
const getMovieIdFromUrl = () => {
  return getQueryParam('id');
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW QUERY PARAMETER
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Mendapatkan TV show ID dari URL
 * @returns {string|null} Show ID atau null
 */
const getShowIdFromUrl = () => {
  return getQueryParam('id');
};

// ==========================================
// NUMBER FORMATTING - Format angka
// ==========================================

/**
 * Menambahkan koma sebagai pemisah ribuan
 * @param {number} number - Angka yang akan diformat
 * @returns {string} Angka dengan format koma
 */
const formatNumberWithCommas = (number) => {
  if (!number || number === 0) return '0';
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
};

// ============================================
// SPINNER FUNCTIONS - Loading indicator
// ============================================

/**
 * Menampilkan spinner loading
 */
const showSpinner = () => {
  const spinner = document.querySelector(SELECTORS.SPINNER);
  if (spinner) {
    spinner.classList.add(CSS_CLASSES.SPINNER_SHOW);
  }
};

/**
 * Menyembunyikan spinner loading
 */
const hideSpinner = () => {
  const spinner = document.querySelector(SELECTORS.SPINNER);
  if (spinner) {
    spinner.classList.remove(CSS_CLASSES.SPINNER_SHOW);
  }
};

// ============================================
// API FUNCTIONS - Komunikasi dengan TMDB API
// ============================================

/**
 * Fungsi generic untuk fetch data dari TMDB API
 * @param {string} endpoint - Endpoint API yang dituju
 * @returns {Promise<Object|null>} Data response dari API atau null jika error
 */
const fetchFromAPI = async (endpoint) => {
  // Validasi API Key
  if (!CONFIG.API_KEY) {
    console.error('‚ùå API Key belum diisi! Silakan daftar di https://www.themoviedb.org/settings/api');
    return null;
  }
  
  const url = `${CONFIG.API_BASE_URL}${endpoint}?api_key=${CONFIG.API_KEY}&language=${CONFIG.LANGUAGE}`;
  
  showSpinner();
  
  try {
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new Error(`HTTP Error! Status: ${response.status}`);
    }
    
    const data = await response.json();
    return data;
    
  } catch (error) {
    console.error('‚ùå Error fetching data:', error.message);
    return null;
    
  } finally {
    hideSpinner();
  }
};

/**
 * Mengambil data movies populer dari API
 * @returns {Promise<Array>} Array data movies
 */
const fetchPopularMovies = async () => {
  const data = await fetchFromAPI(API_ENDPOINTS.POPULAR_MOVIES);
  return data?.results || [];
};

/**
 * Mengambil data TV shows populer dari API
 * @returns {Promise<Array>} Array data TV shows
 */
const fetchPopularShows = async () => {
  const data = await fetchFromAPI(API_ENDPOINTS.POPULAR_SHOWS);
  return data?.results || [];
};

// ==========================================
// MOVIE DETAIL API - Fetch detail movie
// ==========================================

/**
 * Mengambil detail movie berdasarkan ID
 * @param {string} movieId - ID movie dari TMDB
 * @returns {Promise<Object|null>} Data detail movie atau null
 */
const fetchMovieDetail = async (movieId) => {
  if (!movieId) {
    console.error('‚ùå Movie ID tidak valid!');
    return null;
  }
  
  const endpoint = `${API_ENDPOINTS.MOVIE_DETAIL}/${movieId}`;
  const data = await fetchFromAPI(endpoint);
  return data;
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW DETAIL API - Fetch detail show
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Mengambil detail TV show berdasarkan ID
 * @param {string} showId - ID show dari TMDB
 * @returns {Promise<Object|null>} Data detail show atau null
 */
const fetchShowDetail = async (showId) => {
  if (!showId) {
    console.error('‚ùå Show ID tidak valid!');
    return null;
  }
  
  const endpoint = `${API_ENDPOINTS.TV_DETAIL}/${showId}`;
  const data = await fetchFromAPI(endpoint);
  return data;
};

// ============================================
// CARD CREATION FUNCTIONS - Membuat card element
// ============================================

/**
 * Membuat card element untuk satu movie
 * @param {Object} movie - Data movie dari API
 * @returns {HTMLElement} Card element
 */
const createMovieCard = (movie) => {
  const card = document.createElement('div');
  card.classList.add(CSS_CLASSES.CARD);
  
  const imageUrl = getImageUrl(movie.poster_path);
  const movieTitle = movie.title || 'Unknown Title';
  const releaseDate = movie.release_date || 'N/A';
  
  card.innerHTML = `
    <a href="movie-details.html?id=${movie.id}">
      <img
        src="${imageUrl}"
        class="card-img-top"
        alt="${movieTitle}"
      />
    </a>
    <div class="card-body">
      <h5 class="card-title">${movieTitle}</h5>
      <p class="card-text">
        <small class="text-muted">Release: ${releaseDate}</small>
      </p>
    </div>
  `;
  
  return card;
};

/**
 * Membuat card element untuk satu TV show
 * @param {Object} show - Data TV show dari API
 * @returns {HTMLElement} Card element
 */
const createShowCard = (show) => {
  const card = document.createElement('div');
  card.classList.add(CSS_CLASSES.CARD);
  
  const imageUrl = getImageUrl(show.poster_path);
  const showName = show.name || 'Unknown Title';
  const airDate = show.first_air_date || 'N/A';
  
  card.innerHTML = `
    <a href="tv-details.html?id=${show.id}">
      <img
        src="${imageUrl}"
        class="card-img-top"
        alt="${showName}"
      />
    </a>
    <div class="card-body">
      <h5 class="card-title">${showName}</h5>
      <p class="card-text">
        <small class="text-muted">Air Date: ${airDate}</small>
      </p>
    </div>
  `;
  
  return card;
};

// ==========================================
// BACKDROP FUNCTIONS - Fungsi backdrop
// ==========================================

/**
 * Mendapatkan URL lengkap untuk backdrop image
 * @param {string} backdropPath - Path backdrop dari API
 * @returns {string} URL lengkap backdrop image
 */
const getBackdropUrl = (backdropPath) => {
  return `${CONFIG.BACKDROP_IMAGE_URL}${backdropPath}`;
};

/**
 * Membuat element backdrop
 * @param {string} backdropPath - Path backdrop dari API
 * @returns {HTMLElement} Element div backdrop
 */
const createBackdropElement = (backdropPath) => {
  const backdrop = document.createElement('div');
  backdrop.classList.add(CSS_CLASSES.DETAILS_BACKDROP);
  backdrop.style.backgroundImage = `url(${getBackdropUrl(backdropPath)})`;
  
  return backdrop;
};

/**
 * Menampilkan backdrop di halaman details
 * @param {string} containerSelector - Selector container (contoh: '#movie-details')
 * @param {string} backdropPath - Path backdrop dari API
 */
const displayBackdrop = (containerSelector, backdropPath) => {
  // Validasi backdrop path
  if (!backdropPath) {
    console.warn('‚ö†Ô∏è Backdrop image tidak tersedia untuk movie ini');
    return;
  }
  
  const container = document.querySelector(containerSelector);
  
  if (!container) {
    console.error(`‚ùå Container ${containerSelector} tidak ditemukan!`);
    return;
  }
  
  const backdrop = createBackdropElement(backdropPath);
  container.appendChild(backdrop);
  
  console.log('‚úÖ Backdrop berhasil ditampilkan');
};

// ==========================================
// MOVIE DETAIL HTML BUILDERS
// Membuat komponen HTML untuk detail movie
// ==========================================

/**
 * Membuat HTML untuk poster/gambar movie
 * @param {Object} movie - Data movie
 * @returns {string} HTML string gambar
 */
const buildMoviePosterHTML = (movie) => {
  const imageUrl = getImageUrl(movie.poster_path);
  
  return `
    <img
      src="${imageUrl}"
      class="card-img-top"
      alt="${movie.title}"
    />
  `;
};

/**
 * Membuat HTML untuk daftar genres
 * @param {Array} genres - Array genre objects
 * @returns {string} HTML string list genres
 */
const buildGenresListHTML = (genres) => {
  if (!genres || genres.length === 0) {
    return '<li>No genres available</li>';
  }
  
  return genres
    .map((genre) => `<li>${genre.name}</li>`)
    .join('');
};

/**
 * Membuat HTML untuk production companies
 * @param {Array} companies - Array company objects
 * @returns {string} HTML string companies
 */
const buildProductionCompaniesHTML = (companies) => {
  if (!companies || companies.length === 0) {
    return '<span>No information available</span>';
  }
  
  return companies
    .map((company) => `<span>${company.name}</span>`)
    .join(', ');
};

/**
 * Membuat HTML untuk bagian atas detail movie
 * @param {Object} movie - Data movie lengkap
 * @returns {string} HTML string bagian atas
 */
const buildMovieDetailsTopHTML = (movie) => {
  const posterHTML = buildMoviePosterHTML(movie);
  const genresHTML = buildGenresListHTML(movie.genres);
  const rating = movie.vote_average ? movie.vote_average.toFixed(1) : 'N/A';
  const overview = movie.overview || 'No overview available.';
  const homepage = movie.homepage || '#';
  
  return `
    <div class="details-top">
      <div>
        ${posterHTML}
      </div>
      <div>
        <h2>${movie.title}</h2>
        <p>
          <i class="fas fa-star text-primary"></i>
          ${rating} / 10
        </p>
        <p class="text-muted">Release Date: ${movie.release_date || 'N/A'}</p>
        <p>${overview}</p>
        <h5>Genres</h5>
        <ul class="list-group">
          ${genresHTML}
        </ul>
        <a href="${homepage}" target="_blank" class="btn">
          Visit Movie Homepage
        </a>
      </div>
    </div>
  `;
};

/**
 * Membuat HTML untuk bagian bawah detail movie (info tambahan)
 * @param {Object} movie - Data movie lengkap
 * @returns {string} HTML string bagian bawah
 */
const buildMovieDetailsBottomHTML = (movie) => {
  const budget = formatNumberWithCommas(movie.budget);
  const revenue = formatNumberWithCommas(movie.revenue);
  const runtime = movie.runtime || 'N/A';
  const status = movie.status || 'N/A';
  const companiesHTML = buildProductionCompaniesHTML(movie.production_companies);
  
  return `
    <div class="details-bottom">
      <h2>Movie Info</h2>
      <ul>
        <li>
          <span class="text-secondary">Budget:</span> 
          $${budget}
        </li>
        <li>
          <span class="text-secondary">Revenue:</span> 
          $${revenue}
        </li>
        <li>
          <span class="text-secondary">Runtime:</span> 
          ${runtime} minutes
        </li>
        <li>
          <span class="text-secondary">Status:</span> 
          ${status}
        </li>
      </ul>
      <h4>Production Companies</h4>
      <div class="list-group">
        ${companiesHTML}
      </div>
    </div>
  `;
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW DETAIL HTML BUILDERS
// üÜïüì∫ Membuat komponen HTML untuk detail show
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Membuat HTML untuk poster/gambar TV show
 * @param {Object} show - Data TV show
 * @returns {string} HTML string gambar
 */
const buildShowPosterHTML = (show) => {
  const imageUrl = getImageUrl(show.poster_path);
  
  return `
    <img
      src="${imageUrl}"
      class="card-img-top"
      alt="${show.name}"
    />
  `;
};

/**
 * üÜïüì∫ Membuat HTML untuk bagian atas detail TV show
 * @param {Object} show - Data TV show lengkap
 * @returns {string} HTML string bagian atas
 */
const buildShowDetailsTopHTML = (show) => {
  const posterHTML = buildShowPosterHTML(show);
  const genresHTML = buildGenresListHTML(show.genres); // ‚ôªÔ∏è Reuse fungsi movie!
  const rating = show.vote_average ? show.vote_average.toFixed(1) : 'N/A';
  const overview = show.overview || 'No overview available.';
  const homepage = show.homepage || '#';
  
  return `
    <div class="details-top">
      <div>
        ${posterHTML}
      </div>
      <div>
        <h2>${show.name}</h2>
        <p>
          <i class="fas fa-star text-primary"></i>
          ${rating} / 10
        </p>
        <p class="text-muted">Last Air Date: ${show.last_air_date || 'N/A'}</p>
        <p>${overview}</p>
        <h5>Genres</h5>
        <ul class="list-group">
          ${genresHTML}
        </ul>
        <a href="${homepage}" target="_blank" class="btn">
          Visit Show Homepage
        </a>
      </div>
    </div>
  `;
};

/**
 * üÜïüì∫ Membuat HTML untuk bagian bawah detail TV show (info tambahan)
 * @param {Object} show - Data TV show lengkap
 * @returns {string} HTML string bagian bawah
 */
const buildShowDetailsBottomHTML = (show) => {
  const numberOfEpisodes = show.number_of_episodes || 'N/A';
  const lastEpisodeName = show.last_episode_to_air?.name || 'N/A';
  const status = show.status || 'N/A';
  const companiesHTML = buildProductionCompaniesHTML(show.production_companies); // ‚ôªÔ∏è Reuse!
  
  return `
    <div class="details-bottom">
      <h2>Show Info</h2>
      <ul>
        <li>
          <span class="text-secondary">Number of Episodes:</span> 
          ${numberOfEpisodes}
        </li>
        <li>
          <span class="text-secondary">Last Episode To Air:</span> 
          ${lastEpisodeName}
        </li>
        <li>
          <span class="text-secondary">Status:</span> 
          ${status}
        </li>
      </ul>
      <h4>Production Companies</h4>
      <div class="list-group">
        ${companiesHTML}
      </div>
    </div>
  `;
};

// ==========================================
// ERROR DISPLAY - Tampilan error
// ==========================================

/**
 * Menampilkan pesan error di container movie details
 * @param {string} message - Pesan error yang akan ditampilkan
 */
const showMovieDetailsError = (message) => {
  const container = document.querySelector(SELECTORS.MOVIE_DETAILS_CONTAINER);
  
  if (!container) {
    console.error('‚ùå Container movie details tidak ditemukan!');
    return;
  }
  
  container.innerHTML = `
    <div class="alert alert-error">
      <p>‚ö†Ô∏è ${message}</p>
      <a href="index.html" class="btn">‚Üê Back to Movies</a>
    </div>
  `;
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW ERROR DISPLAY
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Menampilkan pesan error di container show details
 * @param {string} message - Pesan error yang akan ditampilkan
 */
const showShowDetailsError = (message) => {
  const container = document.querySelector(SELECTORS.SHOW_DETAILS_CONTAINER);
  
  if (!container) {
    console.error('‚ùå Container show details tidak ditemukan!');
    return;
  }
  
  container.innerHTML = `
    <div class="alert alert-error">
      <p>‚ö†Ô∏è ${message}</p>
      <a href="shows.html" class="btn">‚Üê Back to TV Shows</a>
    </div>
  `;
};

// ============================================
// RENDER FUNCTIONS - Menampilkan ke DOM
// ============================================

/**
 * Render daftar movies ke dalam grid
 * @param {Array} movies - Array data movies
 */
const renderMovieList = (movies) => {
  const container = document.querySelector(SELECTORS.POPULAR_MOVIES);
  
  if (!container) {
    console.error('‚ùå Container #popular-movies tidak ditemukan!');
    return;
  }
  
  movies.forEach((movie) => {
    const cardElement = createMovieCard(movie);
    container.appendChild(cardElement);
  });
};

/**
 * Render daftar TV shows ke dalam grid
 * @param {Array} shows - Array data TV shows
 */
const renderShowList = (shows) => {
  const container = document.querySelector(SELECTORS.POPULAR_SHOWS);
  
  if (!container) {
    console.error('‚ùå Container #popular-shows tidak ditemukan!');
    return;
  }
  
  shows.forEach((show) => {
    const cardElement = createShowCard(show);
    container.appendChild(cardElement);
  });
};

// ==========================================
// MOVIE DETAIL RENDER - Render detail movie
// ==========================================

/**
 * Render detail movie ke halaman
 * @param {Object} movie - Data movie lengkap dari API
 */
const renderMovieDetails = (movie) => {
  const container = document.querySelector(SELECTORS.MOVIE_DETAILS_CONTAINER);
  
  if (!container) {
    console.error('‚ùå Container #movie-details tidak ditemukan!');
    return;
  }
  
  // Buat wrapper div
  const detailsWrapper = document.createElement('div');
  
  // Gabungkan HTML bagian atas dan bawah
  const topHTML = buildMovieDetailsTopHTML(movie);
  const bottomHTML = buildMovieDetailsBottomHTML(movie);
  
  detailsWrapper.innerHTML = `
    ${topHTML}
    ${bottomHTML}
  `;
  
  // Tambahkan ke container
  container.appendChild(detailsWrapper);
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW DETAIL RENDER
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Render detail TV show ke halaman
 * @param {Object} show - Data TV show lengkap dari API
 */
const renderShowDetails = (show) => {
  const container = document.querySelector(SELECTORS.SHOW_DETAILS_CONTAINER);
  
  if (!container) {
    console.error('‚ùå Container #show-details tidak ditemukan!');
    return;
  }
  
  // Buat wrapper div
  const detailsWrapper = document.createElement('div');
  
  // Gabungkan HTML bagian atas dan bawah
  const topHTML = buildShowDetailsTopHTML(show);
  const bottomHTML = buildShowDetailsBottomHTML(show);
  
  detailsWrapper.innerHTML = `
    ${topHTML}
    ${bottomHTML}
  `;
  
  // Tambahkan ke container
  container.appendChild(detailsWrapper);
};

// ============================================
// DISPLAY FUNCTIONS - Controller utama
// ============================================

/**
 * Menampilkan daftar movies populer
 * Fungsi koordinator yang mengatur alur:
 * 1. Fetch data dari API
 * 2. Render ke halaman
 */
const displayPopularMovies = async () => {
  const movies = await fetchPopularMovies();
  
  if (!movies || movies.length === 0) {
    console.error('‚ùå Gagal mengambil data movies atau data kosong');
    return;
  }
  
  renderMovieList(movies);
};

/**
 * Menampilkan daftar TV shows populer
 * Fungsi koordinator yang mengatur alur:
 * 1. Fetch data dari API
 * 2. Render ke halaman
 */
const displayPopularShows = async () => {
  const shows = await fetchPopularShows();
  
  if (!shows || shows.length === 0) {
    console.error('‚ùå Gagal mengambil data TV shows atau data kosong');
    return;
  }
  
  renderShowList(shows);
};

// ==========================================
// MOVIE DETAILS DISPLAY - Controller utama
// (dengan backdrop)
// ==========================================

/**
 * Menampilkan detail movie
 * Fungsi koordinator utama untuk halaman movie details:
 * 1. Ambil movie ID dari URL
 * 2. Validasi ID
 * 3. Fetch data dari API
 * 4. Validasi data
 * 5. Tampilkan backdrop
 * 6. Render ke halaman
 */
const displayMovieDetails = async () => {
  // 1. Ambil movie ID dari URL
  const movieId = getMovieIdFromUrl();
  
  // 2. Validasi ID
  if (!movieId) {
    console.error('‚ùå Movie ID tidak ditemukan di URL!');
    showMovieDetailsError('Movie ID tidak ditemukan!');
    return;
  }
  
  // 3. Fetch data dari API
  const movie = await fetchMovieDetail(movieId);
  
  // 4. Validasi data
  if (!movie || !movie.id) {
    console.error('‚ùå Data movie tidak ditemukan atau invalid!');
    showMovieDetailsError('Data movie tidak ditemukan. Movie mungkin tidak ada atau sudah dihapus.');
    return;
  }
  
  // 5. Tampilkan backdrop
  displayBackdrop(SELECTORS.MOVIE_DETAILS_CONTAINER, movie.backdrop_path);
  
  // 6. Render ke halaman
  console.log('‚úÖ Movie details berhasil dimuat:', movie.title);
  renderMovieDetails(movie);
};

// üÜïüì∫ ==========================================
// üÜïüì∫ TV SHOW DETAILS DISPLAY - Controller utama
// üÜïüì∫ ==========================================

/**
 * üÜïüì∫ Menampilkan detail TV show
 * Fungsi koordinator utama untuk halaman show details:
 * 1. Ambil show ID dari URL
 * 2. Validasi ID
 * 3. Fetch data dari API
 * 4. Validasi data
 * 5. Tampilkan backdrop
 * 6. Render ke halaman
 */
const displayShowDetails = async () => {
  // 1. Ambil show ID dari URL
  const showId = getShowIdFromUrl();
  
  // 2. Validasi ID
  if (!showId) {
    console.error('‚ùå Show ID tidak ditemukan di URL!');
    showShowDetailsError('Show ID tidak ditemukan!');
    return;
  }
  
  // 3. Fetch data dari API
  const show = await fetchShowDetail(showId);
  
  // 4. Validasi data
  if (!show || !show.id) {
    console.error('‚ùå Data show tidak ditemukan atau invalid!');
    showShowDetailsError('Data show tidak ditemukan. Show mungkin tidak ada atau sudah dihapus.');
    return;
  }
  
  // 5. Tampilkan backdrop (‚ôªÔ∏è Reuse fungsi yang sama dengan movie!)
  displayBackdrop(SELECTORS.SHOW_DETAILS_CONTAINER, show.backdrop_path);
  
  // 6. Render ke halaman
  console.log('‚úÖ Show details berhasil dimuat:', show.name);
  renderShowDetails(show);
};

// ============================================
// NAVIGATION FUNCTIONS - Navigasi & routing
// ============================================

/**
 * Highlight link navigasi yang sedang aktif
 * Menambahkan class 'active' pada link yang sesuai dengan halaman saat ini
 */
const highlightActiveLink = () => {
  const currentPage = getCurrentPage();
  const links = document.querySelectorAll(SELECTORS.NAV_LINKS);
  
  links.forEach((link) => {
    const linkPath = link.getAttribute('href');
    
    if (linkPath === currentPage) {
      link.classList.add(CSS_CLASSES.ACTIVE_LINK);
    }
  });
};

// ============================================
// ROUTING - Menentukan halaman & fungsi yang dijalankan
// ============================================

/**
 * Router sederhana berdasarkan halaman
 * Menjalankan fungsi yang sesuai dengan halaman saat ini
 */
const routePage = () => {
  const currentPage = getCurrentPage();
  
  switch (currentPage) {
    case PAGES.HOME:
    case PAGES.INDEX:
      console.log('üè† Halaman Home - Popular Movies');
      displayPopularMovies();
      break;
      
    case PAGES.SHOWS:
      console.log('üì∫ Halaman TV Shows');
      displayPopularShows();
      break;
      
    case PAGES.MOVIE_DETAILS:
      console.log('üé¨ Halaman Movie Details');
      displayMovieDetails();
      break;
      
    case PAGES.TV_DETAILS:
      console.log('üì∫ Halaman TV Details'); // üîÑüì∫ Updated
      displayShowDetails(); // üîÑüì∫ Sekarang sudah diimplementasi!
      break;
      
    case PAGES.SEARCH:
      console.log('üîç Halaman Search');
      // displaySearchPage(); // Implementasi nanti
      break;
      
    default:
      console.log('üìÑ Halaman tidak dikenali');
  }
};

// ============================================
// INITIALIZATION - Inisialisasi aplikasi
// ============================================

/**
 * Inisialisasi aplikasi saat DOM sudah siap
 * Urutan eksekusi:
 * 1. Route ke halaman yang sesuai
 * 2. Highlight link navigasi aktif
 */
const initializeApp = () => {
  console.log('üöÄ Aplikasi dimulai...');
  routePage();
  highlightActiveLink();
};

// ============================================
// EVENT LISTENERS - Mendengarkan event
// ============================================

// Jalankan saat DOM sudah siap
document.addEventListener('DOMContentLoaded', initializeApp);
```

</details>
