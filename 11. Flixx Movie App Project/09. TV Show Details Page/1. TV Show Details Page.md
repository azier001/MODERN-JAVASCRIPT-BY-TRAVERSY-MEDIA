# ğŸ“º Tutorial Membuat Halaman TV Show Details

> **Catatan**: Tutorial ini adalah lanjutan dari pembuatan aplikasi Movie App menggunakan TMDB API. Pastikan kamu sudah memahami dasar-dasar JavaScript dan sudah membuat halaman Movie Details sebelumnya.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa yang Akan Kita Buat?](#apa-yang-akan-kita-buat)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Menyalin Function displayMovieDetails](#langkah-1-menyalin-function-displaymoviedetails)
- [Langkah 2: Mengubah Nama Function dan Parameter](#langkah-2-mengubah-nama-function-dan-parameter)
- [Langkah 3: Mengubah Endpoint API](#langkah-3-mengubah-endpoint-api)
- [Langkah 4: Memanggil Function di init()](#langkah-4-memanggil-function-di-init)
- [Langkah 5: Menghapus HTML Statis](#langkah-5-menghapus-html-statis)
- [Langkah 6: Mengubah Field Movie ke Show](#langkah-6-mengubah-field-movie-ke-show)
- [Langkah 7: Debugging dengan Console Log](#langkah-7-debugging-dengan-console-log)
- [Langkah 8: Menyesuaikan Field yang Berbeda](#langkah-8-menyesuaikan-field-yang-berbeda)
- [Langkah 9: Testing dan Hasil Akhir](#langkah-9-testing-dan-hasil-akhir)
- [Kode Lengkap](#kode-lengkap)
- [Ringkasan](#ringkasan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Pada tutorial kali ini, kita akan membuat halaman **TV Show Details** yang menampilkan informasi lengkap tentang serial TV yang dipilih. Halaman ini mirip dengan Movie Details, tetapi ada beberapa perbedaan dalam data yang ditampilkan.

<a name="apa-yang-akan-kita-buat"></a>
## ğŸ¬ Apa yang Akan Kita Buat?

Kita akan membuat halaman yang menampilkan:
- ğŸ“¸ Poster dan backdrop image TV show
- â­ Rating dari penonton
- ğŸ“… Tanggal episode terakhir tayang
- ğŸ“ Deskripsi/overview
- ğŸ­ Genre
- ğŸ“Š Jumlah episode
- ğŸï¸ Episode terakhir yang tayang
- ğŸ¢ Production companies

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

Sebelum memulai, pastikan kamu sudah memiliki:

1. âœ… File `tv-details.html` dengan struktur HTML dasar
2. âœ… Function `displayMovieDetails()` yang sudah berfungsi
3. âœ… TMDB API key yang valid
4. âœ… Function `fetchAPIData()` dan helper functions lainnya

**File `tv-details.html` yang sudah ada:**

```html
<!-- Show Details Output -->
<div id="show-details"></div>
```

---

<a name="langkah-1-menyalin-function-displaymoviedetails"></a>
## ğŸ“‹ Langkah 1: Menyalin Function displayMovieDetails

Karena struktur TV show details mirip dengan movie details, kita akan menyalin function `displayMovieDetails()` sebagai template.

### ğŸ’¡ Penjelasan:
Function `displayMovieDetails()` sudah memiliki struktur yang kita butuhkan:
- Mengambil ID dari URL
- Fetch data dari API
- Menampilkan backdrop image
- Membuat HTML dinamis

### âœ¨ Yang Perlu Dilakukan:

Salin seluruh function `displayMovieDetails()`:

```javascript
// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];
  const movie = await fetchAPIData(`movie/${movieId}`);
  displayBackgroundImage('movie', movie.backdrop_path);
  
  const div = document.createElement('div');
  div.innerHTML = `
    // ... HTML template
  `;
  
  document.querySelector('#movie-details').appendChild(div);
}
```

---

<a name="langkah-2-mengubah-nama-function-dan-parameter"></a>
## âœï¸ Langkah 2: Mengubah Nama Function dan Parameter

Sekarang kita akan mengubah nama function dan semua variabel yang terkait dengan "movie" menjadi "show".

### ğŸ”„ Perubahan yang Dilakukan:

```javascript
// âŒ SEBELUM
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];
  const movie = await fetchAPIData(`movie/${movieId}`);

// âœ… SESUDAH
async function displayShowDetails() {  // ğŸŸ¢ Ubah nama function
  const showId = window.location.search.split('=')[1];  // ğŸŸ¢ Ubah movieId menjadi showId
  const show = await fetchAPIData(`movie/${showId}`);  // ğŸŸ¢ Ubah movie menjadi show
```

### ğŸ’¡ Penjelasan:
- **`displayShowDetails`**: Nama function yang lebih deskriptif untuk TV shows
- **`showId`**: Variabel untuk menyimpan ID show dari URL
- **`show`**: Variabel untuk menyimpan data show dari API

---

<a name="langkah-3-mengubah-endpoint-api"></a>
## ğŸŒ Langkah 3: Mengubah Endpoint API

TMDB API memiliki endpoint yang berbeda untuk TV shows dan movies.

### ğŸ”„ Perubahan Endpoint:

```javascript
// âŒ SEBELUM
const show = await fetchAPIData(`movie/${showId}`);

// âœ… SESUDAH
const show = await fetchAPIData(`tv/${showId}`);  // ğŸŸ¢ Ubah 'movie' menjadi 'tv'
```

### ğŸ’¡ Penjelasan:
- **`movie/${showId}`**: Endpoint untuk detail movie
- **`tv/${showId}`**: Endpoint untuk detail TV show
- TMDB API menggunakan prefix `tv/` untuk semua data TV shows

### ğŸ”„ Perubahan displayBackgroundImage:

```javascript
// âŒ SEBELUM
displayBackgroundImage('movie', movie.backdrop_path);

// âœ… SESUDAH
displayBackgroundImage('tv', show.backdrop_path);  // ğŸŸ¢ Ubah 'movie' menjadi 'tv' dan movie.backdrop_path menjadi show.backdrop_path
```

---

<a name="langkah-4-memanggil-function-di-init"></a>
## ğŸš€ Langkah 4: Memanggil Function di init()

Kita perlu memanggil function `displayShowDetails()` ketika berada di halaman `tv-details.html`.

### ğŸ”„ Update Function init():

```javascript
// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();  // ğŸŸ¢ Tambahkan ini (sebelumnya: console.log('TV Details'))
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}
```

### ğŸ’¡ Penjelasan:
- **Switch case**: Mendeteksi halaman mana yang sedang dibuka
- **`displayShowDetails()`**: Function yang akan dipanggil saat membuka `tv-details.html`

---

<a name="langkah-5-menghapus-html-statis"></a>
## ğŸ—‘ï¸ Langkah 5: Menghapus HTML Statis

Pada `tv-details.html`, biasanya ada HTML placeholder/statis yang perlu dihapus karena kita akan menggantinya dengan HTML dinamis dari JavaScript.

### âš ï¸ Masalah yang Terjadi:
Ketika HTML statis masih ada, konten akan tampil ganda atau data tidak muncul.

### âœ… Solusi:

Di file `tv-details.html`, pastikan hanya ada container kosong:

```html
<!-- âœ… BENAR - Container kosong -->
<div id="show-details"></div>

<!-- âŒ SALAH - Jangan ada HTML statis di dalam -->
<div id="show-details">
  <div class="details-top">
    <!-- HTML statis yang harus dihapus -->
  </div>
</div>
```

### ğŸ’¡ Penjelasan:
Container `#show-details` harus kosong karena JavaScript akan mengisi kontennya secara dinamis menggunakan `appendChild()`.

---

<a name="langkah-6-mengubah-field-movie-ke-show"></a>
## ğŸ”„ Langkah 6: Mengubah Field Movie ke Show

Sekarang kita perlu mengubah semua referensi `movie` menjadi `show` di dalam HTML template.

### ğŸ› ï¸ Cara Cepat Menggunakan Find & Replace:

Gunakan **Command + D** (Mac) atau **Ctrl + D** (Windows) untuk select multiple occurrences:

```javascript
// âŒ SEBELUM
div.innerHTML = `
  <div class="details-top">
    <div>
      ${
        movie.poster_path  // âŒ
          ? `<img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" />`
          : `<img src="../images/no-image.jpg" />`
      }
    </div>
    <div>
      <h2>${movie.title}</h2>  // âŒ
      <p>${movie.vote_average.toFixed(1)} / 10</p>  // âŒ
      // ...
    </div>
  </div>
`;

// âœ… SESUDAH
div.innerHTML = `
  <div class="details-top">
    <div>
      ${
        show.poster_path  // ğŸŸ¢ Ubah movie menjadi show
          ? `<img src="https://image.tmdb.org/t/p/w500${show.poster_path}" />`
          : `<img src="../images/no-image.jpg" />`
      }
    </div>
    <div>
      <h2>${show.name}</h2>  // ğŸŸ¢ show.title menjadi show.name (akan diubah di langkah berikutnya)
      <p>${show.vote_average.toFixed(1)} / 10</p>  // ğŸŸ¢
      // ...
    </div>
  </div>
`;
```

### âš ï¸ Perhatian:
Pada tahap ini, masih akan ada error karena beberapa field berbeda antara movie dan show. Kita akan memperbaikinya di langkah berikutnya.

---

<a name="langkah-7-debugging-dengan-console-log"></a>
## ğŸ› Langkah 7: Debugging dengan Console Log

Untuk melihat struktur data yang kita terima dari API, kita akan menggunakan `console.log()`.

### ğŸ” Tambahkan Console Log:

```javascript
async function displayShowDetails() {
  const showId = window.location.search.split('=')[1];
  const show = await fetchAPIData(`tv/${showId}`);
  
  console.log(show);  // ğŸŸ¢ Tambahkan ini untuk debugging
  
  displayBackgroundImage('tv', show.backdrop_path);
  // ...
}
```

### ğŸ“Š Hasil di Console:

Setelah menjalankan kode, buka **Developer Tools** (F12) dan lihat tab **Console**. Kamu akan melihat object seperti ini:

```javascript
{
  name: "Breaking Bad",  // ğŸ” Bukan "title"
  last_air_date: "2013-09-29",  // ğŸ” Bukan "release_date"
  number_of_episodes: 62,  // ğŸ” Field khusus TV show
  last_episode_to_air: {  // ğŸ” Field khusus TV show
    name: "Felina"
  },
  vote_average: 9.5,
  overview: "...",
  genres: [...],
  // ...
}
```

### ğŸ’¡ Penjelasan:
Dengan melihat data di console, kita bisa mengetahui field apa saja yang tersedia dan namanya apa. Ini sangat membantu untuk debugging.

---

<a name="langkah-8-menyesuaikan-field-yang-berbeda"></a>
## ğŸ”§ Langkah 8: Menyesuaikan Field yang Berbeda

Berdasarkan data yang kita lihat di console, ada beberapa field yang berbeda antara movie dan TV show.

### ğŸ“ Perbedaan Field Movie vs TV Show:

| Movie | TV Show | Penjelasan |
|-------|---------|------------|
| `title` | `name` | Nama movie vs nama show |
| `release_date` | `last_air_date` | Tanggal rilis vs tanggal episode terakhir |
| `budget` | `number_of_episodes` | Budget film vs jumlah episode |
| `revenue` | `last_episode_to_air` | Revenue film vs episode terakhir |
| `runtime` | *(tidak ada)* | Durasi film (TV show tidak punya) |

---

### ğŸ”„ A. Mengubah `title` menjadi `name`

```javascript
// âŒ SEBELUM
<h2>${show.title}</h2>
<img alt="${show.title}" />

// âœ… SESUDAH
<h2>${show.name}</h2>  // ğŸŸ¢ Ubah title menjadi name
<img alt="${show.name}" />  // ğŸŸ¢ Ubah title menjadi name
```

### ğŸ’¡ Penjelasan:
TV shows menggunakan property `name` bukan `title`.

---

### ğŸ”„ B. Mengubah `release_date` menjadi `last_air_date`

```javascript
// âŒ SEBELUM
<p class="text-muted">Release Date: ${show.release_date}</p>

// âœ… SESUDAH
<p class="text-muted">Last Air Date: ${show.last_air_date}</p>  // ğŸŸ¢ Ubah release_date menjadi last_air_date
```

### ğŸ’¡ Penjelasan:
- **`release_date`**: Tanggal rilis film
- **`last_air_date`**: Tanggal episode terakhir dari TV show ditayangkan

---

### ğŸ”„ C. Mengubah Section "Movie Info" menjadi "Show Info"

```javascript
// âŒ SEBELUM
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> $${addCommasToNumber(show.budget)}</li>
    <li><span class="text-secondary">Revenue:</span> $${addCommasToNumber(show.revenue)}</li>
    <li><span class="text-secondary">Runtime:</span> ${show.runtime} minutes</li>
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
</div>

// âœ… SESUDAH
<div class="details-bottom">
  <h2>Show Info</h2>  // ğŸŸ¢ Ubah "Movie Info" menjadi "Show Info"
  <ul>
    <li><span class="text-secondary">Number of Episodes:</span> ${show.number_of_episodes}</li>  // ğŸŸ¢ Ganti Budget
    <li><span class="text-secondary">Last Episode To Air:</span> ${show.last_episode_to_air.name}</li>  // ğŸŸ¢ Ganti Revenue
    <!-- ğŸŸ¢ Hapus Runtime karena TV show tidak punya runtime -->
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
</div>
```

### ğŸ’¡ Penjelasan Detail:

**1. Number of Episodes:**
```javascript
${show.number_of_episodes}
```
- Menampilkan total jumlah episode yang sudah tayang
- Contoh: `62` untuk Breaking Bad

**2. Last Episode To Air:**
```javascript
${show.last_episode_to_air.name}
```
- `last_episode_to_air` adalah **object**, bukan string
- Kita perlu akses property `.name` untuk mendapatkan nama episode
- Contoh: `"Felina"` (episode terakhir Breaking Bad)

**3. Runtime - Dihapus:**
- TV shows tidak memiliki runtime tetap
- Setiap episode bisa punya durasi berbeda
- Oleh karena itu, field ini dihapus

---

### ğŸ”„ D. Mengubah Target Element

Jangan lupa mengubah selector target element:

```javascript
// âŒ SEBELUM
document.querySelector('#movie-details').appendChild(div);

// âœ… SESUDAH
document.querySelector('#show-details').appendChild(div);  // ğŸŸ¢ Ubah #movie-details menjadi #show-details
```

### ğŸ’¡ Penjelasan:
Element dengan ID `#show-details` ada di file `tv-details.html`, bukan `#movie-details`.

---

### ğŸ—‘ï¸ E. Hapus Console Log

Setelah selesai debugging, hapus console.log:

```javascript
// ğŸŸ¢ Hapus baris ini
console.log(show);
```

---

<a name="langkah-9-testing-dan-hasil-akhir"></a>
## âœ… Langkah 9: Testing dan Hasil Akhir

### ğŸ§ª Cara Testing:

1. **Buka halaman utama** (`index.html` atau `shows.html`)
2. **Klik salah satu TV show**
3. **Periksa apakah data muncul dengan benar**

### ğŸ‰ Hasil yang Diharapkan:

Ketika kamu klik sebuah TV show, halaman `tv-details.html` akan menampilkan:

- âœ… **Backdrop image** sebagai background
- âœ… **Poster** TV show
- âœ… **Title/Name** TV show
- âœ… **Rating** (contoh: 9.5 / 10)
- âœ… **Last Air Date** (tanggal episode terakhir tayang)
- âœ… **Overview** (deskripsi singkat)
- âœ… **Genres** (Drama, Crime, Thriller, dll)
- âœ… **Homepage** link
- âœ… **Number of Episodes** (total episode)
- âœ… **Last Episode To Air** (nama episode terakhir)
- âœ… **Status** (Ended, Returning Series, dll)
- âœ… **Production Companies**

### ğŸ” Testing Checklist:

```
â–¡ Backdrop image muncul dengan opacity 0.1
â–¡ Poster image muncul (atau no-image.jpg jika tidak ada poster)
â–¡ Title menggunakan show.name (bukan show.title)
â–¡ Rating ditampilkan dengan 1 desimal
â–¡ Last Air Date muncul dengan format yang benar
â–¡ Genres ditampilkan dalam bentuk list
â–¡ Number of episodes muncul sebagai angka
â–¡ Last episode name muncul (bukan object)
â–¡ Tidak ada error di console
â–¡ Tidak ada field "Budget", "Revenue", atau "Runtime"
```

---

<a name="kode-lengkap"></a>
## ğŸ“¦ Kode Lengkap

### Function `displayShowDetails()`:

```javascript
// Display Show Details
async function displayShowDetails() {
  const showId = window.location.search.split('=')[1];

  const show = await fetchAPIData(`tv/${showId}`);

  // Overlay for background image
  displayBackgroundImage('tv', show.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    show.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${show.poster_path}"
    class="card-img-top"
    alt="${show.name}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${show.name}"
/>`
  }
  </div>
  <div>
    <h2>${show.name}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${show.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Last Air Date: ${show.last_air_date}</p>
    <p>
      ${show.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${show.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      show.homepage
    }" target="_blank" class="btn">Visit Show Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Show Info</h2>
  <ul>
    <li><span class="text-secondary">Number of Episodes:</span> ${
      show.number_of_episodes
    }</li>
    <li><span class="text-secondary">Last Episode To Air:</span> ${
      show.last_episode_to_air.name
    }</li>
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${show.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#show-details').appendChild(div);
}
```

### Update di Function `init()`:

```javascript
// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();  // ğŸŸ¢ Tambahkan ini
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}
```

---

<a name="ringkasan"></a>
## ğŸ“š Ringkasan

### ğŸ¯ Apa yang Sudah Kita Pelajari:

1. **Cara menyalin dan memodifikasi function** untuk kebutuhan serupa
2. **Perbedaan endpoint API** antara movie (`/movie/`) dan TV show (`/tv/`)
3. **Perbedaan field data** antara movie dan TV show:
   - `title` vs `name`
   - `release_date` vs `last_air_date`
   - `budget`/`revenue` vs `number_of_episodes`/`last_episode_to_air`
4. **Cara debugging menggunakan `console.log()`** untuk melihat struktur data
5. **Cara mengakses nested object** (`show.last_episode_to_air.name`)
6. **Pentingnya menghapus HTML statis** agar tidak bentrok dengan HTML dinamis

### ğŸ”‘ Poin Penting:

- âš ï¸ **Selalu cek dokumentasi API** untuk mengetahui struktur data yang benar
- ğŸ› **Gunakan console.log()** untuk debugging saat ada error
- ğŸ”„ **Field yang berbeda** antara movie dan TV show harus disesuaikan
- ğŸ“ **Nested object** perlu diakses dengan dot notation (contoh: `object.property.name`)
- ğŸ¨ **Konsistensi naming** (showId, show, displayShowDetails) membuat code lebih mudah dibaca

### ğŸš€ Langkah Selanjutnya:

Setelah menyelesaikan TV Show Details, berikutnya adalah:
1. Membuat **slider** menggunakan Swiper library
2. Implementasi **search functionality**
3. Menambahkan **pagination** untuk popular movies dan shows

---

### ğŸ’¡ Tips:

- Simpan snippet code yang sering dipakai untuk digunakan kembali
- Gunakan VS Code extension seperti "Better Comments" untuk highlight code
- Buat catatan tentang perbedaan API endpoint untuk referensi cepat
- Test aplikasi di berbagai TV shows untuk memastikan semua field bekerja

---

<a name="full-code-script-js"></a>
## ğŸ“„ Full Code script.js

Berikut adalah **full code lengkap** dari `script.js` setelah menambahkan fitur TV Show Details:

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Display 20 most popular tv shows
async function displayPopularShows() {
  const { results } = await fetchAPIData('tv/popular');

  results.forEach((show) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="tv-details.html?id=${show.id}">
            ${
              show.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${show.poster_path}"
              class="card-img-top"
              alt="${show.name}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${show.name}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${show.name}</h5>
            <p class="card-text">
              <small class="text-muted">Air Date: ${show.first_air_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-shows').appendChild(div);
  });
}

// Display Movie Details
async function displayMovieDetails() {
  const movieId = window.location.search.split('=')[1];

  const movie = await fetchAPIData(`movie/${movieId}`);

  // Overlay for background image
  displayBackgroundImage('movie', movie.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    movie.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
    class="card-img-top"
    alt="${movie.title}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${movie.title}"
/>`
  }
  </div>
  <div>
    <h2>${movie.title}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${movie.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Release Date: ${movie.release_date}</p>
    <p>
      ${movie.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${movie.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      movie.homepage
    }" target="_blank" class="btn">Visit Movie Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Movie Info</h2>
  <ul>
    <li><span class="text-secondary">Budget:</span> ${addCommasToNumber(
      movie.budget
    )}</li>
    <li><span class="text-secondary">Revenue:</span> ${addCommasToNumber(
      movie.revenue
    )}</li>
    <li><span class="text-secondary">Runtime:</span> ${
      movie.runtime
    } minutes</li>
    <li><span class="text-secondary">Status:</span> ${movie.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${movie.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  document.querySelector('#movie-details').appendChild(div);
}

// ğŸŸ¢ğŸŸ¢ğŸŸ¢ FITUR BARU: Display Show Details ğŸŸ¢ğŸŸ¢ğŸŸ¢
// ğŸ“º Function untuk menampilkan detail TV Show
async function displayShowDetails() {
  // ğŸŸ¢ Ambil showId dari URL parameter
  const showId = window.location.search.split('=')[1];

  // ğŸŸ¢ Fetch data TV show dari API dengan endpoint 'tv/'
  const show = await fetchAPIData(`tv/${showId}`);

  // ğŸŸ¢ Tampilkan backdrop image dengan type 'tv'
  displayBackgroundImage('tv', show.backdrop_path);

  const div = document.createElement('div');

  div.innerHTML = `
  <div class="details-top">
  <div>
  ${
    show.poster_path
      ? `<img
    src="https://image.tmdb.org/t/p/w500${show.poster_path}"
    class="card-img-top"
    alt="${show.name}"
  />`
      : `<img
  src="../images/no-image.jpg"
  class="card-img-top"
  alt="${show.name}"
/>`
  }
  </div>
  <div>
    <h2>${show.name}</h2>
    <p>
      <i class="fas fa-star text-primary"></i>
      ${show.vote_average.toFixed(1)} / 10
    </p>
    <p class="text-muted">Last Air Date: ${show.last_air_date}</p>
    <p>
      ${show.overview}
    </p>
    <h5>Genres</h5>
    <ul class="list-group">
      ${show.genres.map((genre) => `<li>${genre.name}</li>`).join('')}
    </ul>
    <a href="${
      show.homepage
    }" target="_blank" class="btn">Visit Show Homepage</a>
  </div>
</div>
<div class="details-bottom">
  <h2>Show Info</h2>
  <ul>
    <li><span class="text-secondary">Number of Episodes:</span> ${
      show.number_of_episodes
    }</li>
    <li><span class="text-secondary">Last Episode To Air:</span> ${
      show.last_episode_to_air.name
    }</li>
    <li><span class="text-secondary">Status:</span> ${show.status}</li>
  </ul>
  <h4>Production Companies</h4>
  <div class="list-group">
    ${show.production_companies
      .map((company) => `<span>${company.name}</span>`)
      .join(', ')}
  </div>
</div>
  `;

  // ğŸŸ¢ Append ke element #show-details (bukan #movie-details)
  document.querySelector('#show-details').appendChild(div);
}
// ğŸŸ¢ğŸŸ¢ğŸŸ¢ AKHIR FITUR BARU ğŸŸ¢ğŸŸ¢ğŸŸ¢

// Display Backdrop On Details Pages
function displayBackgroundImage(type, backgroundPath) {
  const overlayDiv = document.createElement('div');
  overlayDiv.style.backgroundImage = `url(https://image.tmdb.org/t/p/original/${backgroundPath})`;
  overlayDiv.style.backgroundSize = 'cover';
  overlayDiv.style.backgroundPosition = 'center';
  overlayDiv.style.backgroundRepeat = 'no-repeat';
  overlayDiv.style.height = '100vh';
  overlayDiv.style.width = '100vw';
  overlayDiv.style.position = 'absolute';
  overlayDiv.style.top = '0';
  overlayDiv.style.left = '0';
  overlayDiv.style.zIndex = '-1';
  overlayDiv.style.opacity = '0.1';

  if (type === 'movie') {
    document.querySelector('#movie-details').appendChild(overlayDiv);
  } else {
    // ğŸŸ¢ Tambahkan support untuk TV show backdrop
    document.querySelector('#show-details').appendChild(overlayDiv);
  }
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  // Register your key at https://www.themoviedb.org/settings/api and enter here
  // Only use this for development or very small projects. You should store your key and make requests from a server
  const API_KEY = '';
  const API_URL = 'https://api.themoviedb.org/3/';

  showSpinner();

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  hideSpinner();

  return data;
}

function showSpinner() {
  document.querySelector('.spinner').classList.add('show');
}

function hideSpinner() {
  document.querySelector('.spinner').classList.remove('show');
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

function addCommasToNumber(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      displayPopularShows();
      break;
    case '/movie-details.html':
      displayMovieDetails();
      break;
    case '/tv-details.html':
      displayShowDetails();  // ğŸŸ¢ Panggil function displayShowDetails()
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="penjelasan-perubahan-kode"></a>
## ğŸ” Penjelasan Perubahan Kode

### ğŸ¯ Perubahan yang Dilakukan:

#### **1. Menambahkan Function `displayShowDetails()` (Baris ~170-240)**

```javascript
// ğŸŸ¢ FUNCTION BARU
async function displayShowDetails() {
  const showId = window.location.search.split('=')[1];
  const show = await fetchAPIData(`tv/${showId}`);
  displayBackgroundImage('tv', show.backdrop_path);
  // ... rest of code
}
```

**Penjelasan:**
- âœ¨ Function baru untuk handle TV show details
- ğŸ“¡ Menggunakan endpoint `tv/${showId}` bukan `movie/${movieId}`
- ğŸ–¼ï¸ Memanggil `displayBackgroundImage` dengan parameter `'tv'`

---

#### **2. Update Function `displayBackgroundImage()` (Baris ~245)**

```javascript
// ğŸŸ¢ SEBELUM (hanya support movie)
if (type === 'movie') {
  document.querySelector('#movie-details').appendChild(overlayDiv);
}

// ğŸŸ¢ SESUDAH (support movie & TV show)
if (type === 'movie') {
  document.querySelector('#movie-details').appendChild(overlayDiv);
} else {
  document.querySelector('#show-details').appendChild(overlayDiv);  // ğŸŸ¢ Tambahan
}
```

**Penjelasan:**
- âœ¨ Menambahkan `else` clause untuk handle type `'tv'`
- ğŸ¯ Backdrop akan ditambahkan ke `#show-details` untuk TV shows

---

#### **3. Update Function `init()` (Baris ~295)**

```javascript
case '/tv-details.html':
  displayShowDetails();  // ğŸŸ¢ UBAH dari console.log('TV Details')
  break;
```

**Penjelasan:**
- âœ¨ Memanggil `displayShowDetails()` saat halaman tv-details.html dibuka
- ğŸ”„ Sebelumnya hanya console.log, sekarang function yang sebenarnya

---

### ğŸ“Š Ringkasan Perubahan:

| No | Lokasi | Perubahan | Keterangan |
|----|--------|-----------|------------|
| 1 | Function baru | `displayShowDetails()` | ğŸŸ¢ Fungsi utama untuk TV show details |
| 2 | `displayBackgroundImage()` | Tambah `else` clause | ğŸŸ¢ Support backdrop untuk TV shows |
| 3 | `init()` | Update case `/tv-details.html` | ğŸŸ¢ Panggil function yang benar |

---

### ğŸ¨ Perbedaan Field yang Digunakan:

#### Movie Fields:
```javascript
movie.title           // Judul film
movie.release_date    // Tanggal rilis
movie.budget          // Budget produksi
movie.revenue         // Pendapatan
movie.runtime         // Durasi dalam menit
```

#### TV Show Fields:
```javascript
show.name                      // ğŸŸ¢ Nama serial (bukan 'title')
show.last_air_date            // ğŸŸ¢ Tanggal episode terakhir
show.number_of_episodes       // ğŸŸ¢ Jumlah episode
show.last_episode_to_air.name // ğŸŸ¢ Nama episode terakhir (nested object)
// âŒ Tidak ada: budget, revenue, runtime
```

---

### âš ï¸ Catatan Penting:

1. **API Key**: Jangan lupa isi `API_KEY` dengan key kamu dari TMDB
2. **Endpoint**: 
   - Movies: `movie/${id}`
   - TV Shows: `tv/${id}` â¬…ï¸ **Berbeda!**
3. **Element ID**:
   - Movies: `#movie-details`
   - TV Shows: `#show-details` â¬…ï¸ **Berbeda!**
4. **Nested Object**: `last_episode_to_air` adalah object, jadi perlu `.name` untuk akses nama episode

---

**Selamat! ğŸ‰** Kamu sudah berhasil membuat halaman TV Show Details yang berfungsi dengan baik!
