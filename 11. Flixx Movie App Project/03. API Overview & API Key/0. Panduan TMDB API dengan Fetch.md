# ğŸ¬ Panduan TMDB API dengan Fetch

> **Penjelasan lengkap kenapa template Node.js tidak pakai API Key**

---

## ğŸ“Œ Perubahan Sistem Autentikasi TMDB

### ğŸ•°ï¸ **Cara Lama (yang Anda lihat di video)**
```http
GET /search/movie?api_key=YOUR_API_KEY&query=The Dark Knight
```

### âœ¨ **Cara Baru (yang digunakan sekarang)**
TMDB sekarang lebih merekomendasikan penggunaan **Bearer Token** (Access Token) daripada API Key di query parameter karena lebih aman.

---

## ğŸ’¡ Kenapa Template Node.js Tidak Pakai API Key?

### âœ… Alasan Utama:

1. **Template menggunakan Bearer Token** di headers (lebih aman dan modern)
2. **API Key disimpan di environment variable** (`.env` file) - tidak terlihat di kode
3. **Best practice security** - tidak expose API key di URL yang bisa terlihat di log

---

## ğŸš€ Implementasi dengan Fetch (Tanpa Axios)

### 1ï¸âƒ£ **Cara Paling Sederhana - Dengan API Key**

```javascript
const API_KEY = 'your_api_key_here';
const BASE_URL = 'https://api.themoviedb.org/3';

async function searchMovie(query) {
  try {
    const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`;
    
    const response = await fetch(url);
    const data = await response.json();
    
    console.log(data);
    return data;
  } catch (error) {
    console.error('Error:', error);
  }
}

// Cara pakai
searchMovie('The Dark Knight');
```

**ğŸ“ Catatan:** Ini cara paling simpel, cocok untuk belajar!

---

### 2ï¸âƒ£ **Cara yang Lebih Rapi - Dengan URLSearchParams**

```javascript
const API_KEY = 'your_api_key_here';
const BASE_URL = 'https://api.themoviedb.org/3';

async function searchMovie(query) {
  try {
    // Buat parameter query dengan rapi
    const params = new URLSearchParams({
      api_key: API_KEY,
      query: query,
      language: 'en-US',  // opsional
      page: 1             // opsional
    });
    
    const url = `${BASE_URL}/search/movie?${params}`;
    const response = await fetch(url);
    
    // Cek apakah response berhasil
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    console.log(data);
    return data;
  } catch (error) {
    console.error('Error:', error);
  }
}

searchMovie('The Dark Knight');
```

**âœ¨ Keuntungan:** Lebih mudah dibaca dan di-maintain!

---

### 3ï¸âƒ£ **Cara Modern - Dengan Bearer Token (Recommended!)**

```javascript
const ACCESS_TOKEN = 'your_bearer_token_here';
const BASE_URL = 'https://api.themoviedb.org/3';

async function searchMovie(query) {
  try {
    const params = new URLSearchParams({
      query: query
    });
    
    const url = `${BASE_URL}/search/movie?${params}`;
    
    const response = await fetch(url, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${ACCESS_TOKEN}`,
        'Content-Type': 'application/json'
      }
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    console.log(data);
    return data;
  } catch (error) {
    console.error('Error:', error);
  }
}

searchMovie('The Dark Knight');
```

**ğŸ”’ Ini cara yang paling aman dan direkomendasikan TMDB!**

---

## ğŸ” Menggunakan Environment Variable (Best Practice!)

### **File: `.env`**
```env
TMDB_API_KEY=abc123xyz456your_real_api_key_here
```

### **File: `app.js`**
```javascript
// Install dulu: npm install dotenv
require('dotenv').config();

const BASE_URL = 'https://api.themoviedb.org/3';

async function searchMovie(query) {
  const params = new URLSearchParams({
    api_key: process.env.TMDB_API_KEY,  // â† API Key dari .env
    query: query
  });
  
  const url = `${BASE_URL}/search/movie?${params}`;
  const response = await fetch(url);
  const data = await response.json();
  
  return data;
}

searchMovie('Avengers');
```

**ğŸ¯ Keuntungan:**
- API Key tidak terlihat di kode
- Lebih aman saat push ke GitHub
- Mudah ganti API Key tanpa ubah kode

---

## ğŸ¨ Contoh Lengkap dengan Output yang Cantik

```javascript
require('dotenv').config();

async function searchAndDisplay(query) {
  const params = new URLSearchParams({
    api_key: process.env.TMDB_API_KEY,
    query: query
  });
  
  const response = await fetch(`https://api.themoviedb.org/3/search/movie?${params}`);
  const data = await response.json();
  
  console.log(`\nğŸ¬ Ditemukan ${data.total_results} film:\n`);
  
  data.results.slice(0, 5).forEach((movie, index) => {
    console.log(`${index + 1}. ğŸ¥ ${movie.title}`);
    console.log(`   ğŸ“… Tahun: ${movie.release_date}`);
    console.log(`   â­ Rating: ${movie.vote_average}/10`);
    console.log(`   ğŸ“ ${movie.overview.substring(0, 100)}...`);
    console.log('');
  });
}

searchAndDisplay('Avengers');
```

**ğŸ“¤ Output:**
```
ğŸ¬ Ditemukan 142 film:

1. ğŸ¥ The Avengers
   ğŸ“… Tahun: 2012-04-25
   â­ Rating: 7.7/10
   ğŸ“ When an unexpected enemy emerges and threatens global safety...

2. ğŸ¥ Avengers: Endgame
   ğŸ“… Tahun: 2019-04-24
   â­ Rating: 8.3/10
   ğŸ“ After the devastating events of Avengers: Infinity War...
```

---

## ğŸ”‘ Cara Mendapatkan API Key & Bearer Token

### **Langkah-langkah:**

1. **Login** ke akun TMDB Anda di [themoviedb.org](https://www.themoviedb.org)
2. Klik profile Anda â†’ pilih **Settings**
3. Pilih menu **API** di sidebar kiri
4. Anda akan melihat:
   - **API Key (v3 auth)** â†’ untuk parameter `api_key`
   - **API Read Access Token (v4 auth)** â†’ untuk Bearer token di header

**ğŸ’¡ Tips:** Copy dan simpan kedua-duanya di file `.env` Anda!

---

## âš–ï¸ Perbandingan: Fetch vs Axios

| Fitur | Fetch (Built-in) | Axios (Library) |
|-------|------------------|-----------------|
| **Install** | âœ… Sudah ada di Node.js 18+ | âŒ Perlu `npm install axios` |
| **Dependency** | âœ… Tidak perlu library tambahan | âŒ Butuh library eksternal |
| **Parse JSON** | âš ï¸ Perlu `.json()` manual | âœ… Otomatis parse JSON |
| **Error Handling** | âš ï¸ Perlu cek `response.ok` | âœ… Otomatis throw error |
| **Syntax** | âš ï¸ Sedikit lebih panjang | âœ… Lebih ringkas |
| **Size** | âœ… 0 KB (built-in) | âš ï¸ ~11 KB minified |

---

## ğŸ¯ Kesimpulan & Rekomendasi

### **Untuk Pemula:**
Pakai **Fetch** dulu! Karena:
- âœ… Tidak perlu install apa-apa
- âœ… Sudah cukup untuk kebutuhan dasar
- âœ… Syntax standar JavaScript modern
- âœ… Lebih mudah dipahami konsepnya

### **Untuk Production:**
- Gunakan **Bearer Token** di headers (lebih aman)
- Simpan credentials di **`.env`** file
- Tambahkan **error handling** yang proper
- Pertimbangkan **Axios** kalau project sudah kompleks

---

## ğŸ¤” FAQ - Pertanyaan yang Sering Ditanya

**Q: Kenapa video tutorial pakai API Key tapi template tidak?**  
A: Video mungkin lama. Template modern pakai Bearer Token di headers yang lebih aman.

**Q: Mana yang lebih baik, API Key atau Bearer Token?**  
A: Bearer Token lebih direkomendasikan karena lebih aman dan mengikuti standar OAuth 2.0.

**Q: Apakah harus pakai `.env` file?**  
A: Sangat direkomendasikan! Terutama kalau kode Anda akan di-push ke GitHub.

**Q: Fetch atau Axios?**  
A: Untuk belajar, pakai Fetch dulu. Nanti kalau butuh fitur lebih, baru pakai Axios.

---

## ğŸš€ Next Steps

Setelah paham fetch, coba:
1. Buat fungsi untuk fetch movie details
2. Buat fungsi untuk fetch popular movies
3. Buat fungsi untuk search actors
4. Kombinasikan dengan Express.js untuk buat API sendiri

**Selamat coding! ğŸ‰**
