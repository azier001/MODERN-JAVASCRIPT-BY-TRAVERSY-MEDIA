# ğŸ¬ Tutorial Menampilkan Popular Movies dari TMDB API

> ğŸ“š **Dokumentasi Pribadi untuk Pemula**  
> Belajar cara fetch data dari API dan menampilkannya di halaman web

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Membuat Fungsi Fetch API](#langkah-1-membuat-fungsi-fetch-api)
- [Langkah 2: Membuat Fungsi Display Popular Movies](#langkah-2-membuat-fungsi-display-popular-movies)
- [Langkah 3: Menambahkan Struktur Card](#langkah-3-menambahkan-struktur-card)
- [Langkah 4: Menampilkan Data Movie](#langkah-4-menampilkan-data-movie)
- [Langkah 5: Menangani Gambar Poster](#langkah-5-menangani-gambar-poster)
- [Langkah 6: Memasukkan ke DOM](#langkah-6-memasukkan-ke-dom)
- [Langkah 7: Memanggil Fungsi](#langkah-7-memanggil-fungsi)
- [Kode Lengkap](#kode-lengkap)
- [Tips & Catatan Penting](#tips--catatan-penting)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara:
- âœ… Mengambil data film dari **TMDB (The Movie Database) API**
- âœ… Menampilkan 20 film paling populer di halaman web
- âœ… Menangani gambar yang tidak tersedia
- âœ… Membuat card dinamis dengan JavaScript

**Hasil Akhir:** Halaman web yang menampilkan 20 film populer dengan poster, judul, dan tanggal rilis.

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

### Yang Kamu Butuhkan:
1. **API Key** dari TMDB (gratis, daftar di https://www.themoviedb.org/settings/api)
2. File `script.js` dengan kode starter
3. File `index.html` dengan struktur dasar

### Kode Starter (script.js):

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      console.log('Home');
      break;
    case '/shows.html':
      console.log('Shows');
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="langkah-1-membuat-fungsi-fetch-api"></a>
## ğŸ“¡ Langkah 1: Membuat Fungsi Fetch API

### ğŸ¯ Tujuan:
Membuat fungsi reusable untuk mengambil data dari TMDB API.

### ğŸ“ Tambahkan Kode Ini:

```javascript
// ğŸ†• TAMBAHKAN FUNGSI INI SETELAH FUNGSI displayPopularMovies()
// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  // âš ï¸ Register your key at https://www.themoviedb.org/settings/api
  const API_KEY = ''; // ğŸ‘ˆ MASUKKAN API KEY KAMU DI SINI
  const API_URL = 'https://api.themoviedb.org/3/';

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  return data;
}
```

### ğŸ“– Penjelasan:

| Bagian | Penjelasan |
|--------|------------|
| `async function` | Fungsi asynchronous untuk menangani operasi fetch |
| `API_KEY` | Kunci rahasia untuk akses API (ganti dengan punyamu) |
| `API_URL` | Base URL untuk semua request ke TMDB |
| `endpoint` | Parameter dinamis (contoh: `'movie/popular'`) |
| `await fetch()` | Menunggu response dari server |
| `.json()` | Mengubah response menjadi objek JavaScript |

### âš ï¸ Catatan Penting:
- **Jangan** commit API key ke repository public
- Untuk production, simpan API key di server backend
- Untuk belajar, masukkan langsung di kode (tapi hati-hati!)

---

<a name="langkah-2-membuat-fungsi-display-popular-movies"></a>
## ğŸ¬ Langkah 2: Membuat Fungsi Display Popular Movies

### ğŸ¯ Tujuan:
Membuat fungsi untuk menampilkan 20 film populer.

### ğŸ“ Tambahkan Kode Ini (di ATAS fungsi fetchAPIData):

```javascript
// ğŸ†• TAMBAHKAN FUNGSI INI SEBELUM fetchAPIData()
// Display 20 most popular movies
async function displayPopularMovies() {
  // ğŸ‘‡ Destructuring untuk mengambil array 'results'
  const { results } = await fetchAPIData('movie/popular');

  // ğŸ‘‡ Console log dulu untuk cek data
  console.log(results);
}
```

### ğŸ“– Penjelasan:

- `const { results }` = **Destructuring** objek untuk langsung ambil array `results`
- `await fetchAPIData('movie/popular')` = Memanggil fungsi fetch dengan endpoint popular movies
- `console.log(results)` = Cek dulu datanya seperti apa

### ğŸ§ª Test Dulu:

1. Buka `index.html` di browser
2. Buka **Developer Console** (F12)
3. Lihat array dengan 20 objek movie

---

<a name="langkah-3-menambahkan-struktur-card"></a>
## ğŸ´ Langkah 3: Menambahkan Struktur Card

### ğŸ¯ Tujuan:
Membuat card untuk setiap movie menggunakan `forEach` loop.

### ğŸ“ Update Fungsi displayPopularMovies:

```javascript
// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  // ğŸ†• TAMBAHKAN LOOP FOREACH
  results.forEach((movie) => {
    // ğŸ‘‡ Buat element div baru
    const div = document.createElement('div');
    
    // ğŸ‘‡ Tambahkan class 'card'
    div.classList.add('card');
    
    // ğŸ‘‡ Isi HTML card (akan kita isi di langkah berikutnya)
    div.innerHTML = `
      <!-- HTML card akan ada di sini -->
    `;
  });
}
```

### ğŸ“– Penjelasan:

| Kode | Fungsi |
|------|--------|
| `results.forEach((movie) => {})` | Loop melalui setiap movie di array |
| `document.createElement('div')` | Buat element `<div>` baru |
| `div.classList.add('card')` | Tambahkan class CSS 'card' |
| `div.innerHTML` | Isi HTML di dalam div |

---

<a name="langkah-4-menampilkan-data-movie"></a>
## ğŸ“ Langkah 4: Menampilkan Data Movie

### ğŸ¯ Tujuan:
Mengisi card dengan data movie (judul, link, tanggal rilis).

### ğŸ“ Update bagian `div.innerHTML`:

```javascript
div.innerHTML = `
  <!-- ğŸ”— Link ke halaman detail -->
  <a href="movie-details.html?id=${movie.id}">
    <!-- Gambar akan ditambahkan di langkah 5 -->
  </a>
  
  <!-- ğŸ“„ Body card -->
  <div class="card-body">
    <!-- ğŸ¬ Judul film -->
    <h5 class="card-title">${movie.title}</h5>
    
    <!-- ğŸ“… Tanggal rilis -->
    <p class="card-text">
      <small class="text-muted">Release: ${movie.release_date}</small>
    </p>
  </div>
`;
```

### ğŸ“– Data yang Digunakan:

| Variable | Isi | Contoh |
|----------|-----|--------|
| `${movie.id}` | ID unik film | `123456` |
| `${movie.title}` | Judul film | `"Avatar"` |
| `${movie.release_date}` | Tanggal rilis | `"2009-12-18"` |

---

<a name="langkah-5-menangani-gambar-poster"></a>
## ğŸ–¼ï¸ Langkah 5: Menangani Gambar Poster

### ğŸ¯ Tujuan:
Menampilkan poster film, atau gambar default jika tidak ada.

### ğŸ“ Tambahkan Kode Gambar di dalam tag `<a>`:

```javascript
<a href="movie-details.html?id=${movie.id}">
  ${
    // ğŸ†• CEK: apakah poster_path ada?
    movie.poster_path
      ? // âœ… JIKA ADA: tampilkan poster dari TMDB
        `<img
          src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
          class="card-img-top"
          alt="${movie.title}"
        />`
      : // âŒ JIKA TIDAK: tampilkan gambar 'no-image'
        `<img
          src="../images/no-image.jpg"
          class="card-img-top"
          alt="${movie.title}"
        />`
  }
</a>
```

### ğŸ“– Penjelasan Ternary Operator:

```javascript
// Struktur: kondisi ? jika_true : jika_false

movie.poster_path     // ğŸ‘ˆ Kondisi (cek ada atau tidak)
  ? `<img src="...">` // ğŸ‘ˆ Jika TRUE (ada poster)
  : `<img src="...">` // ğŸ‘ˆ Jika FALSE (tidak ada poster)
```

### ğŸ”— URL Gambar TMDB:

| Bagian | Keterangan |
|--------|------------|
| `https://image.tmdb.org/t/p/` | Base URL untuk gambar |
| `w500` | Lebar gambar (500px) |
| `${movie.poster_path}` | Path unik untuk setiap poster |

**Contoh URL lengkap:**  
`https://image.tmdb.org/t/p/w500/abc123.jpg`

---

<a name="langkah-6-memasukkan-ke-dom"></a>
## ğŸŒ Langkah 6: Memasukkan ke DOM

### ğŸ¯ Tujuan:
Menambahkan card yang sudah dibuat ke halaman HTML.

### ğŸ“ Tambahkan di Akhir Loop forEach:

```javascript
results.forEach((movie) => {
  const div = document.createElement('div');
  div.classList.add('card');
  div.innerHTML = `
    <!-- ... HTML card ... -->
  `;

  // ğŸ†• TAMBAHKAN BARIS INI
  // ğŸ‘‡ Masukkan div ke element dengan id 'popular-movies'
  document.querySelector('#popular-movies').appendChild(div);
});
```

### ğŸ“– Penjelasan:

| Kode | Fungsi |
|------|--------|
| `document.querySelector('#popular-movies')` | Cari element dengan id `popular-movies` |
| `.appendChild(div)` | Tambahkan `div` sebagai child terakhir |

### ğŸ“„ HTML yang Dibutuhkan (index.html):

```html
<!-- Harus ada element dengan id ini di HTML -->
<div id="popular-movies">
  <!-- Card akan ditambahkan di sini -->
</div>
```

---

<a name="langkah-7-memanggil-fungsi"></a>
## â–¶ï¸ Langkah 7: Memanggil Fungsi

### ğŸ¯ Tujuan:
Menjalankan fungsi saat halaman home dibuka.

### ğŸ“ Update Fungsi init():

```javascript
// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      // âŒ HAPUS: console.log('Home');
      // ğŸ†• TAMBAHKAN: panggil fungsi
      displayPopularMovies(); // ğŸ‘ˆ TAMBAHKAN BARIS INI
      break;
    case '/shows.html':
      console.log('Shows');
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}
```

### ğŸ“– Penjelasan:

- Fungsi `init()` dijalankan saat halaman load (via `DOMContentLoaded`)
- `switch` statement mengecek halaman mana yang dibuka
- Jika halaman home (`/` atau `/index.html`), jalankan `displayPopularMovies()`

---

<a name="kode-lengkap"></a>
## ğŸ“¦ Kode Lengkap

### âœ… script.js Versi Final:

```javascript
const global = {
  currentPage: window.location.pathname,
};

// Display 20 most popular movies
async function displayPopularMovies() {
  const { results } = await fetchAPIData('movie/popular');

  results.forEach((movie) => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
          <a href="movie-details.html?id=${movie.id}">
            ${
              movie.poster_path
                ? `<img
              src="https://image.tmdb.org/t/p/w500${movie.poster_path}"
              class="card-img-top"
              alt="${movie.title}"
            />`
                : `<img
            src="../images/no-image.jpg"
            class="card-img-top"
            alt="${movie.title}"
          />`
            }
          </a>
          <div class="card-body">
            <h5 class="card-title">${movie.title}</h5>
            <p class="card-text">
              <small class="text-muted">Release: ${movie.release_date}</small>
            </p>
          </div>
        `;

    document.querySelector('#popular-movies').appendChild(div);
  });
}

// Fetch data from TMDB API
async function fetchAPIData(endpoint) {
  const API_KEY = ''; // ğŸ‘ˆ MASUKKAN API KEY KAMU
  const API_URL = 'https://api.themoviedb.org/3/';

  const response = await fetch(
    `${API_URL}${endpoint}?api_key=${API_KEY}&language=en-US`
  );

  const data = await response.json();

  return data;
}

// Highlight active link
function highlightActiveLink() {
  const links = document.querySelectorAll('.nav-link');
  links.forEach((link) => {
    if (link.getAttribute('href') === global.currentPage) {
      link.classList.add('active');
    }
  });
}

// Init App
function init() {
  switch (global.currentPage) {
    case '/':
    case '/index.html':
      displayPopularMovies();
      break;
    case '/shows.html':
      console.log('Shows');
      break;
    case '/movie-details.html':
      console.log('Movie Details');
      break;
    case '/tv-details.html':
      console.log('TV Details');
      break;
    case '/search.html':
      console.log('Search');
      break;
  }

  highlightActiveLink();
}

document.addEventListener('DOMContentLoaded', init);
```

---

<a name="tips--catatan-penting"></a>
## ğŸ’¡ Tips & Catatan Penting

### âš ï¸ Keamanan API Key:

| âŒ Jangan | âœ… Lakukan |
|----------|-----------|
| Commit API key ke GitHub public | Simpan di `.env` file |
| Hardcode di production app | Gunakan backend server |
| Share API key dengan orang lain | Buat key baru jika bocor |

### ğŸ¨ Customization:

```javascript
// Ubah jumlah film yang ditampilkan
'movie/popular?page=2' // Halaman 2 (film 21-40)

// Ubah ukuran gambar
'w500'  // 500px (default)
'w300'  // 300px (lebih kecil)
'w780'  // 780px (lebih besar)
'original' // Ukuran asli

// Ubah bahasa
'language=en-US'  // English
'language=id-ID'  // Indonesian
```

### ğŸ› Troubleshooting:

| Masalah | Solusi |
|---------|--------|
| Tidak ada gambar muncul | Cek API key sudah benar |
| Error 401 Unauthorized | API key salah atau expired |
| Gambar broken | Pastikan `no-image.jpg` ada di folder `images/` |
| Console error | Cek Developer Console untuk detail error |

### ğŸ“š Next Steps:

Setelah ini berhasil, kamu bisa:
1. âœ… Menampilkan **TV Shows populer** (endpoint: `tv/popular`)
2. âœ… Menambahkan **pagination** untuk melihat lebih banyak film
3. âœ… Membuat halaman **detail film**
4. âœ… Menambahkan fitur **search**

---

## ğŸ‰ Selamat!

Kamu sudah berhasil membuat aplikasi yang bisa fetch dan display data dari API! ğŸš€

**Yang sudah kamu pelajari:**
- âœ… Fetch API dengan `async/await`
- âœ… Destructuring object
- âœ… Loop dengan `forEach`
- âœ… DOM manipulation
- âœ… Template literals
- âœ… Ternary operator
- âœ… Conditional rendering

Keep coding! ğŸ’»âœ¨
