# ğŸ“š Dokumentasi Callback Hell - JavaScript untuk Pemula

> **Catatan Pribadi**: Dokumentasi ini dibuat untuk memahami konsep Callback Hell dalam JavaScript melalui praktek bertahap.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Callback Hell?](#apa-itu-callback-hell)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Membuat File HTML](#langkah-1-membuat-file-html)
- [Langkah 2: Membuat File JSON](#langkah-2-membuat-file-json)
- [Langkah 3: Membuat Fungsi getData](#langkah-3-membuat-fungsi-getdata)
- [Langkah 4: Menambahkan XHR Object](#langkah-4-menambahkan-xhr-object)
- [Langkah 5: Menambahkan Event Handler](#langkah-5-menambahkan-event-handler)
- [Langkah 6: Menambahkan Random Timeout](#langkah-6-menambahkan-random-timeout)
- [Langkah 7: Testing Tanpa Callback](#langkah-7-testing-tanpa-callback)
- [Langkah 8: Menambahkan Parameter Callback](#langkah-8-menambahkan-parameter-callback)
- [Langkah 9: Membuat Nested Callbacks](#langkah-9-membuat-nested-callbacks)
- [Langkah 10: Memahami Callback Hell](#langkah-10-memahami-callback-hell)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Halo! ğŸ‘‹ Selamat datang di dokumentasi pribadi saya tentang **Callback Hell** dalam JavaScript. Dokumentasi ini saya buat untuk memahami mengapa nested callbacks bisa menjadi masalah dan bagaimana cara kerjanya.

**Yang akan kita pelajari:**
- âœ… Cara membuat HTTP request dengan XMLHttpRequest
- âœ… Cara menggunakan callback functions
- âœ… Memahami masalah callback hell
- âœ… Melihat mengapa promises diperlukan

---

<a name="apa-itu-callback-hell"></a>
## ğŸ”¥ Apa itu Callback Hell?

**Callback Hell** adalah situasi di mana kita memiliki banyak nested callback functions yang membentuk pola seperti segitiga (pyramid of doom). Ini terjadi ketika kita perlu menjalankan beberapa operasi asynchronous secara berurutan.

**Contoh Visual:**
```javascript
getData('endpoint1', (data1) => {
  // Level 1
  getData('endpoint2', (data2) => {
    // Level 2
    getData('endpoint3', (data3) => {
      // Level 3 - Semakin dalam!
    });
  });
});
```

âš ï¸ **Masalah:**
- Kode sulit dibaca
- Sulit untuk maintenance
- Membingungkan untuk pemula

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

Sebelum mulai, pastikan kamu punya:
- âœ… Text editor (VS Code, Sublime, dll)
- âœ… Browser (Chrome, Firefox, dll)
- âœ… Folder kosong untuk project

**Struktur Folder:**
```
callback-hell-project/
â”‚
â”œâ”€â”€ index.html
â”œâ”€â”€ script.js
â”œâ”€â”€ movies.json
â”œâ”€â”€ actors.json
â””â”€â”€ directors.json
```

---

<a name="langkah-1-membuat-file-html"></a>
## ğŸ“„ Langkah 1: Membuat File HTML

Buat file `index.html` yang sederhana untuk menjalankan JavaScript kita.

**Code:**
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Callback Hell</title>
  </head>
  <body>
    <h1>Callback Hell</h1>

    <script src="./script.js"></script>
  </body>
</html>
```

**ğŸ’¡ Penjelasan:**
- File HTML ini sangat simpel
- Hanya berisi heading dan link ke `script.js`
- Buka file ini di browser untuk melihat hasilnya di Console

---

<a name="langkah-2-membuat-file-json"></a>
## ğŸ“¦ Langkah 2: Membuat File JSON

Kita butuh 3 file JSON untuk simulasi data. Ini akan jadi "database" kita.

### ğŸ¬ File: `movies.json`

```json
[
  {
    "title": "Scarface",
    "release_year": "1983"
  },
  {
    "title": "The Godfather",
    "release_year": "1972"
  },
  {
    "title": "Goodfellas",
    "release_year": "1990"
  },
  {
    "title": "A Bronx Tale",
    "release_year": "1993"
  }
]
```

### ğŸ­ File: `actors.json`

```json
[
  {
    "name": "Al Pacino",
    "age": "78"
  },
  {
    "name": "Robert De Niro",
    "age": "76"
  },
  {
    "name": "Joe Pesci",
    "age": "77"
  },
  {
    "name": "Chazz Palminteri",
    "age": "62"
  }
]
```

### ğŸ¥ File: `directors.json`

```json
[
  {
    "name": "Brian De Palma",
    "age": "78"
  },
  {
    "name": "Francis Ford Coppola",
    "age": "82"
  },
  {
    "name": "Martin Scorsese",
    "age": "76"
  },
  {
    "name": "Robert De Niro",
    "age": "76"
  }
]
```

**ğŸ’¡ Penjelasan:**
- JSON adalah format untuk menyimpan data
- Kita punya data tentang film, aktor, dan sutradara
- File ini akan kita load menggunakan AJAX

---

<a name="langkah-3-membuat-fungsi-getdata"></a>
## âš™ï¸ Langkah 3: Membuat Fungsi getData

Sekarang kita mulai coding! Buka `script.js` dan buat fungsi dasar.

**Code:**
```javascript
function getData(endpoint) {
  // Kode akan kita isi bertahap
}
```

**ğŸ’¡ Penjelasan:**
- `endpoint` = nama file JSON yang ingin kita load
- Fungsi ini akan mengambil data dari file JSON

---

<a name="langkah-4-menambahkan-xhr-object"></a>
## ğŸŒ Langkah 4: Menambahkan XHR Object

XMLHttpRequest adalah cara lama (tapi masih valid) untuk melakukan HTTP request.

**Code:**
```javascript
function getData(endpoint) {
  const xhr = new XMLHttpRequest();
  
  xhr.open('GET', endpoint);
}
```

**ğŸ’¡ Penjelasan:**
- `XMLHttpRequest()` = object untuk melakukan AJAX request
- `xhr.open('GET', endpoint)` = membuka koneksi ke file
- GET = method HTTP untuk mengambil data

---

<a name="langkah-5-menambahkan-event-handler"></a>
## ğŸª Langkah 5: Menambahkan Event Handler

Kita perlu menangani response dari server ketika data sudah siap.

**Code:**
```javascript
function getData(endpoint) {
  const xhr = new XMLHttpRequest();
  
  xhr.open('GET', endpoint);
  
  xhr.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      console.log(JSON.parse(this.responseText));
    }
  };
}
```

**ğŸ’¡ Penjelasan:**
- `onreadystatechange` = event yang dipanggil saat status berubah
- `readyState === 4` = request selesai
- `status === 200` = berhasil (OK)
- `JSON.parse()` = mengubah string JSON jadi object JavaScript
- `this.responseText` = data yang diterima

**ğŸ“Š Ready State Values:**
| Value | Status |
|-------|--------|
| 0 | UNSENT |
| 1 | OPENED |
| 2 | HEADERS_RECEIVED |
| 3 | LOADING |
| 4 | DONE âœ… |

---

<a name="langkah-6-menambahkan-random-timeout"></a>
## â±ï¸ Langkah 6: Menambahkan Random Timeout

Untuk simulasi network delay, kita tambahkan random timeout.

**Code:**
```javascript
function getData(endpoint) {
  const xhr = new XMLHttpRequest();
  
  xhr.open('GET', endpoint);
  
  xhr.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      console.log(JSON.parse(this.responseText));
    }
  };
  
  setTimeout(() => {
    xhr.send();
  }, Math.floor(Math.random() * 3000) + 1000);
}
```

**ğŸ’¡ Penjelasan:**
- `setTimeout()` = menunda eksekusi kode
- `Math.random() * 3000` = angka random 0-3000
- `+ 1000` = ditambah 1000, jadi range 1000-4000
- `Math.floor()` = bulatkan ke bawah
- Hasilnya: delay antara 1-4 detik

**ğŸ§® Rumus Random:**
```
Math.floor(Math.random() * 3000) + 1000
              â†“
       0.0 - 0.999 * 3000 = 0 - 2999
                    â†“
            + 1000 = 1000 - 3999
                    â†“
        Math.floor() = 1000 - 3999 (bulat)
```

---

<a name="langkah-7-testing-tanpa-callback"></a>
## ğŸ§ª Langkah 7: Testing Tanpa Callback

Mari kita coba panggil fungsi beberapa kali tanpa callback.

**Code:**
```javascript
// ... fungsi getData di atas ...

getData('./movies.json');
getData('./actors.json');
getData('./directors.json');
```

**ğŸ¯ Hasil di Console:**
```
// Urutan TIDAK TENTU! Bisa:
Array(4) - Directors
Array(4) - Movies
Array(4) - Actors

// Atau reload lagi:
Array(4) - Actors
Array(4) - Directors
Array(4) - Movies
```

**âŒ Masalah:**
- Data muncul dengan urutan acak
- Tidak bisa dikontrol mana yang muncul dulu
- Ini karena setiap request punya delay random

---

<a name="langkah-8-menambahkan-parameter-callback"></a>
## ğŸ”„ Langkah 8: Menambahkan Parameter Callback

Untuk kontrol urutan, kita tambahkan callback parameter.

**Code:**
```javascript
function getData(endpoint, cb) {  // â† Tambah parameter cb
  const xhr = new XMLHttpRequest();
  
  xhr.open('GET', endpoint);
  
  xhr.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      cb(JSON.parse(this.responseText));  // â† Panggil callback dengan data
    }
  };
  
  setTimeout(() => {
    xhr.send();
  }, Math.floor(Math.random() * 3000) + 1000);
}
```

**ğŸ’¡ Penjelasan:**
- `cb` = callback function
- Sekarang kita tidak langsung console.log
- Kita panggil function `cb` dan passing data ke dalamnya

**Test dengan callback sederhana:**
```javascript
getData('./movies.json', (data) => {
  console.log(data);
});
```

---

<a name="langkah-9-membuat-nested-callbacks"></a>
## ğŸª† Langkah 9: Membuat Nested Callbacks

Sekarang kita buat nested callbacks untuk mengontrol urutan.

**Code Lengkap:**
```javascript
function getData(endpoint, cb) {
  const xhr = new XMLHttpRequest();
  
  xhr.open('GET', endpoint);
  
  xhr.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      cb(JSON.parse(this.responseText));
    }
  };
  
  setTimeout(() => {
    xhr.send();
  }, Math.floor(Math.random() * 3000) + 1000);
}

// Nested Callbacks (Callback Hell!)
getData('./movies.json', (data) => {
  console.log(data);  // â† Movies muncul PERTAMA
  
  getData('./actors.json', (data) => {
    console.log(data);  // â† Actors muncul KEDUA
    
    getData('./directors.json', (data) => {
      console.log(data);  // â† Directors muncul KETIGA
    });
  });
});
```

**ğŸ¯ Hasil di Console (SELALU URUT):**
```
Array(4) - Movies âœ…
Array(4) - Actors âœ…
Array(4) - Directors âœ…
```

**ğŸ’¡ Penjelasan:**
- Request kedua (`actors`) hanya dijalankan SETELAH request pertama selesai
- Request ketiga (`directors`) hanya dijalankan SETELAH request kedua selesai
- Urutan terjamin, tapi... lihat bentuk kodenya? ğŸ“

---

<a name="langkah-10-memahami-callback-hell"></a>
## ğŸ”¥ Langkah 10: Memahami Callback Hell

Inilah yang disebut **Callback Hell**! Perhatikan bentuk kodenya.

**Visualisasi:**
```javascript
getData('endpoint1', (data) => {
  // Level 1 - Indentasi 1
  console.log(data);
  
  getData('endpoint2', (data) => {
    // Level 2 - Indentasi 2
    console.log(data);
    
    getData('endpoint3', (data) => {
      // Level 3 - Indentasi 3
      console.log(data);
      
      // Bayangkan ada 5-10 level lagi...
      // Kode akan bergeser terus ke kanan! â†’â†’â†’
    });
  });
});
```

**ğŸ”º Bentuk Segitiga (Pyramid of Doom):**
```
getData(
  getData(
    getData(
      getData(
        getData(
        )
      )
    )
  )
)
```

**âŒ Masalah Callback Hell:**
1. **Sulit dibaca** - Kode bergeser terus ke kanan
2. **Sulit di-maintain** - Susah cari error
3. **Sulit di-test** - Testing jadi kompleks
4. **Membingungkan** - Terutama untuk pemula

**âš ï¸ Kapan Callback Hell Terjadi?**
- Kalau hanya 2-3 nested callbacks â†’ masih OK
- Kalau 5-10 nested callbacks â†’ HELL! ğŸ”¥
- Semakin banyak level, semakin susah

**ğŸ’¡ Solusi untuk Callback Hell:**
- âœ… **Promises** (ES6)
- âœ… **Async/Await** (ES8)
- âœ… **Modular Functions**

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

Selamat! ğŸ‰ Kamu sudah memahami Callback Hell!

**ğŸ“ Rangkuman:**
- âœ… Callback adalah function yang dipassing sebagai argument
- âœ… Nested callbacks diperlukan untuk operasi berurutan
- âœ… Callback Hell terjadi saat terlalu banyak nesting
- âœ… Bentuknya seperti segitiga (pyramid of doom)
- âœ… Solusinya adalah menggunakan Promises atau Async/Await

**ğŸ¯ Next Steps:**
1. Pelajari **Promises** untuk solusi yang lebih baik
2. Pelajari **Async/Await** untuk kode yang lebih clean
3. Praktek dengan real API, bukan hanya file JSON

**ğŸ”— File Lengkap untuk Referensi:**

```javascript
// script.js - FINAL CODE
function getData(endpoint, cb) {
  const xhr = new XMLHttpRequest();
  xhr.open('GET', endpoint);
  
  xhr.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      cb(JSON.parse(this.responseText));
    }
  };
  
  setTimeout(() => {
    xhr.send();
  }, Math.floor(Math.random() * 3000) + 1000);
}

getData('./movies.json', (data) => {
  console.log(data);
  getData('./actors.json', (data) => {
    console.log(data);
    getData('./directors.json', (data) => {
      console.log(data);
    });
  });
});
```

---

**ğŸ“š Catatan Penting:**
> Dokumentasi ini adalah catatan pribadi untuk belajar. Callback Hell adalah konsep penting yang harus dipahami sebelum mempelajari Promises dan Async/Await. Keep learning! ğŸš€

**ğŸ’ª Tips Belajar:**
- Ketik ulang semua kode, jangan copy-paste
- Eksperimen dengan menambah lebih banyak nested callbacks
- Coba ganti delay timeout untuk lihat perbedaannya
- Bandingkan dengan versi tanpa callback

---

**ğŸ‘¨â€ğŸ’» Happy Coding!**

*Dibuat dengan â¤ï¸ untuk pembelajaran JavaScript*
