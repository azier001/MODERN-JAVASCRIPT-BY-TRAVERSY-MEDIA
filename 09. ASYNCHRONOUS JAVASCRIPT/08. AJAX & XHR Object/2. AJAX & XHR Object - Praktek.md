# ğŸ“š Dokumentasi AJAX & XHR Object untuk Pemula

> **Catatan Pribadi**: Dokumentasi ini dibuat untuk memahami cara mengambil data dari server menggunakan XMLHttpRequest (XHR) secara bertahap.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu XHR?](#apa-itu-xhr)
- [Apa itu AJAX?](#apa-itu-ajax)
- [Cara Kerja AJAX](#cara-kerja-ajax)
- [Persiapan Project](#persiapan-project)
- [Langkah 1: Membuat File HTML](#langkah-1-membuat-file-html)
- [Langkah 2: Membuat File CSS](#langkah-2-membuat-file-css)
- [Langkah 3: Membuat File JSON](#langkah-3-membuat-file-json)
- [Langkah 4: Inisialisasi XHR Object](#langkah-4-inisialisasi-xhr-object)
- [Langkah 5: Membuka Koneksi dengan open()](#langkah-5-membuka-koneksi-dengan-open)
- [Langkah 6: Memahami Ready State](#langkah-6-memahami-ready-state)
- [Langkah 7: Membuat Event Handler](#langkah-7-membuat-event-handler)
- [Langkah 8: Mengirim Request](#langkah-8-mengirim-request)
- [Langkah 9: Memeriksa Status Response](#langkah-9-memeriksa-status-response)
- [Langkah 10: Parsing Data JSON](#langkah-10-parsing-data-json)
- [Langkah 11: Menampilkan Data ke DOM](#langkah-11-menampilkan-data-ke-dom)
- [Langkah 12: Fetch Data dari API GitHub](#langkah-12-fetch-data-dari-api-github)
- [Tips Debugging](#tips-debugging)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara mengambil data dari file JSON lokal dan API eksternal menggunakan **XMLHttpRequest (XHR)**. Ini adalah teknologi dasar yang penting untuk dipahami sebelum belajar metode modern seperti Fetch API.

<a name="apa-itu-xhr"></a>
## ğŸ“– Apa itu XHR?

**XHR (XMLHttpRequest)** adalah objek JavaScript yang dibangun ke dalam browser yang memungkinkan kita membuat HTTP request untuk mengambil data dari server tanpa harus me-refresh halaman.

### âœ¨ Kenapa Ada "XML" di Namanya?

Meskipun namanya mengandung "XML", saat ini kita **hampir tidak pernah** menggunakan XML. Dulu, XML adalah format data yang populer, tapi sekarang kita menggunakan **JSON** karena lebih sederhana dan mudah dibaca.

<a name="apa-itu-ajax"></a>
## ğŸ“– Apa itu AJAX?

**AJAX** = **A**synchronous **J**avaScript **A**nd **X**ML

AJAX adalah teknik untuk membuat request ke server secara asynchronous (di background) tanpa me-refresh halaman. Ini membuat website terasa lebih cepat dan responsif.

<a name="cara-kerja-ajax"></a>
## ğŸ”„ Cara Kerja AJAX

### Request Normal (Tanpa AJAX):
```
Browser â†’ Request â†’ Server â†’ Response â†’ Refresh Halaman ğŸ”„
```

### Request dengan AJAX:
```
Browser â†’ Request (Background) â†’ Server â†’ Response (JSON/XML) â†’ Update Bagian Halaman âœ¨
(Tidak perlu refresh!)
```

---

<a name="persiapan-project"></a>
## ğŸ› ï¸ Persiapan Project

Buat folder baru untuk project ini dengan struktur:

```
xhr-ajax-tutorial/
â”œâ”€â”€ index.html
â”œâ”€â”€ style.css
â”œâ”€â”€ script.js
â””â”€â”€ movies.json
```

---

<a name="langkah-1-membuat-file-html"></a>
## ğŸ“„ Langkah 1: Membuat File HTML

Buat file `index.html` dengan struktur dasar:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>AJAX & XHR Object</title>
  </head>
  <body>
    <h1>AJAX & XHR Object</h1>
    <ul id="results"></ul>

    <script src="./script.js"></script>
  </body>
</html>
```

### ğŸ“ Penjelasan:
- `<ul id="results"></ul>` â†’ Tempat menampilkan data yang kita fetch
- Link ke `style.css` untuk styling
- Link ke `script.js` untuk JavaScript kita

---

<a name="langkah-2-membuat-file-css"></a>
## ğŸ¨ Langkah 2: Membuat File CSS

Buat file `style.css` untuk membuat tampilan lebih menarik:

```css
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

*,
*:before,
*:after {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Poppins';
  line-height: 1.6;
  padding: 0 40px;
}

h1 {
  text-align: center;
  line-height: 1.3;
}

button {
  display: inline-block;
  background: #333;
  border: 0;
  color: #fff;
  padding: 15px 20px;
  text-decoration: none;
  margin: 20px 0;
  cursor: pointer;
}

button:hover {
  background: #555;
}

ul {
  padding: 0;
}

li {
  list-style: none;
  background: #f4f4f4;
  margin-bottom: 5px;
  padding: 5px;
}
```

### ğŸ“ Penjelasan:
- Font Poppins untuk tampilan modern
- Reset CSS untuk konsistensi
- Styling untuk list item agar rapi

---

<a name="langkah-3-membuat-file-json"></a>
## ğŸ“¦ Langkah 3: Membuat File JSON

Buat file `movies.json` dengan data film:

```json
[
  {
    "title": "The Godfather",
    "year": "1972"
  },
  {
    "title": "Goodfellas",
    "year": 1990
  },
  {
    "title": "A Bronx Tale",
    "year": 1993
  },
  {
    "title": "Casino",
    "year": 1994
  }
]
```

### ğŸ“ Penjelasan:
- File JSON berisi array of objects
- Setiap object punya property `title` dan `year`
- Ini adalah data yang akan kita fetch

---

<a name="langkah-4-inisialisasi-xhr-object"></a>
## ğŸš€ Langkah 4: Inisialisasi XHR Object

Buka file `script.js` dan mulai dengan membuat XHR object:

```javascript
const xhr = new XMLHttpRequest();
```

### ğŸ“ Penjelasan:
- `new XMLHttpRequest()` â†’ Membuat instance baru dari XHR object
- `xhr` â†’ Variabel yang menyimpan XHR object (nama bisa apa saja)

---

<a name="langkah-5-membuka-koneksi-dengan-open"></a>
## ğŸ”“ Langkah 5: Membuka Koneksi dengan open()

Tambahkan method `open()` untuk menentukan tipe request dan URL:

```javascript
const xhr = new XMLHttpRequest();

// Specify method and endpoint/URL
xhr.open('GET', './movies.json');
```

### ğŸ“ Penjelasan:
- `open()` â†’ Method untuk membuka koneksi
- Parameter 1: `'GET'` â†’ Tipe HTTP request (GET = mengambil data)
- Parameter 2: `'./movies.json'` â†’ Path ke file yang akan di-fetch

### ğŸ’¡ Tipe HTTP Request:
- **GET** â†’ Mengambil data
- **POST** â†’ Mengirim data baru
- **PUT** â†’ Update data yang sudah ada
- **DELETE** â†’ Menghapus data

---

<a name="langkah-6-memahami-ready-state"></a>
## ğŸ“Š Langkah 6: Memahami Ready State

XHR object memiliki property `readyState` yang menunjukkan status request:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

// readyState has 5 possible values
// - 0: request not initialized
// - 1: server connection established
// - 2: request received
// - 3: processing request
// - 4: request finished and response is ready
```

### ğŸ“ Penjelasan Ready State:

| Value | Status | Keterangan |
|-------|--------|------------|
| 0ï¸âƒ£ | Not Initialized | Request belum dimulai |
| 1ï¸âƒ£ | Connection Established | Koneksi ke server terbuka |
| 2ï¸âƒ£ | Request Received | Server menerima request |
| 3ï¸âƒ£ | Processing | Server sedang memproses |
| 4ï¸âƒ£ | Ready | Response siap! âœ… |

Kita **hanya ingin mengambil data ketika readyState = 4** (selesai).

---

<a name="langkah-7-membuat-event-handler"></a>
## ğŸ¯ Langkah 7: Membuat Event Handler

Tambahkan event handler untuk menangkap perubahan readyState:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

xhr.onreadystatechange = function () {
  console.log(this.readyState);
};
```

### ğŸ“ Penjelasan:
- `onreadystatechange` â†’ Event yang dipicu setiap kali readyState berubah
- `this` â†’ Merujuk ke xhr object
- `this.readyState` â†’ Menampilkan nilai readyState saat ini

### ğŸ§ª Coba Test:
Jika kamu console.log `this.readyState`, kamu akan melihat angka **2, 3, 4** (tidak 0 dan 1 karena sudah lewat).

---

<a name="langkah-8-mengirim-request"></a>
## ğŸ“¤ Langkah 8: Mengirim Request

Tambahkan method `send()` untuk mengirim request:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

xhr.onreadystatechange = function () {
  console.log(this.readyState);
};

// Send request
xhr.send();
```

### ğŸ“ Penjelasan:
- `send()` â†’ Mengirim request ke server
- **PENTING**: Tanpa `send()`, request tidak akan dikirim!

### âœ… Sekarang coba buka browser:
- Buka `index.html` di browser
- Buka Console (F12 â†’ Console)
- Kamu akan melihat: `2`, `3`, `4`

---

<a name="langkah-9-memeriksa-status-response"></a>
## âœ”ï¸ Langkah 9: Memeriksa Status Response

Sebelum mengambil data, kita harus memastikan request berhasil:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

xhr.onreadystatechange = function () {
  if (this.readyState === 4 && this.status === 200) {
    console.log('Success!');
  }
};

xhr.send();
```

### ğŸ“ Penjelasan:
- `this.readyState === 4` â†’ Request selesai
- `this.status === 200` â†’ Request sukses (HTTP Status Code 200 = OK)

### ğŸ“Œ HTTP Status Codes Penting:
| Code | Meaning | Keterangan |
|------|---------|------------|
| 200 | OK | âœ… Sukses! |
| 404 | Not Found | âŒ File tidak ditemukan |
| 500 | Server Error | âŒ Error di server |

---

<a name="langkah-10-parsing-data-json"></a>
## ğŸ”„ Langkah 10: Parsing Data JSON

Sekarang ambil data dan ubah dari JSON string ke JavaScript object:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

xhr.onreadystatechange = function () {
  if (this.readyState === 4 && this.status === 200) {
    // Parse JSON string to JavaScript object/array
    const data = JSON.parse(this.responseText);
    console.log(data);
  }
};

xhr.send();
```

### ğŸ“ Penjelasan:
- `this.responseText` â†’ Data response dalam bentuk string
- `JSON.parse()` â†’ Mengubah JSON string menjadi JavaScript object/array
- `data` â†’ Sekarang berisi array of movies

### âœ… Test di Console:
Kamu akan melihat array berisi 4 objek film!

---

<a name="langkah-11-menampilkan-data-ke-dom"></a>
## ğŸ¨ Langkah 11: Menampilkan Data ke DOM

Sekarang tampilkan data ke halaman web:

```javascript
const xhr = new XMLHttpRequest();

xhr.open('GET', './movies.json');

xhr.onreadystatechange = function () {
  if (this.readyState === 4 && this.status === 200) {
    const data = JSON.parse(this.responseText);

    // Loop through each movie
    data.forEach((movie) => {
      // Create list item element
      const li = document.createElement('li');
      
      // Set content
      li.innerHTML = `<strong>${movie.title}</strong> - ${movie.year}`;
      
      // Add to DOM
      document.querySelector('#results').appendChild(li);
    });
  }
};

xhr.send();
```

### ğŸ“ Penjelasan Step by Step:

1. **forEach loop** â†’ Looping setiap movie di array
2. **createElement('li')** â†’ Buat element `<li>` baru
3. **innerHTML** â†’ Set isi HTML element
4. **Template literals** â†’ Gunakan backticks `` ` `` untuk embed variables
5. **querySelector** â†’ Pilih element dengan id `results`
6. **appendChild** â†’ Tambahkan `<li>` ke dalam `<ul>`

### âœ… Test di Browser:
Refresh halaman, kamu akan melihat list film ditampilkan!

---

<a name="langkah-12-fetch-data-dari-api-github"></a>
## ğŸŒ Langkah 12: Fetch Data dari API GitHub

Sekarang coba fetch data dari API eksternal (GitHub):

```javascript
const xhr = new XMLHttpRequest();

// Change URL to GitHub API
xhr.open('GET', 'https://api.github.com/users/bradtraversy/repos');

xhr.onreadystatechange = function () {
  if (this.readyState === 4 && this.status === 200) {
    const data = JSON.parse(this.responseText);

    data.forEach((repo) => {
      const li = document.createElement('li');
      li.innerHTML = `<strong>${repo.name}</strong> - ${repo.description}`;
      document.querySelector('#results').appendChild(li);
    });
  }
};

xhr.send();
```

### ğŸ“ Perubahan:
- URL â†’ Dari `./movies.json` ke API GitHub
- `movie` â†’ Diganti jadi `repo` (karena data berbeda)
- `movie.title` â†’ Diganti jadi `repo.name`
- `movie.year` â†’ Diganti jadi `repo.description`

### âœ… Test di Browser:
Kamu akan melihat list repository dari GitHub user "bradtraversy"!

### ğŸ” Cek Response di Network Tab:
1. Buka DevTools (F12)
2. Klik tab **Network**
3. Refresh halaman
4. Klik **XHR** filter
5. Klik request `repos`
6. Lihat **Response** tab â†’ Kamu bisa lihat semua data yang tersedia!

---

<a name="tips-debugging"></a>
## ğŸ› Tips Debugging

### 1ï¸âƒ£ Gunakan Console.log
```javascript
xhr.onreadystatechange = function () {
  console.log('Ready State:', this.readyState);
  console.log('Status:', this.status);
  
  if (this.readyState === 4 && this.status === 200) {
    console.log('Response:', this.responseText);
  }
};
```

### 2ï¸âƒ£ Check Network Tab
- Buka DevTools â†’ Network â†’ XHR
- Lihat request yang dikirim
- Cek status code (200 = sukses)
- Cek response data

### 3ï¸âƒ£ Common Errors:

| Error | Penyebab | Solusi |
|-------|----------|--------|
| CORS Error | API tidak allow request dari domain kamu | Gunakan API yang support CORS |
| 404 Not Found | URL salah atau file tidak ada | Cek path file/URL |
| Undefined property | Typo nama property | Cek response di Network tab |

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### âœ¨ Apa yang Sudah Dipelajari:

1. âœ… Cara membuat XHR object
2. âœ… Menggunakan method `open()` dan `send()`
3. âœ… Memahami Ready State (0-4)
4. âœ… Mengecek HTTP Status Code
5. âœ… Parsing JSON dengan `JSON.parse()`
6. âœ… Menampilkan data ke DOM
7. âœ… Fetch data dari file lokal dan API eksternal

### ğŸ¯ Next Steps:

- Belajar **Fetch API** (cara modern, lebih simple)
- Belajar **Async/Await** (cara menulis async code lebih mudah)
- Coba API lain seperti:
  - Chuck Norris Jokes API
  - JSONPlaceholder (fake data untuk testing)
  - OpenWeather API

### ğŸ“š Dokumentasi API:
- GitHub API: https://docs.github.com/en/rest
- Public APIs list: https://github.com/public-apis/public-apis

---

## ğŸ’ª Challenge untuk Berlatih:

1. **Easy**: Tambahkan data film baru ke `movies.json` dan lihat otomatis muncul
2. **Medium**: Fetch data dari API lain (coba Chuck Norris Jokes API)
3. **Hard**: Buat form untuk search GitHub users dan tampilkan reponya

---

**Happy Coding! ğŸš€**

> Ingat: Practice makes perfect! Jangan takut mencoba dan membuat error, karena dari error kita belajar! ğŸ’¡
