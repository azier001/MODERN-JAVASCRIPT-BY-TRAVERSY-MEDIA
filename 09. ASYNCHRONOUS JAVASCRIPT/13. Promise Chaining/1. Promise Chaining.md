# ğŸ“š Dokumentasi Promise Chaining JavaScript

> Dokumentasi pribadi untuk mempelajari Promise Chaining step by step

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Promise Chaining?](#apa-itu-promise-chaining)
- [Kapan Menggunakan Promise Chaining?](#kapan-menggunakan-promise-chaining)
- [Setup File HTML & JavaScript](#setup-file-html--javascript)
- [Membuat Promise Dasar](#membuat-promise-dasar)
- [Chaining dengan .then()](#chaining-dengan-then)
- [Mengakses Return Value dari .then()](#mengakses-return-value-dari-then)
- [Multiple Chaining](#multiple-chaining)
- [Error Handling dengan .catch()](#error-handling-dengan-catch)
- [.then() Setelah .catch()](#then-setelah-catch)
- [Return Value dari .catch()](#return-value-dari-catch)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Selamat datang di dokumentasi belajar **Promise Chaining**! Dokumentasi ini dibuat untuk pemula yang ingin memahami cara kerja promise chaining dalam JavaScript secara bertahap.

**Promise Chaining** adalah teknik untuk menjalankan beberapa operasi asynchronous secara berurutan dengan cara yang lebih clean dan mudah dibaca.

---

<a name="apa-itu-promise-chaining"></a>
## ğŸ“– Apa itu Promise Chaining?

**Promise Chaining** adalah teknik merantai beberapa `.then()` untuk mengeksekusi operasi asynchronous secara berurutan. 

ğŸ”— **Analogi sederhana**: 
Bayangkan seperti estafet lari. Pelari pertama memberikan tongkat ke pelari kedua, pelari kedua ke pelari ketiga, dan seterusnya. Setiap `.then()` adalah pelari yang menerima hasil dari pelari sebelumnya.

---

<a name="kapan-menggunakan-promise-chaining"></a>
## ğŸ¤” Kapan Menggunakan Promise Chaining?

Promise Chaining digunakan ketika:

âœ… Kamu punya **sequence** (urutan) tugas asynchronous yang perlu diselesaikan

âœ… Kamu punya **promise** yang mengembalikan value yang perlu digunakan di promise lain

âœ… Kamu ingin **menghindari callback hell** (nested callback yang berantakan)

---

<a name="setup-file-html--javascript"></a>
## ğŸ—‚ï¸ Setup File HTML & JavaScript

### ğŸ“„ File: `index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise Chaining</title>
  </head>
  <body>
    <h1>Promise Chaining</h1>

    <script src="./script.js"></script>
  </body>
</html>
```

**ğŸ’¡ Penjelasan:**
- File HTML sederhana yang me-load file `script.js`
- Digunakan untuk menjalankan kode JavaScript kita di browser

---

<a name="membuat-promise-dasar"></a>
## ğŸ—ï¸ Membuat Promise Dasar

### ğŸ“„ File: `script.js` (Bagian Promise)

```javascript
const promise = new Promise((resolve, reject) => {
  setTimeout(() => {
    let error = false;

    if (!error) {
      resolve({ name: 'John', age: 30 });
    } else {
      reject('Error: Something went wrong');
    }
  }, 1000);
});
```

**ğŸ’¡ Penjelasan:**

- `new Promise()` - Membuat promise baru
- `resolve` - Fungsi untuk menandakan promise **berhasil**
- `reject` - Fungsi untuk menandakan promise **gagal**
- `setTimeout()` - Mensimulasikan operasi asynchronous (delay 1 detik)
- `error = false` - Boolean flag untuk simulasi error
- `resolve({ name: 'John', age: 30 })` - Mengembalikan **object user** jika berhasil
- `reject('Error: Something went wrong')` - Mengembalikan **error message** jika gagal

ğŸ¯ **Output saat ini**: Promise yang resolve dengan object user setelah 1 detik

---

<a name="chaining-dengan-then"></a>
## â›“ï¸ Chaining dengan .then()

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;
  })
```

**ğŸ’¡ Penjelasan:**

- `.then()` - Method untuk handle promise yang **berhasil (resolved)**
- `(user)` - Parameter yang menerima value dari `resolve()`
- `console.log(user)` - Menampilkan object user di console
- `return user.name` - **Mengembalikan** property `name` dari user

ğŸ“Š **Output Console:**
```
{ name: 'John', age: 30 }
```

---

<a name="mengakses-return-value-dari-then"></a>
## ğŸ”„ Mengakses Return Value dari .then()

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;  // Return "John"
  })
  .then((name) => {
    console.log(name);
  })
```

**ğŸ’¡ Penjelasan:**

- `.then()` yang **kedua** menerima value yang di-return dari `.then()` pertama
- `(name)` - Parameter ini berisi `"John"` (hasil return dari `.then()` sebelumnya)
- `console.log(name)` - Menampilkan nama

ğŸ“Š **Output Console:**
```
{ name: 'John', age: 30 }
John
```

ğŸ”‘ **Konsep Penting**: Apapun yang kamu `return` dari `.then()` akan masuk ke parameter `.then()` berikutnya!

---

<a name="multiple-chaining"></a>
## ğŸ”— Multiple Chaining

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;  // Return "John"
  })
  .then((name) => {
    console.log(name);
    return name.length;  // Return 4 (panjang string "John")
  })
  .then((nameLength) => {
    console.log(nameLength);
  })
```

**ğŸ’¡ Penjelasan:**

**Chain 1:**
- Menerima `user` object
- Log user object
- Return `user.name` â†’ `"John"`

**Chain 2:**
- Menerima `name` â†’ `"John"`
- Log name
- Return `name.length` â†’ `4`

**Chain 3:**
- Menerima `nameLength` â†’ `4`
- Log nameLength

ğŸ“Š **Output Console:**
```
{ name: 'John', age: 30 }
John
4
```

âœ¨ **Keuntungan**: Kamu bisa chain sebanyak yang kamu mau! Setiap `.then()` menerima hasil dari `.then()` sebelumnya.

---

<a name="error-handling-dengan-catch"></a>
## âŒ Error Handling dengan .catch()

### Skenario Error

Ubah flag error menjadi `true`:

```javascript
let error = true;  // â† Ubah jadi true
```

Kemudian tambahkan `.catch()`:

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;
  })
  .then((name) => {
    console.log(name);
    return name.length;
  })
  .then((nameLength) => {
    console.log(nameLength);
  })
  .catch((error) => {
    console.log(error);
  })
```

**ğŸ’¡ Penjelasan:**

- `.catch()` - Method untuk handle promise yang **gagal (rejected)**
- `(error)` - Parameter yang menerima value dari `reject()`
- Jika promise di-reject, **semua `.then()` sebelum `.catch()` TIDAK akan dijalankan**
- Langsung loncat ke `.catch()`

ğŸ“Š **Output Console:**
```
Error: Something went wrong
```

ğŸš¨ **Penting**: Saat error terjadi, tidak ada `.then()` yang dieksekusi, langsung ke `.catch()`

---

<a name="then-setelah-catch"></a>
## âœ… .then() Setelah .catch()

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;
  })
  .then((name) => {
    console.log(name);
    return name.length;
  })
  .then((nameLength) => {
    console.log(nameLength);
  })
  .catch((error) => {
    console.log(error);
  })
  .then(() => {
    console.log('This will run no matter what');
  });
```

**ğŸ’¡ Penjelasan:**

- `.then()` yang ditulis **setelah** `.catch()` akan **tetap dijalankan**
- Tidak peduli apakah promise berhasil atau gagal
- `.catch()` hanya menangani `.then()` yang **sebelum** dia

ğŸ“Š **Output Console (dengan error = true):**
```
Error: Something went wrong
This will run no matter what
```

ğŸ¯ **Use Case**: Cocok untuk cleanup code atau final actions yang harus dijalankan apapun hasilnya

---

<a name="return-value-dari-catch"></a>
## ğŸ”„ Return Value dari .catch()

```javascript
promise
  .then((user) => {
    console.log(user);
    return user.name;
  })
  .then((name) => {
    console.log(name);
    return name.length;
  })
  .then((nameLength) => {
    console.log(nameLength);
  })
  .catch((error) => {
    console.log(error);
    return 123;  // â† Return value dari catch
  })
  .then((x) => {
    console.log('This will run no matter what', x);
  });
```

**ğŸ’¡ Penjelasan:**

- Kamu **bisa** return value dari `.catch()`
- Value yang di-return akan masuk ke `.then()` berikutnya
- Dalam contoh ini, `123` di-return dari `.catch()` dan masuk ke parameter `x`

ğŸ“Š **Output Console (dengan error = true):**
```
Error: Something went wrong
This will run no matter what 123
```

âš ï¸ **Catatan**: Ini **tidak umum** digunakan, tapi penting untuk memahami mekanismenya

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### âœ¨ Key Takeaways:

1. **Promise Chaining** digunakan untuk sequence operasi asynchronous
2. Setiap `.then()` menerima value dari **return** `.then()` sebelumnya
3. Kamu bisa chain **sebanyak yang kamu mau**
4. `.catch()` menangani error dari semua `.then()` **sebelumnya**
5. `.then()` setelah `.catch()` tetap dijalankan
6. `.catch()` juga bisa return value ke `.then()` berikutnya

### ğŸ”¥ Manfaat Promise Chaining:

âœ… Kode lebih **clean** dan **readable**  
âœ… Menghindari **callback hell**  
âœ… Mudah untuk **handle error**  
âœ… Flow operasi asynchronous lebih **jelas**

---

## ğŸš€ Next Steps

Selanjutnya kamu bisa belajar:
- **Async/Await** - Cara modern menulis promise
- **Promise.all()** - Menjalankan multiple promises secara parallel
- **Callback Hell** vs **Promise Chaining** - Perbandingan langsung

---

**ğŸ“ Catatan Dokumentasi:**  
Dokumentasi ini dibuat untuk pembelajaran pribadi berdasarkan video tutorial tentang Promise Chaining.

**ğŸ—“ï¸ Terakhir diperbarui:** Januari 2026
