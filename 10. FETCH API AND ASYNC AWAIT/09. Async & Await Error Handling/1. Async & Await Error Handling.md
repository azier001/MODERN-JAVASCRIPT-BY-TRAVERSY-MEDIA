# ğŸš€ Error Handling dengan Async/Await di JavaScript

> **Dokumentasi Pribadi untuk Pemula** - Belajar cara menangani error saat menggunakan async/await

---

## ğŸ“š Daftar Isi

- [Pengenalan](#pengenalan)
- [Metode 1: Try-Catch](#metode-1-try-catch)
  - [Cara Kerja Try-Catch](#cara-kerja-try-catch)
  - [Contoh Praktik dengan Try-Catch](#contoh-praktik-dengan-try-catch)
- [Handling Error Status HTTP](#handling-error-status-http)
  - [Mengapa Perlu Manual Checking?](#mengapa-perlu-manual-checking)
  - [Implementasi Checking Status](#implementasi-checking-status)
- [Metode 2: Catch Method](#metode-2-catch-method)
  - [Cara Kerja Catch Method](#cara-kerja-catch-method)
  - [Contoh Praktik dengan Catch Method](#contoh-praktik-dengan-catch-method)
- [Perbandingan Kedua Metode](#perbandingan-kedua-metode)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Ketika bekerja dengan **async/await**, kita perlu cara untuk menangani error yang mungkin terjadi. Ada **2 metode utama** yang bisa digunakan:

1. âœ… **Try-Catch Statement** - Metode paling umum
2. âœ… **Catch Method** - Alternatif menggunakan `.catch()`

Kedua metode ini valid dan bisa digunakan sesuai preferensi kamu!

---

<a name="metode-1-try-catch"></a>
## ğŸ›¡ï¸ Metode 1: Try-Catch

<a name="cara-kerja-try-catch"></a>
### ğŸ“– Cara Kerja Try-Catch

**Try-Catch** bekerja dengan konsep sederhana:

- ğŸŸ¢ **Try Block** - Letakkan kode yang mungkin error di sini
- ğŸ”´ **Catch Block** - Jika terjadi error, blok ini akan dijalankan

```javascript
try {
  // Kode yang mungkin error
} catch (error) {
  // Handle error di sini
}
```

> ğŸ’¡ **Ingat:** Jika ada error di dalam `try`, maka eksekusi langsung loncat ke `catch`

<a name="contoh-praktik-dengan-try-catch"></a>
### ğŸ’» Contoh Praktik dengan Try-Catch

**File: index.html**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async & Await Error Handling</title>
  </head>
  <body>
    <h1>Async & Await Error Handling</h1>

    <div id="output"></div>

    <script src="./script.js"></script>
  </body>
</html>
```

**File: script.js (Versi Try-Catch)**

```javascript
const getUsers = async () => {
  try {
    // 1ï¸âƒ£ Melakukan request ke API
    const response = await fetch('https://jsonplaceholder.typicode.com/users');
    
    // 2ï¸âƒ£ Mengambil data JSON
    const data = await response.json();
    
    // 3ï¸âƒ£ Menampilkan data
    console.log(data);
    
  } catch (error) {
    // 4ï¸âƒ£ Jika ada error, tampilkan di console
    console.log(error);
  }
};

// Panggil function
getUsers();
```

#### ğŸ“ Penjelasan Kode:

1. **`async`** - Membuat function menjadi asynchronous
2. **`try`** - Blok untuk kode yang mungkin error
3. **`await fetch()`** - Menunggu response dari API
4. **`await response.json()`** - Menunggu parsing data JSON
5. **`catch(error)`** - Menangkap error jika terjadi

> âš ï¸ **Contoh Error:** Jika kamu coba akses variabel yang tidak ada, seperti `response.json()` tapi `response` belum didefinisikan, maka akan terjadi **ReferenceError** yang ditangkap oleh `catch`

---

<a name="handling-error-status-http"></a>
## âš ï¸ Handling Error Status HTTP

<a name="mengapa-perlu-manual-checking"></a>
### ğŸ¤” Mengapa Perlu Manual Checking?

**Penting untuk dipahami:**

> ğŸš¨ **Fetch API TIDAK otomatis throw error** untuk status HTTP seperti 404 atau 500!

Artinya, jika server mengembalikan error (404, 500, dll), kode kamu tetap akan jalan seperti biasa. Kita harus **manual check** status response!

<a name="implementasi-checking-status"></a>
### âœ… Implementasi Checking Status

```javascript
const getUsers = async () => {
  try {
    // Request ke URL yang akan return 500 error
    const response = await fetch('http://httpstat.us/500');
    
    // ğŸ” CEK STATUS RESPONSE
    if (!response.ok) {
      throw new Error('Request Failed');
    }
    
    const data = await response.text();
    console.log(data);
    
  } catch (error) {
    console.log(error);
  }
};

getUsers();
```

#### ğŸ“ Penjelasan Detail:

1. **`response.ok`** - Property boolean yang bernilai `true` jika status 200-299
2. **`!response.ok`** - Jika status bukan 200-299 (misal 404, 500)
3. **`throw new Error()`** - Membuat error baru secara manual
4. Error yang di-throw akan ditangkap oleh `catch` block

#### ğŸ¯ Contoh Scenario:

| URL | Status | `response.ok` | Hasil |
|-----|--------|---------------|-------|
| `jsonplaceholder.typicode.com/users` | 200 | âœ… `true` | Data berhasil diambil |
| `httpstat.us/404` | 404 | âŒ `false` | Error "Request Failed" |
| `httpstat.us/500` | 500 | âŒ `false` | Error "Request Failed" |

> ğŸ’¡ **Tips:** Tanpa checking `response.ok`, kode setelahnya tetap jalan meski server return error!

---

<a name="metode-2-catch-method"></a>
## ğŸ£ Metode 2: Catch Method

<a name="cara-kerja-catch-method"></a>
### ğŸ“– Cara Kerja Catch Method

Metode ini **TIDAK menggunakan try-catch** di dalam function, tapi menggunakan **`.catch()` method** saat memanggil function.

```javascript
functionName().catch((error) => {
  // Handle error
});
```

<a name="contoh-praktik-dengan-catch-method"></a>
### ğŸ’» Contoh Praktik dengan Catch Method

**File: script.js (Versi Catch Method)**

```javascript
const getPosts = async () => {
  // âŒ TIDAK ada try-catch di dalam function
  
  // 1ï¸âƒ£ Request ke API
  const response = await fetch('https://jsonplaceholder.typicode.com/posts');
  
  // 2ï¸âƒ£ Check status
  if (!response.ok) {
    throw new Error('Request Failed');
  }
  
  // 3ï¸âƒ£ Parse data
  const data = await response.json();
  
  // 4ï¸âƒ£ Tampilkan data
  console.log(data);
};

// âœ… Handle error SAAT MEMANGGIL function dengan .catch()
getPosts().catch((error) => console.log(error));
```

#### ğŸ“ Penjelasan Kode:

1. **Function tanpa try-catch** - Tidak ada error handling di dalam
2. **`throw new Error()`** - Tetap throw error jika status tidak ok
3. **`.catch()` saat pemanggilan** - Error ditangani di luar function
4. Error yang di-throw akan ditangkap oleh `.catch()` method

#### âš ï¸ Apa yang Terjadi Tanpa `.catch()`?

Jika kamu **TIDAK** menambahkan `.catch()`:

```javascript
getPosts(); // âŒ Tanpa .catch()
```

Dan terjadi error (misal status 500), maka akan muncul:
```
Uncaught (in promise) Error: Request Failed
```

> ğŸš¨ Error tidak tertangani dan muncul di console sebagai **Uncaught Error**!

---

<a name="perbandingan-kedua-metode"></a>
## âš–ï¸ Perbandingan Kedua Metode

### ğŸ“Š Tabel Perbandingan

| Aspek | Try-Catch | Catch Method |
|-------|-----------|--------------|
| **Lokasi Error Handling** | âœ… Di dalam function | âŒ Di luar function |
| **Encapsulation** | âœ… Semua terkapsul dalam function | âŒ Error handling terpisah |
| **Keterbacaan** | âœ… Lebih mudah dibaca | ğŸ¤” Bisa membingungkan |
| **Best Practice** | âœ… Lebih direkomendasikan | âš ï¸ Kurang umum |

### ğŸ¯ Contoh Side-by-Side

**âŒ Kurang Ideal (Catch Method):**

```javascript
const getPosts = async () => {
  const response = await fetch('http://httpstat.us/500');
  
  if (!response.ok) {
    throw new Error('Request Failed');
  }
  
  const data = await response.text();
  console.log(data);
};

// Error handling di LUAR function
getPosts().catch((error) => console.log(error));
```

**âœ… Lebih Ideal (Try-Catch):**

```javascript
const getUsers = async () => {
  try {
    const response = await fetch('http://httpstat.us/500');
    
    if (!response.ok) {
      throw new Error('Request Failed');
    }
    
    const data = await response.text();
    console.log(data);
    
  } catch (error) {
    // Error handling di DALAM function
    console.log(error);
  }
};

getUsers();
```

### ğŸ’­ Pendapat dari Pembuat Tutorial:

> "Saya lebih suka **try-catch** karena semua error handling terkapsul dalam function. Dengan catch method, kita throw error dari dalam function tapi handle-nya di luar - ini terasa tidak konsisten dan kurang rapi."

> "Beberapa orang mungkin bilang try-catch itu 'jelek', tapi setidaknya semuanya **terkapsul dalam function**. Jadi terserah kamu mau pilih yang mana!"

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### âœ¨ Poin-Poin Penting:

1. **2 Cara Error Handling**: Try-Catch dan Catch Method
2. **Fetch API tidak auto-throw error** untuk status 4xx/5xx
3. **Manual checking dengan `response.ok`** sangat penting
4. **Try-Catch lebih direkomendasikan** karena lebih terkapsul
5. **Pilih metode yang paling nyaman** untuk kamu

### ğŸ”‘ Key Takeaways:

```javascript
// âœ… BEST PRACTICE
const getData = async () => {
  try {
    const response = await fetch(url);
    
    // Selalu check response.ok!
    if (!response.ok) {
      throw new Error('Request Failed');
    }
    
    const data = await response.json();
    return data;
    
  } catch (error) {
    console.log('Error:', error);
  }
};
```

### ğŸ“š Catatan Tambahan:

> âš ï¸ **URL `http://httpstat.us/` sering tidak stabil**. Jika tidak work, gunakan alternatif seperti:
> - `https://httpbin.org/status/500` - Return status 500
> - `https://httpbin.org/status/404` - Return status 404

---

### ğŸ¯ Latihan untuk Kamu:

1. Coba buat function dengan try-catch untuk fetch data dari API
2. Tambahkan checking `response.ok` untuk handle error status
3. Bandingkan hasilnya dengan menggunakan catch method
4. Pilih mana yang lebih nyaman untuk kamu!

---

**Happy Coding! ğŸš€âœ¨**

> Dokumentasi ini dibuat untuk pembelajaran pribadi. Terus berlatih dan jangan takut untuk bereksperimen!
