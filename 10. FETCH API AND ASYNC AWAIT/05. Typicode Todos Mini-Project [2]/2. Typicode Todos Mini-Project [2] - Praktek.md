# ğŸ“ Tutorial CRUD Todo App dengan Fetch API

> **Dokumentasi Pribadi untuk Pemula** - Belajar JavaScript dengan JSONPlaceholder API

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Persiapan File](#persiapan-file)
- [Struktur HTML](#struktur-html)
- [Styling CSS](#styling-css)
- [Langkah 1: Mengambil Data (GET)](#langkah-1-mengambil-data-get)
- [Langkah 2: Menampilkan Todo ke DOM](#langkah-2-menampilkan-todo-ke-dom)
- [Langkah 3: Menambah Todo Baru (POST)](#langkah-3-menambah-todo-baru-post)
- [Langkah 4: Update Todo dengan Event Delegation](#langkah-4-update-todo-dengan-event-delegation)
- [Langkah 5: Menambahkan Class 'todo'](#langkah-5-menambahkan-class-todo)
- [Langkah 6: Toggle Completed Status (PUT)](#langkah-6-toggle-completed-status-put)
- [Langkah 7: Hapus Todo (DELETE)](#langkah-7-hapus-todo-delete)
- [Kode Lengkap Akhir](#kode-lengkap-akhir)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar membuat aplikasi **Todo List** sederhana yang bisa:
- âœ… Mengambil data dari server (GET)
- âœ… Menambah todo baru (POST)
- âœ… Mengubah status completed (PUT)
- âœ… Menghapus todo (DELETE)

### ğŸ”§ Teknologi yang Digunakan
- **HTML** - Struktur halaman
- **CSS** - Styling tampilan
- **JavaScript** - Logika aplikasi
- **Fetch API** - Komunikasi dengan server
- **JSONPlaceholder API** - Fake REST API untuk testing

### ğŸŒ API yang Digunakan
```
https://jsonplaceholder.typicode.com/todos
```

---

<a name="persiapan-file"></a>
## ğŸ“‚ Persiapan File

Buat 3 file dalam satu folder:
1. `index.html` - File HTML utama
2. `style.css` - File styling
3. `index.js` - File JavaScript

---

<a name="struktur-html"></a>
## ğŸ—ï¸ Struktur HTML

Buat file `index.html` dengan struktur berikut:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Typicode Todos</title>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Typicode Todos</h1>
      </header>
      <main>
        <!-- Form untuk menambah todo -->
        <form id="todo-form">
          <input type="text" id="title" placeholder="Add Todo..." />
          <button type="submit">Add</button>
        </form>

        <!-- Container untuk menampilkan todos -->
        <div id="todo-list"></div>
      </main>
    </div>

    <script src="./index.js"></script>
  </body>
</html>
```

### ğŸ“ Penjelasan:
- `<form id="todo-form">` - Form untuk input todo baru
- `<div id="todo-list">` - Container untuk menampilkan semua todo
- `<script src="./index.js">` - Menghubungkan file JavaScript

---

<a name="styling-css"></a>
## ğŸ¨ Styling CSS

Buat file `style.css`:

```css
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

*,
*:before,
*:after {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Poppins';
  line-height: 1.6;
  padding: 0 40px;
}

header {
  margin-bottom: 20px;
}

button {
  padding: 10px;
  background: salmon;
  color: white;
  border-radius: 5px;
  width: 100px;
  border: none;
}

input[type='text'] {
  padding: 5px;
  border-radius: 5px;
  width: 300px;
  height: 35px;
  border: 1px #ccc solid;
  margin-right: 5px;
}

#todo-list {
  display: flex;
  flex-wrap: wrap;
  margin-top: 20px;
}

#todo-list > div {
  border: 1px #666 solid;
  padding: 10px;
  margin: 5px;
  cursor: pointer;
}

.done {
  background: #ccc;
}
```

### ğŸ¯ Poin Penting:
- `.done` - Class untuk todo yang sudah selesai (background abu-abu)
- `cursor: pointer` - Menunjukkan todo bisa diklik

---

<a name="langkah-1-mengambil-data-get"></a>
## ğŸš€ Langkah 1: Mengambil Data (GET)

Buat file `index.js` dan mulai dengan mendefinisikan URL API:

```javascript
const apiUrl = 'https://jsonplaceholder.typicode.com/todos';
```

### âœ¨ Membuat Fungsi getTodos()

Fungsi ini akan mengambil 10 todo pertama dari server:

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=10')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => addTodoToDOM(todo));
    });
};
```

### ğŸ“ Penjelasan:
1. **`fetch(apiUrl + '?_limit=10')`** - Mengambil data dengan limit 10 todo
2. **`.then((res) => res.json())`** - Mengubah response menjadi JSON
3. **`data.forEach()`** - Loop setiap todo dan tampilkan ke DOM

> ğŸ’¡ **Tips**: `?_limit=10` adalah query parameter untuk membatasi hasil hanya 10 data

---

<a name="langkah-2-menampilkan-todo-ke-dom"></a>
## ğŸ–¥ï¸ Langkah 2: Menampilkan Todo ke DOM

Buat fungsi untuk menambahkan todo ke halaman:

```javascript
const addTodoToDOM = (todo) => {
  const div = document.createElement('div');
  div.classList.add('todo');
  div.textContent = todo.title;
  div.setAttribute('data-id', todo.id);

  if (todo.completed) {
    div.classList.add('done');
  }

  document.querySelector('#todo-list').append(div);
};
```

### ğŸ“ Penjelasan Baris per Baris:
1. **`document.createElement('div')`** - Buat element div baru
2. **`div.classList.add('todo')`** - Tambah class 'todo'
3. **`div.textContent = todo.title`** - Isi text dengan judul todo
4. **`div.setAttribute('data-id', todo.id)`** - Simpan ID todo di attribute
5. **`if (todo.completed)`** - Cek apakah todo sudah selesai
6. **`div.classList.add('done')`** - Tambah class 'done' jika completed
7. **`append(div)`** - Tambahkan div ke dalam #todo-list

> ğŸ¯ **Penting**: `data-id` digunakan untuk menyimpan ID todo yang nanti dipakai untuk update/delete

---

<a name="langkah-3-menambah-todo-baru-post"></a>
## â• Langkah 3: Menambah Todo Baru (POST)

Buat fungsi untuk menambah todo baru:

```javascript
const createTodo = (e) => {
  e.preventDefault();

  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false,
  };

  fetch(apiUrl, {
    method: 'POST',
    body: JSON.stringify(newTodo),
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((data) => addTodoToDOM(data));
};
```

### ğŸ“ Penjelasan:
1. **`e.preventDefault()`** - Mencegah form reload halaman
2. **`e.target.firstElementChild.value`** - Ambil nilai dari input text
3. **`method: 'POST'`** - Menggunakan method POST untuk create
4. **`JSON.stringify(newTodo)`** - Ubah object menjadi string JSON
5. **`'Content-Type': 'application/json'`** - Header untuk mengirim JSON
6. **`addTodoToDOM(data)`** - Tampilkan todo baru ke halaman

> ğŸ’¡ **Catatan**: JSONPlaceholder tidak menyimpan data, jadi todo baru akan hilang saat reload

---

<a name="langkah-4-update-todo-dengan-event-delegation"></a>
## ğŸ”„ Langkah 4: Update Todo dengan Event Delegation

### ğŸ¤” Apa itu Event Delegation?

Event Delegation adalah teknik menambahkan event listener ke **parent element** bukan ke setiap child element.

**Keuntungan:**
- âœ… Lebih efisien (hanya 1 event listener)
- âœ… Berfungsi untuk element yang ditambah dinamis

### ğŸ¯ Membuat Fungsi Toggle

Pertama, buat fungsi dasar untuk toggle class 'done':

```javascript
const toggleCompleted = (e) => {
  e.target.classList.toggle('done');
};
```

**Masalah:** Jika kita klik di luar todo (di container), seluruh container akan mendapat class 'done'.

---

<a name="langkah-5-menambahkan-class-todo"></a>
## ğŸ·ï¸ Langkah 5: Menambahkan Class 'todo'

### âš ï¸ Identifikasi Masalah

Karena kita tidak menggunakan `<ul><li>`, kita tidak bisa mengecek `e.target.tagName === 'LI'`. Semua element adalah `<div>`.

### âœ… Solusi: Tambah Class 'todo'

Kita sudah menambahkan class 'todo' di fungsi `addTodoToDOM()`:

```javascript
div.classList.add('todo'); // â† Sudah ada di kode sebelumnya
```

### ğŸ” Perbaiki Fungsi toggleCompleted

Sekarang kita bisa mengecek apakah yang diklik memiliki class 'todo':

```javascript
const toggleCompleted = (e) => {
  if (e.target.classList.contains('todo')) {
    e.target.classList.toggle('done');
  }
};
```

### ğŸ“ Penjelasan:
- **`e.target.classList.contains('todo')`** - Cek apakah element yang diklik punya class 'todo'
- Hanya element dengan class 'todo' yang akan di-toggle

> ğŸ¯ **Testing**: Sekarang klik di todo = toggle, klik di luar todo = tidak terjadi apa-apa

---

<a name="langkah-6-toggle-completed-status-put"></a>
## ğŸ”„ Langkah 6: Toggle Completed Status (PUT)

### ğŸ¯ Membuat Fungsi updateTodo

Fungsi ini akan mengirim request PUT ke server:

```javascript
const updateTodo = (id, completed) => {
  fetch(`${apiUrl}/${id}`, {
    method: 'PUT',
    body: JSON.stringify({ completed }),
    headers: {
      'Content-Type': 'application/json',
    },
  });
};
```

### ğŸ“ Penjelasan:
1. **`${apiUrl}/${id}`** - URL dengan ID todo (contoh: .../todos/1)
2. **`method: 'PUT'`** - Method PUT untuk update
3. **`{ completed }`** - Shorthand untuk `{ completed: completed }`

### ğŸ”— Hubungkan dengan toggleCompleted

Tambahkan pemanggilan `updateTodo()` di dalam fungsi `toggleCompleted()`:

```javascript
const toggleCompleted = (e) => {
  if (e.target.classList.contains('todo')) {
    e.target.classList.toggle('done');
    
    // Ambil ID dari data-id attribute
    const id = e.target.dataset.id;
    
    // Cek apakah sekarang punya class 'done'
    const completed = e.target.classList.contains('done');
    
    // Kirim update ke server
    updateTodo(id, completed);
  }
};
```

### ğŸ“ Penjelasan Detail:

**1. Mengambil ID:**
```javascript
const id = e.target.dataset.id;
```
- `dataset.id` mengambil nilai dari attribute `data-id`

**2. Cek Status Completed:**
```javascript
const completed = e.target.classList.contains('done');
```
- Jika punya class 'done' â†’ `completed = true`
- Jika tidak punya â†’ `completed = false`

**3. Kirim Update:**
```javascript
updateTodo(id, completed);
```
- Kirim ID dan status completed ke server

> ğŸ¯ **Testing**: Buka DevTools â†’ Network Tab â†’ Klik todo â†’ Lihat request PUT dengan status completed true/false

---

<a name="langkah-7-hapus-todo-delete"></a>
## ğŸ—‘ï¸ Langkah 7: Hapus Todo (DELETE)

### ğŸ–±ï¸ Menggunakan Double Click

Kita akan menggunakan **double click** untuk menghapus todo:

```javascript
const deleteTodo = (e) => {
  if (e.target.classList.contains('todo')) {
    const id = e.target.dataset.id;

    fetch(`${apiUrl}/${id}`, {
      method: 'DELETE',
    })
      .then((res) => res.json())
      .then(() => e.target.remove());
  }
};
```

### ğŸ“ Penjelasan:
1. **Cek class 'todo'** - Pastikan yang diklik adalah todo item
2. **Ambil ID** - Dari attribute `data-id`
3. **`method: 'DELETE'`** - Kirim request DELETE
4. **`e.target.remove()`** - Hapus element dari DOM

> âš ï¸ **Catatan**: DELETE request tidak mengirim body data, hanya perlu ID di URL

---

<a name="kode-lengkap-akhir"></a>
## ğŸ“¦ Kode Lengkap Akhir

### ğŸ”§ Fungsi init() untuk Menjalankan Aplikasi

Tambahkan fungsi `init()` di akhir file untuk mendaftarkan semua event listener:

```javascript
const init = () => {
  // Load todos saat halaman selesai dimuat
  document.addEventListener('DOMContentLoaded', getTodos);
  
  // Event submit form untuk menambah todo
  document.querySelector('#todo-form').addEventListener('submit', createTodo);
  
  // Event click untuk toggle completed
  document
    .querySelector('#todo-list')
    .addEventListener('click', toggleCompleted);
  
  // Event double click untuk delete todo
  document
    .querySelector('#todo-list')
    .addEventListener('dblclick', deleteTodo);
};

// Jalankan fungsi init
init();
```

### ğŸ“ File `index.js` Lengkap:

```javascript
const apiUrl = 'https://jsonplaceholder.typicode.com/todos';

const getTodos = () => {
  fetch(apiUrl + '?_limit=10')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => addTodoToDOM(todo));
    });
};

const addTodoToDOM = (todo) => {
  const div = document.createElement('div');
  div.classList.add('todo');
  div.textContent = todo.title;
  div.setAttribute('data-id', todo.id);

  if (todo.completed) {
    div.classList.add('done');
  }

  document.querySelector('#todo-list').append(div);
};

const createTodo = (e) => {
  e.preventDefault();

  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false,
  };

  fetch(apiUrl, {
    method: 'POST',
    body: JSON.stringify(newTodo),
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((data) => addTodoToDOM(data));
};

const updateTodo = (id, completed) => {
  fetch(`${apiUrl}/${id}`, {
    method: 'PUT',
    body: JSON.stringify({ completed }),
    headers: {
      'Content-Type': 'application/json',
    },
  });
};

const toggleCompleted = (e) => {
  if (e.target.classList.contains('todo')) {
    e.target.classList.toggle('done');
    updateTodo(e.target.dataset.id, e.target.classList.contains('done'));
  }
};

const deleteTodo = (e) => {
  if (e.target.classList.contains('todo')) {
    const id = e.target.dataset.id;

    fetch(`${apiUrl}/${id}`, {
      method: 'DELETE',
    })
      .then((res) => res.json())
      .then(() => e.target.remove());
  }
};

const init = () => {
  document.addEventListener('DOMContentLoaded', getTodos);
  document.querySelector('#todo-form').addEventListener('submit', createTodo);
  document
    .querySelector('#todo-list')
    .addEventListener('click', toggleCompleted);
  document.querySelector('#todo-list').addEventListener('dblclick', deleteTodo);
};

init();
```

---

<a name="kesimpulan"></a>
## ğŸ‰ Kesimpulan

### âœ… Apa yang Sudah Kita Pelajari:

1. **GET Request** - Mengambil data dari server
2. **POST Request** - Menambah data baru
3. **PUT Request** - Mengupdate data yang ada
4. **DELETE Request** - Menghapus data
5. **Event Delegation** - Teknik efisien untuk event listener
6. **DOM Manipulation** - Menambah/menghapus element dinamis
7. **Data Attributes** - Menyimpan data di HTML element

### ğŸ¯ Cara Menggunakan Aplikasi:

| Aksi | Cara |
|------|------|
| **Tambah Todo** | Ketik di input â†’ Klik "Add" |
| **Toggle Done** | Klik 1x pada todo |
| **Hapus Todo** | Double-click pada todo |

### ğŸ’¡ Tips Pengembangan Lebih Lanjut:

1. **Tambah Icon X** - Untuk delete yang lebih jelas
2. **Tambah Loading State** - Saat fetching data
3. **Tambah Error Handling** - Dengan `.catch()`
4. **Tambah Konfirmasi Delete** - Dengan `confirm()`
5. **Tambah Edit Feature** - Update title todo

### ğŸš€ Challenge untuk Kamu:

- [ ] Tambahkan total counter todo
- [ ] Buat filter: All, Active, Completed
- [ ] Tambahkan animasi saat add/delete
- [ ] Simpan ke localStorage untuk persistence

---

## ğŸ“š Referensi

- **JSONPlaceholder**: https://jsonplaceholder.typicode.com/
- **Fetch API**: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API
- **REST API Methods**: GET, POST, PUT, DELETE

---

<div align="center">

### ğŸ“ Selamat! Kamu Telah Menyelesaikan Tutorial CRUD dengan Fetch API

**Happy Coding! ğŸ’»âœ¨**

</div>
