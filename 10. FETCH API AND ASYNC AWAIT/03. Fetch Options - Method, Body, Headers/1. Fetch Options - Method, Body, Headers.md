# ğŸ“š Dokumentasi Fetch API Options - POST Request

> **Dokumentasi pribadi untuk belajar Fetch API dengan metode POST, Headers, dan Body**

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Fetch Options?](#apa-itu-fetch-options)
- [3 Options Penting dalam Fetch](#3-options-penting-dalam-fetch)
  - [Method](#method)
  - [Headers](#headers)
  - [Body](#body)
- [Apa itu JSONPlaceholder?](#apa-itu-jsonplaceholder)
- [Apa itu REST API?](#apa-itu-rest-api)
- [CRUD Functionality](#crud-functionality)
- [Praktek Code: Membuat POST Request](#praktek-code-membuat-post-request)
  - [Setup HTML](#setup-html)
  - [Membuat Function createPost()](#membuat-function-createpost)
  - [Penjelasan Code Step by Step](#penjelasan-code-step-by-step)
- [Response dari Server](#response-dari-server)
- [Network Tab di Browser](#network-tab-di-browser)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Setelah belajar membuat **GET request** sederhana dengan Fetch API, sekarang kita akan belajar tentang **options** yang bisa kita tambahkan ke dalam request kita. 

Ada **3 options penting** yang akan kita pelajari:
- âœ… **Method** - Jenis HTTP request (GET, POST, PUT, DELETE)
- âœ… **Headers** - Custom HTTP headers untuk autentikasi, content type, dll
- âœ… **Body** - Data yang ingin kita kirim ke server

---

<a name="apa-itu-fetch-options"></a>
## ğŸ“– Apa itu Fetch Options?

**Fetch Options** adalah parameter tambahan yang kita berikan saat melakukan fetch request untuk mengkustomisasi perilaku request kita.

Sampai sekarang, kita hanya membuat **GET request** karena itu adalah **default** jika kita tidak menentukan method apapun.

```javascript
// GET request (default)
fetch('https://api.example.com/posts')
```

Tapi jika kita ingin membuat **POST**, **PUT**, atau **DELETE** request, kita harus menambahkan **options**.

---

<a name="3-options-penting-dalam-fetch"></a>
## ğŸ”§ 3 Options Penting dalam Fetch

<a name="method"></a>
### 1ï¸âƒ£ Method

**Method** menentukan jenis HTTP request yang ingin kita buat.

| Method | Fungsi | Keterangan |
|--------|--------|------------|
| `GET` | Mengambil data | Default, tidak perlu ditulis |
| `POST` | Membuat data baru | Kirim data ke server |
| `PUT` / `PATCH` | Update data | Mengubah data yang sudah ada |
| `DELETE` | Hapus data | Menghapus data dari server |

```javascript
fetch('https://api.example.com/posts', {
  method: 'POST' // Menentukan ini adalah POST request
})
```

---

<a name="headers"></a>
### 2ï¸âƒ£ Headers

**Headers** adalah metadata yang kita kirim bersama request untuk memberikan informasi tambahan ke server.

**Contoh penggunaan Headers:**

ğŸ”¹ **Content-Type**: Memberitahu server jenis data yang kita kirim
```javascript
headers: {
  'Content-Type': 'application/json'
}
```

ğŸ”¹ **Authentication**: Mengirim token untuk autentikasi
```javascript
headers: {
  'token': 'abc123'
}
```

ğŸ’¡ **Catatan:** Banyak API modern menggunakan authentication dimana kita harus:
1. Login terlebih dahulu
2. Mendapat token dari server
3. Menyimpan token (biasanya di localStorage)
4. Mengirim token di headers setiap request untuk mengakses resource yang protected

---

<a name="body"></a>
### 3ï¸âƒ£ Body

**Body** adalah data yang ingin kita kirim ke server. Biasanya digunakan untuk **POST** atau **PUT** request.

Misalnya saat kita mengisi form untuk menambah resep baru, data dari form tersebut akan dikirim melalui **body**.

```javascript
body: JSON.stringify({
  title: 'My Post',
  body: 'This is my post content'
})
```

âš ï¸ **Penting:** Data harus di-convert ke JSON string menggunakan `JSON.stringify()` karena HTTP hanya bisa mengirim text.

---

<a name="apa-itu-jsonplaceholder"></a>
## ğŸŒ Apa itu JSONPlaceholder?

**JSONPlaceholder** adalah **fake/mock REST API** untuk testing dan prototyping.

ğŸ”— Website: `https://jsonplaceholder.typicode.com`

### âœ¨ Fitur JSONPlaceholder:

âœ… **Gratis** dan mudah digunakan  
âœ… Tidak perlu authentication  
âœ… Cocok untuk belajar dan testing  
âŒ **Data tidak benar-benar tersimpan** - hanya simulasi

### ğŸ“¦ Resources yang Tersedia:

- `/posts` - Data blog posts
- `/comments` - Komentar
- `/albums` - Album foto
- `/photos` - Foto
- `/todos` - To-do list
- `/users` - Data user

### ğŸ¯ Kenapa Menggunakan JSONPlaceholder?

Karena ini adalah **fake API**, data yang kita POST/PUT/DELETE **tidak benar-benar tersimpan** di database. Tapi server akan memberikan **response yang realistis** seolah-olah data benar-benar tersimpan.

ğŸ’¡ **Alternatif:** Ada juga **JSON Server** yang bisa di-install dan di-run secara lokal, dimana data **benar-benar tersimpan** dalam file JSON.

---

<a name="apa-itu-rest-api"></a>
## ğŸ—ï¸ Apa itu REST API?

**REST API** (RESTful API) adalah API yang mengikuti standard/aturan tertentu dalam hal:
- HTTP Methods yang digunakan
- Struktur URL/Endpoints
- Response format

### ğŸ“ Standard REST API:

| Action | Method | Endpoint | Contoh |
|--------|--------|----------|--------|
| Ambil semua post | `GET` | `/posts` | Mendapat list semua posts |
| Ambil satu post | `GET` | `/posts/1` | Mendapat post dengan ID 1 |
| Buat post baru | `POST` | `/posts` | Membuat post baru |
| Update post | `PUT`/`PATCH` | `/posts/1` | Update post dengan ID 1 |
| Hapus post | `DELETE` | `/posts/1` | Hapus post dengan ID 1 |

ğŸ’¡ **Catatan:** Endpoint yang sama (`/posts`) bisa melakukan action berbeda tergantung **method** yang digunakan:
- `GET /posts` â†’ Ambil semua posts
- `POST /posts` â†’ Buat post baru

---

<a name="crud-functionality"></a>
## ğŸ”„ CRUD Functionality

**CRUD** adalah singkatan dari:
- **C**reate - Membuat data baru
- **R**ead - Membaca/mengambil data
- **U**pdate - Mengubah data yang ada
- **D**elete - Menghapus data

### ğŸŒŸ Contoh CRUD dalam Kehidupan Sehari-hari:

**Facebook Post:**
- âœï¸ **Create**: Membuat post baru
- ğŸ‘ï¸ **Read**: Melihat post
- âœ¨ **Update**: Edit post yang sudah dibuat
- ğŸ—‘ï¸ **Delete**: Hapus post

**Google Review:**
- âœï¸ **Create**: Menulis review
- ğŸ‘ï¸ **Read**: Membaca review
- âœ¨ **Update**: Edit review (tergantung platform)
- ğŸ—‘ï¸ **Delete**: Hapus review

ğŸ’¡ **Hampir semua aplikasi** yang kita gunakan memiliki CRUD functionality sebagai core feature-nya!

---

<a name="praktek-code-membuat-post-request"></a>
## ğŸ’» Praktek Code: Membuat POST Request

<a name="setup-html"></a>
### ğŸ“„ Setup HTML

File: `index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Options</title>
  </head>
  <body>
    <h1>Fetch Options</h1>

    <script src="./script.js"></script>
  </body>
</html>
```

**Penjelasan:**
- HTML sangat sederhana
- Hanya load file JavaScript `script.js`
- Semua logic ada di JavaScript

---

<a name="membuat-function-createpost"></a>
### âš™ï¸ Membuat Function createPost()

File: `script.js`

```javascript
/*
  COMMON FETCH OPTIONS
  method: HTTP method you want to use
  body: Data you want to send. Usually to be put in a database, etc
  headers: Any HTTP headers you want to send
*/

function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body,
    }),
    headers: {
      'Content-Type': 'application/json',
      token: 'abc123',
    },
  })
    .then((res) => res.json())
    .then((data) => console.log(data));
}

createPost({ title: 'My Post', body: 'This is my Post' });
```

---

<a name="penjelasan-code-step-by-step"></a>
### ğŸ” Penjelasan Code Step by Step

#### 1ï¸âƒ£ **Function dengan Destructuring**

```javascript
function createPost({ title, body }) {
  // ...
}
```

**Penjelasan:**
- Function menerima **1 parameter** berbentuk object
- Kita langsung **destructure** object tersebut untuk ambil `title` dan `body`
- Sama seperti menulis:
  ```javascript
  function createPost(post) {
    const title = post.title;
    const body = post.body;
  }
  ```

---

#### 2ï¸âƒ£ **Fetch dengan URL**

```javascript
fetch('https://jsonplaceholder.typicode.com/posts', {
  // options...
})
```

**Penjelasan:**
- Parameter pertama: **URL endpoint**
- Parameter kedua: **Object berisi options**
- Kita akan POST ke endpoint `/posts`

---

#### 3ï¸âƒ£ **Method: POST**

```javascript
method: 'POST',
```

**Penjelasan:**
- Menentukan bahwa ini adalah **POST request**
- Kalau tidak ditulis, default adalah `GET`
- Ditulis dengan huruf kapital adalah **konvensi** (boleh juga huruf kecil)

---

#### 4ï¸âƒ£ **Body: Data yang Dikirim**

```javascript
body: JSON.stringify({
  title,
  body,
}),
```

**Penjelasan:**
- `body` berisi data yang ingin kita kirim ke server
- **Harus di-convert ke JSON string** menggunakan `JSON.stringify()`
- `title` dan `body` adalah **shorthand property** (sama dengan `title: title, body: body`)
- Data ini yang nantinya akan disimpan di database (kalau API sungguhan)

â“ **Kenapa tidak perlu kirim ID?**
- ID biasanya di-generate **otomatis** oleh server/database
- Database seperti MySQL, PostgreSQL, MongoDB akan membuat ID secara auto-increment
- Kita hanya perlu kirim data content-nya saja

---

#### 5ï¸âƒ£ **Headers: Metadata Request**

```javascript
headers: {
  'Content-Type': 'application/json',
  token: 'abc123',
},
```

**Penjelasan:**

ğŸ”¹ **Content-Type**
- Memberitahu server bahwa kita mengirim data dalam format **JSON**
- Ditulis dengan tanda kutip karena ada tanda `-` (hyphen)
- Value: `application/json`

ğŸ”¹ **token**
- Contoh custom header untuk **authentication**
- Dalam aplikasi nyata:
  1. User login â†’ dapat token dari server
  2. Token disimpan di localStorage
  3. Token dikirim di setiap request untuk akses protected resources
- Server akan validate token ini untuk cek apakah user berhak akses

ğŸ’¡ **Catatan:** Kita bisa menambahkan header apapun, misalnya:
```javascript
headers: {
  'hello': 'world', // custom header
  'api-key': 'mykey123'
}
```

---

#### 6ï¸âƒ£ **Handling Response**

```javascript
.then((res) => res.json())
.then((data) => console.log(data));
```

**Penjelasan:**
- Fetch mengembalikan **Promise**
- `.then()` pertama: Convert response ke JSON
- `.then()` kedua: Menampilkan data di console
- Data yang kita dapat biasanya berisi:
  - Data yang baru dibuat
  - **ID yang di-generate oleh server**

---

#### 7ï¸âƒ£ **Memanggil Function**

```javascript
createPost({ title: 'My Post', body: 'This is my Post' });
```

**Penjelasan:**
- Memanggil function `createPost()`
- Mengirim object dengan property `title` dan `body`
- Function akan mengirim POST request ke server

---

<a name="response-dari-server"></a>
## ğŸ“¨ Response dari Server

Setelah menjalankan code, kita akan mendapat response di console:

```javascript
{
  title: 'My Post',
  body: 'This is my Post',
  id: 101
}
```

### ğŸ¯ Penjelasan Response:

âœ… **title** dan **body** â†’ Data yang kita kirim  
âœ… **id: 101** â†’ ID yang di-generate oleh server

### â“ Kenapa ID-nya 101?

- JSONPlaceholder memiliki 100 posts (ID 1-100)
- Post baru akan mendapat ID 101
- **Tapi ingat:** Karena ini fake API, data **tidak benar-benar tersimpan**
- Setiap kali kita POST lagi, ID akan tetap 101 (tidak increment)

### ğŸ’¾ Pada Real API:

Dalam aplikasi sungguhan dengan database:
- Data **benar-benar tersimpan** di database
- ID akan **auto-increment** (102, 103, 104, dst.)
- Response bisa include informasi tambahan (timestamp, status, dll)

---

<a name="network-tab-di-browser"></a>
## ğŸ” Network Tab di Browser

Network tab adalah tools di browser untuk melihat semua request yang terjadi.

### ğŸ“ Cara Membuka Network Tab:

1. Buka **Developer Tools** (F12)
2. Pilih tab **Network**
3. Refresh page / jalankan request

### ğŸ” Apa yang Bisa Dilihat?

#### 1ï¸âƒ£ **Status Code: 201**

```
Status: 201 Created
```

**Penjelasan:**
- **200-299** = Request berhasil
- **201** = Resource berhasil dibuat (Created)
- Status 201 khusus untuk POST request yang berhasil membuat data baru

---

#### 2ï¸âƒ£ **Request Headers**

Klik request â†’ Tab **Headers** â†’ Scroll ke **Request Headers**

**Yang akan terlihat:**

```
Content-Type: application/json
token: abc123
```

**Penjelasan:**
- Ini adalah headers yang **kita kirim** ke server
- Server bisa membaca headers ini untuk:
  - Tahu format data yang dikirim (JSON)
  - Validate token untuk authentication

---

#### 3ï¸âƒ£ **Response Headers**

Headers yang **dikirim oleh server** kepada kita:

```
Content-Type: application/json; charset=utf-8
```

**Penjelasan:**
- Server memberitahu kita bahwa response-nya dalam format JSON

---

#### 4ï¸âƒ£ **Payload**

Tab **Payload** menampilkan **data yang kita kirim**:

```json
{
  "title": "My Post",
  "body": "This is my Post"
}
```

**Penjelasan:**
- Ini adalah **body** dari request kita
- Tidak ada `id` karena id di-generate oleh server
- Inilah yang dimaksud dengan **payload** (bundel data yang dikirim)

---

#### 5ï¸âƒ£ **Response**

Tab **Response** menampilkan **data yang dikembalikan server**:

```json
{
  "title": "My Post",
  "body": "This is my Post",
  "id": 101
}
```

**Penjelasan:**
- Data yang kita kirim + ID yang di-generate
- Ini adalah konfirmasi bahwa request berhasil

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### ğŸ“ Apa yang Sudah Dipelajari:

âœ… **3 Options Penting Fetch API:**
   - `method`: Menentukan jenis HTTP request
   - `headers`: Mengirim metadata (content-type, authentication, dll)
   - `body`: Data yang ingin dikirim (harus di-stringify)

âœ… **JSONPlaceholder:**
   - Fake API untuk testing
   - Data tidak benar-benar tersimpan
   - Memberikan response realistis

âœ… **REST API:**
   - Standard untuk membuat API
   - Menggunakan HTTP methods dengan konsisten
   - Struktur URL yang terorganisir

âœ… **CRUD:**
   - Create, Read, Update, Delete
   - Core functionality hampir semua aplikasi
   - Mapping ke HTTP methods (POST, GET, PUT, DELETE)

âœ… **POST Request:**
   - Untuk membuat data baru
   - Mengirim data melalui body
   - Response berisi data + ID yang di-generate

âœ… **Network Tab:**
   - Melihat request/response
   - Check status code
   - Debug headers dan payload

---

### ğŸš€ Langkah Selanjutnya:

Selanjutnya kita akan belajar:
- Membuat mini project dengan **CRUD lengkap**
- Menggunakan resource `/todos`
- Implement **GET, POST, PUT, DELETE**
- Manipulasi DOM untuk UI yang interaktif

---

### ğŸ’¡ Tips Penting:

â­ **Selalu stringify data** saat mengirim JSON  
â­ **Set Content-Type header** agar server tahu format data  
â­ **ID biasanya auto-generate**, jangan kirim manual  
â­ **Gunakan Network Tab** untuk debugging  
â­ **Status 200-299** artinya request berhasil  

---

**Happy Coding! ğŸ‰**
