# ğŸ“š Panduan Lengkap Fetch API Options untuk Pemula

> ğŸ“ **Dokumentasi Pribadi** - Belajar cara menggunakan Fetch API dengan berbagai options seperti method, headers, dan body untuk membuat aplikasi web interaktif.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Fetch API Options?](#apa-itu-fetch-api-options)
- [Persiapan Project](#persiapan-project)
- [Method Option - Jenis HTTP Request](#method-option)
- [Headers Option - Mengirim Informasi Tambahan](#headers-option)
- [Body Option - Mengirim Data](#body-option)
- [Apa itu REST API?](#apa-itu-rest-api)
- [CRUD Operations](#crud-operations)
- [Mengenal JSONPlaceholder](#mengenal-jsonplaceholder)
- [Praktik: Membuat POST Request](#praktik-post-request)
  - [Langkah 1: Setup HTML](#langkah-1-setup-html)
  - [Langkah 2: Membuat Function createPost](#langkah-2-membuat-function-createpost)
  - [Langkah 3: Menambahkan Method](#langkah-3-menambahkan-method)
  - [Langkah 4: Menambahkan Body](#langkah-4-menambahkan-body)
  - [Langkah 5: Menambahkan Headers](#langkah-5-menambahkan-headers)
  - [Langkah 6: Handle Response](#langkah-6-handle-response)
  - [Langkah 7: Menjalankan Function](#langkah-7-menjalankan-function)
- [Testing dengan Network Tab](#testing-network-tab)
- [Penjelasan Status Code](#penjelasan-status-code)
- [Tips dan Best Practices](#tips-best-practices)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Selamat datang! ğŸ‘‹ Di dokumentasi ini, kita akan belajar cara menggunakan **Fetch API** dengan berbagai **options** untuk berkomunikasi dengan server. 

Sebelumnya kita sudah belajar membuat **GET request** sederhana. Sekarang kita akan mempelajari cara mengirim data ke server menggunakan **POST request** dengan options tambahan!

---

<a name="apa-itu-fetch-api-options"></a>
## ğŸ“– Apa itu Fetch API Options?

**Fetch API Options** adalah pengaturan tambahan yang bisa kita kirimkan saat melakukan request ke server. Ada 3 options utama yang akan kita pelajari:

### ğŸ”¹ 1. **Method**
Menentukan jenis HTTP request yang ingin kita gunakan:
- `GET` - Mengambil data (default)
- `POST` - Mengirim/membuat data baru
- `PUT` / `PATCH` - Mengupdate data
- `DELETE` - Menghapus data

### ğŸ”¹ 2. **Headers**
Mengirim informasi tambahan ke server, seperti:
- `Content-Type` - Jenis data yang dikirim
- `Token` - Untuk autentikasi
- Custom headers lainnya

### ğŸ”¹ 3. **Body**
Data yang ingin kita kirim ke server (biasanya dari form input)

> ğŸ’¡ **Catatan**: Jika kita tidak menentukan options, maka Fetch akan otomatis menggunakan **GET request**.

---

<a name="persiapan-project"></a>
## ğŸ› ï¸ Persiapan Project

Sebelum mulai coding, pastikan kamu sudah menyiapkan struktur folder:

```
my-project/
â”œâ”€â”€ index.html
â””â”€â”€ script.js
```

---

<a name="method-option"></a>
## ğŸ”„ Method Option - Jenis HTTP Request

Method adalah cara kita memberitahu server **apa yang ingin kita lakukan**.

| Method | Fungsi | Contoh Penggunaan |
|--------|--------|-------------------|
| **GET** | Mengambil data | Melihat daftar artikel |
| **POST** | Membuat data baru | Posting artikel baru |
| **PUT/PATCH** | Update data | Edit artikel |
| **DELETE** | Hapus data | Hapus artikel |

### Contoh Syntax:
```javascript
fetch('url', {
  method: 'POST'  // â† Menentukan method
})
```

---

<a name="headers-option"></a>
## ğŸ“‹ Headers Option - Mengirim Informasi Tambahan

Headers seperti "amplop surat" yang berisi informasi tentang data yang kita kirim.

### Headers yang Umum Digunakan:

#### 1. **Content-Type**
Memberitahu server jenis data yang kita kirim:
```javascript
headers: {
  'Content-Type': 'application/json'  // Mengirim data JSON
}
```

#### 2. **Token (Authentication)**
Untuk autentikasi pengguna:
```javascript
headers: {
  'token': 'abc123'  // Token autentikasi
}
```

> ğŸ” **Catatan Penting**: 
> - Token biasanya didapat setelah login
> - Token disimpan di localStorage
> - Token dikirim setiap kali request ke halaman yang dilindungi

---

<a name="body-option"></a>
## ğŸ“¦ Body Option - Mengirim Data

Body adalah tempat kita meletakkan **data yang ingin dikirim** ke server.

### âš ï¸ Aturan Penting:
1. Body **hanya** digunakan untuk: `POST`, `PUT`, `PATCH`
2. Body **TIDAK** digunakan untuk: `GET`, `DELETE`
3. Data JavaScript harus di-convert ke JSON menggunakan `JSON.stringify()`

### Contoh:
```javascript
body: JSON.stringify({
  title: 'Judul Artikel',
  body: 'Isi artikel di sini'
})
```

---

<a name="apa-itu-rest-api"></a>
## ğŸŒ Apa itu REST API?

**REST API** (RESTful API) adalah standar cara komunikasi antara frontend dan backend dengan aturan tertentu.

### Karakteristik REST API:
âœ… Menggunakan HTTP methods (GET, POST, PUT, DELETE)  
âœ… Menggunakan URL yang terstruktur  
âœ… Mengembalikan data dalam format JSON  
âœ… Stateless (setiap request berdiri sendiri)  

### Contoh Endpoint REST API:
```
GET    /posts        â†’ Ambil semua post
GET    /posts/1      â†’ Ambil post dengan ID 1
POST   /posts        â†’ Buat post baru
PUT    /posts/1      â†’ Update post dengan ID 1
DELETE /posts/1      â†’ Hapus post dengan ID 1
```

> ğŸ’¡ **Fun Fact**: REST API bisa dibuat dengan berbagai bahasa:
> - Node.js + Express
> - Python + Django
> - PHP + Laravel
> - Dan lain-lain!

---

<a name="crud-operations"></a>
## ğŸ”§ CRUD Operations

**CRUD** adalah 4 operasi dasar dalam aplikasi:

| Operasi | Artinya | HTTP Method | Contoh |
|---------|---------|-------------|--------|
| **C**reate | Buat baru | POST | Posting foto Instagram |
| **R**ead | Baca/Ambil | GET | Lihat feed Instagram |
| **U**pdate | Perbarui | PUT/PATCH | Edit caption foto |
| **D**elete | Hapus | DELETE | Hapus foto |

### ğŸ¯ Contoh Nyata CRUD:

**Facebook Post:**
- âœï¸ **Create**: Buat post baru
- ğŸ‘€ **Read**: Lihat post di timeline
- âœï¸ **Update**: Edit post
- ğŸ—‘ï¸ **Delete**: Hapus post

**Google Review:**
- âœï¸ **Create**: Tulis review
- ğŸ‘€ **Read**: Baca review
- âœï¸ **Update**: Edit review (kadang bisa)
- ğŸ—‘ï¸ **Delete**: Hapus review

> ğŸ’¡ **Insight**: Hampir semua aplikasi modern menggunakan CRUD + Authentication!

---

<a name="mengenal-jsonplaceholder"></a>
## ğŸ§ª Mengenal JSONPlaceholder

**JSONPlaceholder** adalah fake/mock REST API untuk belajar dan testing.

### ğŸ”— URL: 
```
https://jsonplaceholder.typicode.com
```

### âœ¨ Keunggulan:
âœ… Gratis  
âœ… Tidak perlu registrasi  
âœ… Langsung bisa dipakai  
âœ… Cocok untuk belajar  

### âš ï¸ Limitasi:
âŒ Data **TIDAK** tersimpan di database  
âŒ Setiap POST request selalu menghasilkan ID 101  
âŒ Hanya untuk testing, bukan untuk production  

### ğŸ“Š Resources yang Tersedia:
- `/posts` - 100 blog posts
- `/comments` - 500 comments
- `/albums` - 100 albums
- `/photos` - 5000 photos
- `/todos` - 200 todos
- `/users` - 10 users

### ğŸ¯ Alternatif untuk Real Database:
Gunakan **JSON Server** jika ingin data tersimpan secara lokal!

---

<a name="praktik-post-request"></a>
## ğŸ’» Praktik: Membuat POST Request

Sekarang kita akan praktek membuat POST request untuk mengirim data ke server!

---

<a name="langkah-1-setup-html"></a>
### ğŸ“„ Langkah 1: Setup HTML

Buat file `index.html`:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Options</title>
  </head>
  <body>
    <h1>Fetch Options</h1>

    <script src="./script.js"></script>
  </body>
</html>
```

**ğŸ“ Penjelasan:**
- File HTML sederhana
- Memuat file `script.js` di bagian bawah body
- Judul: "Fetch Options"

---

<a name="langkah-2-membuat-function-createpost"></a>
### ğŸ¯ Langkah 2: Membuat Function createPost

Buat file `script.js` dan mulai dengan function dasar:

```javascript
function createPost({ title, body }) {
  // Kode akan ditambahkan di sini
}
```

**ğŸ“ Penjelasan:**
- `createPost` adalah nama function
- `{ title, body }` adalah **destructuring** - mengambil property `title` dan `body` dari object yang dikirim
- Ini sama dengan menulis: `function createPost(post) { const title = post.title; const body = post.body; }`

> ğŸ’¡ **Destructuring** membuat kode lebih ringkas dan mudah dibaca!

---

<a name="langkah-3-menambahkan-method"></a>
### ğŸ”„ Langkah 3: Menambahkan Method

Tambahkan fetch dengan method POST:

```javascript
function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST'
  });
}
```

**ğŸ“ Penjelasan:**
- URL: `https://jsonplaceholder.typicode.com/posts`
- Object kedua `{ method: 'POST' }` adalah **options**
- `method: 'POST'` memberitahu server kita ingin **membuat data baru**
- Bisa ditulis lowercase `'post'`, tapi konvensi menggunakan UPPERCASE

---

<a name="langkah-4-menambahkan-body"></a>
### ğŸ“¦ Langkah 4: Menambahkan Body

Tambahkan data yang ingin dikirim:

```javascript
function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body
    })
  });
}
```

**ğŸ“ Penjelasan:**
- `body` berisi data yang akan dikirim
- `JSON.stringify()` mengubah JavaScript object â†’ JSON string
- `{ title, body }` adalah shorthand untuk `{ title: title, body: body }`

**â“ Mengapa perlu JSON.stringify()?**

```javascript
// âŒ SALAH - Object JavaScript
{ title: 'Judul', body: 'Isi' }

// âœ… BENAR - JSON String
'{"title":"Judul","body":"Isi"}'
```

Server hanya bisa menerima **text/string**, bukan object JavaScript!

---

<a name="langkah-5-menambahkan-headers"></a>
### ğŸ“‹ Langkah 5: Menambahkan Headers

Tambahkan headers untuk memberitahu server jenis data:

```javascript
function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body
    }),
    headers: {
      'Content-Type': 'application/json',
      token: 'abc123'
    }
  });
}
```

**ğŸ“ Penjelasan:**

#### 1. Content-Type
```javascript
'Content-Type': 'application/json'
```
- Memberitahu server: "Data yang saya kirim adalah JSON"
- Menggunakan quotes karena ada tanda `-` (hyphen)

#### 2. Token (Custom Header)
```javascript
token: 'abc123'
```
- Contoh custom header untuk autentikasi
- Dalam aplikasi nyata, token didapat dari proses login
- Token biasanya disimpan di `localStorage`

> ğŸ” **Catatan**: `abc123` hanya contoh. Token asli biasanya panjang dan complex seperti: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

---

<a name="langkah-6-handle-response"></a>
### ğŸ Langkah 6: Handle Response

Tambahkan cara menangani response dari server:

```javascript
function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body
    }),
    headers: {
      'Content-Type': 'application/json',
      token: 'abc123'
    }
  })
    .then((res) => res.json())
    .then((data) => console.log(data));
}
```

**ğŸ“ Penjelasan:**

#### Promise Chain:
```javascript
.then((res) => res.json())        // 1. Convert response â†’ JSON
.then((data) => console.log(data)) // 2. Tampilkan data
```

#### Apa yang dikembalikan server?
Biasanya server mengembalikan:
- âœ… Data yang baru dibuat
- âœ… ID yang di-generate otomatis
- âœ… Status success

Contoh response:
```json
{
  "title": "My Post",
  "body": "This is my post",
  "id": 101
}
```

---

<a name="langkah-7-menjalankan-function"></a>
### â–¶ï¸ Langkah 7: Menjalankan Function

Panggil function dengan data:

```javascript
function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body
    }),
    headers: {
      'Content-Type': 'application/json',
      token: 'abc123'
    }
  })
    .then((res) => res.json())
    .then((data) => console.log(data));
}

// Panggil function
createPost({ 
  title: 'My Post', 
  body: 'This is my Post' 
});
```

**ğŸ“ Penjelasan:**
- Memanggil `createPost()` dengan object berisi `title` dan `body`
- Function akan mengirim POST request ke server
- Response akan ditampilkan di console

### ğŸ‰ Hasil di Console:
```javascript
{
  title: "My Post",
  body: "This is my Post",
  id: 101
}
```

> âœ… **Success!** Server menerima data kita dan mengembalikan response dengan ID baru!

---

## ğŸ“ Kode Lengkap

### **index.html**
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Options</title>
  </head>
  <body>
    <h1>Fetch Options</h1>

    <script src="./script.js"></script>
  </body>
</html>
```

### **script.js**
```javascript
/*
  COMMON FETCH OPTIONS
  method: HTTP method you want to use
  body: Data you want to send. Usually to be put in a database, etc
  headers: Any HTTP headers you want to send
*/

function createPost({ title, body }) {
  fetch('https://jsonplaceholder.typicode.com/posts', {
    method: 'POST',
    body: JSON.stringify({
      title,
      body,
    }),
    headers: {
      'Content-Type': 'application/json',
      token: 'abc123',
    },
  })
    .then((res) => res.json())
    .then((data) => console.log(data));
}

createPost({ title: 'My Post', body: 'This is my Post' });
```

---

<a name="testing-network-tab"></a>
## ğŸ” Testing dengan Network Tab

Network Tab adalah tools di browser untuk melihat detail request kita.

### ğŸ“‹ Cara Menggunakan:

#### 1. Buka DevTools
- Windows/Linux: `F12` atau `Ctrl + Shift + I`
- Mac: `Cmd + Option + I`

#### 2. Klik Tab "Network"

#### 3. Reload Page
- Windows/Linux: `F5` atau `Ctrl + R`
- Mac: `Cmd + R`

#### 4. Cari Request "posts"
Klik pada request untuk melihat detail:

### ğŸ“Š Informasi yang Bisa Dilihat:

#### **Headers Tab:**
```
Request Headers:
âœ“ Content-Type: application/json
âœ“ token: abc123

Response Headers:
âœ“ Status: 201 Created
```

#### **Payload Tab:**
```json
{
  "title": "My Post",
  "body": "This is my Post"
}
```

#### **Response Tab:**
```json
{
  "title": "My Post",
  "body": "This is my Post",
  "id": 101
}
```

> ğŸ’¡ **Tips**: Network Tab sangat berguna untuk debugging API!

---

<a name="penjelasan-status-code"></a>
## ğŸ“Š Penjelasan Status Code

Saat request ke server, server memberikan **status code** untuk memberitahu hasil request.

### Status Code Ranges:

| Range | Artinya | Contoh |
|-------|---------|--------|
| **2xx** | âœ… Success | 200 OK, 201 Created |
| **3xx** | ğŸ”„ Redirect | 301 Moved Permanently |
| **4xx** | âŒ Client Error | 404 Not Found, 401 Unauthorized |
| **5xx** | ğŸ’¥ Server Error | 500 Internal Server Error |

### Status Code yang Sering Dijumpai:

#### âœ… **200 OK**
```
Request berhasil (biasanya untuk GET)
```

#### âœ… **201 Created**
```
Data berhasil dibuat (biasanya untuk POST)
```

#### âŒ **404 Not Found**
```
Resource tidak ditemukan
```

#### âŒ **401 Unauthorized**
```
Tidak punya akses (butuh login/token)
```

#### âŒ **500 Internal Server Error**
```
Error di sisi server
```

> ğŸ¯ **Pada praktik kita**: Status `201 Created` artinya POST request berhasil membuat data baru!

---

<a name="tips-best-practices"></a>
## ğŸ’¡ Tips dan Best Practices

### 1. ğŸ¯ Selalu Gunakan Destructuring
```javascript
// âœ… RECOMMENDED
function createPost({ title, body }) {
  // ...
}

// âŒ NOT RECOMMENDED
function createPost(post) {
  const title = post.title;
  const body = post.body;
  // ...
}
```

### 2. ğŸ“¦ Jangan Lupa JSON.stringify()
```javascript
// âŒ SALAH
body: { title, body }

// âœ… BENAR
body: JSON.stringify({ title, body })
```

### 3. ğŸ“‹ Gunakan Quotes untuk Header dengan Hyphen
```javascript
// âœ… BENAR
headers: {
  'Content-Type': 'application/json'
}

// âŒ SALAH (akan error)
headers: {
  Content-Type: 'application/json'  // Error: unexpected token
}
```

### 4. ğŸ” Simpan Token di localStorage
```javascript
// Setelah login
localStorage.setItem('token', 'token_dari_server');

// Gunakan saat request
headers: {
  'token': localStorage.getItem('token')
}
```

### 5. ğŸ¨ Method Menggunakan UPPERCASE
```javascript
// âœ… RECOMMENDED (konvensi)
method: 'POST'

// âš ï¸ WORKS (tapi kurang umum)
method: 'post'
```

### 6. âš ï¸ Handle Errors
```javascript
fetch(url)
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));  // â† Tambahkan ini!
```

### 7. ğŸ” Gunakan Network Tab untuk Debugging
Selalu cek:
- âœ“ Status code (2xx = success)
- âœ“ Request headers terkirim dengan benar
- âœ“ Payload sesuai yang diharapkan
- âœ“ Response dari server

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

Selamat! ğŸ‰ Kamu sudah belajar:

### âœ… Yang Sudah Dipelajari:
- [x] Fetch API dengan 3 options utama (method, headers, body)
- [x] Perbedaan GET, POST, PUT, DELETE
- [x] Cara menggunakan REST API
- [x] Konsep CRUD operations
- [x] Membuat POST request dengan fetch
- [x] Mengirim data dalam format JSON
- [x] Menggunakan headers untuk Content-Type dan Token
- [x] Testing dengan Network Tab
- [x] Memahami status code

### ğŸš€ Next Steps:

Setelah menguasai POST request, kamu bisa lanjut belajar:

1. **PUT/PATCH Request** - Update data
2. **DELETE Request** - Hapus data
3. **Error Handling** - Tangani error dengan baik
4. **Async/Await** - Syntax modern untuk handle Promise
5. **Form Integration** - Ambil data dari form HTML
6. **JSON Server** - Buat mock API sendiri dengan data persisten

### ğŸ“š Resources:

- [MDN Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)
- [JSONPlaceholder](https://jsonplaceholder.typicode.com/)
- [HTTP Status Codes](https://httpstatuses.com/)
- [REST API Tutorial](https://restfulapi.net/)

---

## ğŸ™ Penutup

> ğŸ’¡ **Remember**: Practice makes perfect! Terus latihan dan jangan takut mencoba hal baru.

**Happy Coding!** ğŸš€ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»

---

*Dokumentasi ini dibuat untuk pembelajaran pribadi. Feel free to modify sesuai kebutuhan!* âœ¨
