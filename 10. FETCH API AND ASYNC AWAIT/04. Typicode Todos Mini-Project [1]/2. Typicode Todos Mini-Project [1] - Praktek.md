# ğŸ“š Dokumentasi Typicode Todos - Fetch API

> **Dokumentasi Pribadi untuk Pemula** ğŸ“  
> Belajar Fetch API dengan membuat aplikasi To-Do sederhana step-by-step

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Fetch API?](#apa-itu-fetch-api)
- [Apa itu JSON Placeholder?](#apa-itu-json-placeholder)
- [Persiapan Project](#persiapan-project)
  - [File HTML](#file-html)
  - [File CSS](#file-css)
- [Langkah-Langkah Menulis JavaScript](#langkah-langkah-menulis-javascript)
  - [Step 1: Setup Variable Global](#step-1-setup-variable-global)
  - [Step 2: Membuat Fungsi getTodos()](#step-2-membuat-fungsi-gettodos)
  - [Step 3: Membuat Fungsi addTodoToDOM()](#step-3-membuat-fungsi-addtododom)
  - [Step 4: Menambahkan Class 'done'](#step-4-menambahkan-class-done)
  - [Step 5: Menambahkan Custom Attribute](#step-5-menambahkan-custom-attribute)
  - [Step 6: Refactoring dengan Fungsi Terpisah](#step-6-refactoring-dengan-fungsi-terpisah)
  - [Step 7: Membuat Fungsi createTodo()](#step-7-membuat-fungsi-createtodo)
  - [Step 8: Mengirim POST Request](#step-8-mengirim-post-request)
  - [Step 9: Membuat Fungsi init()](#step-9-membuat-fungsi-init)
- [Kode Final](#kode-final)
- [Cara Kerja Aplikasi](#cara-kerja-aplikasi)
- [Catatan Penting](#catatan-penting)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar membuat aplikasi **To-Do List** sederhana yang terhubung dengan API menggunakan **Fetch API**. Aplikasi ini akan bisa:

âœ… Mengambil data to-do dari server (GET request)  
âœ… Menampilkan to-do di halaman web  
âœ… Menambahkan to-do baru (POST request)  
âœ… Menandai to-do yang sudah selesai

---

<a name="apa-itu-fetch-api"></a>
## ğŸ“– Apa itu Fetch API?

**Fetch API** adalah cara modern untuk membuat HTTP request di JavaScript. Dengan Fetch API, kita bisa:

- ğŸ”„ Mengambil data dari server (GET)
- ğŸ“¤ Mengirim data ke server (POST)
- âœï¸ Mengupdate data (PUT)
- ğŸ—‘ï¸ Menghapus data (DELETE)

Fetch API menggunakan **Promise**, sehingga kita menggunakan `.then()` untuk menangani response.

---

<a name="apa-itu-json-placeholder"></a>
## ğŸ“– Apa itu JSON Placeholder?

**JSON Placeholder** adalah API gratis untuk testing dan prototyping. Alamatnya:

```
https://jsonplaceholder.typicode.com
```

Kita akan menggunakan endpoint `/todos` yang memberikan data to-do dengan struktur:

```json
{
  "userId": 1,
  "id": 1,
  "title": "delectus aut autem",
  "completed": false
}
```

âš ï¸ **Penting:** Ini adalah **Mock API**, jadi data yang kita tambahkan tidak akan tersimpan permanen.

---

<a name="persiapan-project"></a>
## ğŸ› ï¸ Persiapan Project

<a name="file-html"></a>
### ğŸ“„ File HTML (`index.html`)

Buat file HTML dengan struktur berikut:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Typicode Todos</title>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Typicode Todos</h1>
      </header>
      <main>
        <form id="todo-form">
          <input type="text" id="title" placeholder="Add Todo..." />
          <button type="submit">Add</button>
        </form>

        <div id="todo-list"></div>
      </main>
    </div>

    <script src="./index.js"></script>
  </body>
</html>
```

**Penjelasan:**
- `#todo-form` â†’ Form untuk menambahkan to-do baru
- `#title` â†’ Input untuk judul to-do
- `#todo-list` â†’ Container untuk menampilkan daftar to-do

---

<a name="file-css"></a>
### ğŸ¨ File CSS (`style.css`)

```css
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

*,
*:before,
*:after {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Poppins';
  line-height: 1.6;
  padding: 0 40px;
}

header {
  margin-bottom: 20px;
}

button {
  padding: 10px;
  background: salmon;
  color: white;
  border-radius: 5px;
  width: 100px;
  border: none;
}

input[type='text'] {
  padding: 5px;
  border-radius: 5px;
  width: 300px;
  height: 35px;
  border: 1px #ccc solid;
  margin-right: 5px;
}

#todo-list {
  display: flex;
  flex-wrap: wrap;
  margin-top: 20px;
}

#todo-list > div {
  border: 1px #666 solid;
  padding: 10px;
  margin: 5px;
  cursor: pointer;
}

.done {
  background: #ccc;
}
```

**Penjelasan:**
- `.done` â†’ Class untuk to-do yang sudah selesai (background abu-abu)
- `#todo-list > div` â†’ Styling untuk setiap item to-do

---

<a name="langkah-langkah-menulis-javascript"></a>
## ğŸ“ Langkah-Langkah Menulis JavaScript

Sekarang kita mulai menulis JavaScript step-by-step!

---

<a name="step-1-setup-variable-global"></a>
### ğŸ”¹ Step 1: Setup Variable Global

Buat file `index.js` dan mulai dengan variable global untuk URL API:

```javascript
const apiUrl = 'https://jsonplaceholder.typicode.com/todos';
```

**Kenapa?**  
Karena kita akan menggunakan URL ini di beberapa fungsi, lebih baik simpan di variable global.

---

<a name="step-2-membuat-fungsi-gettodos"></a>
### ğŸ”¹ Step 2: Membuat Fungsi getTodos()

Buat fungsi untuk mengambil data to-do dari server:

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      console.log(data); // Lihat datanya dulu
    });
};

// Jalankan fungsinya
getTodos();
```

**Penjelasan:**
- `fetch(apiUrl + '?_limit=5')` â†’ Ambil data, batasi hanya 5 to-do
- `.then((res) => res.json())` â†’ Convert response ke JSON
- `.then((data) => {...})` â†’ Data sudah siap digunakan
- `console.log(data)` â†’ Tampilkan di console untuk testing

**ğŸ’¡ Test:** Buka browser console (F12), lihat apakah data muncul!

---

<a name="step-3-membuat-fungsi-addtododom"></a>
### ğŸ”¹ Step 3: Membuat Fungsi addTodoToDOM()

Sekarang kita perlu menampilkan data ke halaman. Ganti `console.log(data)` dengan loop:

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => {
        // Buat element div baru
        const div = document.createElement('div');
        
        // Tambahkan text (judul to-do)
        div.appendChild(document.createTextNode(todo.title));
        
        // Masukkan ke dalam #todo-list
        document.querySelector('#todo-list').appendChild(div);
      });
    });
};

getTodos();
```

**Penjelasan:**
- `data.forEach()` â†’ Loop setiap to-do
- `document.createElement('div')` â†’ Buat element div baru
- `div.appendChild(...)` â†’ Tambahkan text node ke div
- `document.querySelector('#todo-list').appendChild(div)` â†’ Masukkan div ke halaman

**ğŸ’¡ Test:** Refresh browser, to-do seharusnya muncul di halaman!

---

<a name="step-4-menambahkan-class-done"></a>
### ğŸ”¹ Step 4: Menambahkan Class 'done'

Kita ingin to-do yang sudah selesai punya background abu-abu. Tambahkan kondisi:

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => {
        const div = document.createElement('div');
        div.appendChild(document.createTextNode(todo.title));
        
        // â­ BARU: Cek jika completed = true
        if (todo.completed) {
          div.classList.add('done');
        }
        
        document.querySelector('#todo-list').appendChild(div);
      });
    });
};

getTodos();
```

**Penjelasan:**
- `if (todo.completed)` â†’ Jika to-do selesai
- `div.classList.add('done')` â†’ Tambahkan class 'done' (background abu-abu dari CSS)

**ğŸ’¡ Test:** To-do yang completed seharusnya punya background abu-abu!

---

<a name="step-5-menambahkan-custom-attribute"></a>
### ğŸ”¹ Step 5: Menambahkan Custom Attribute

Kita akan butuh ID to-do nanti untuk update/delete. Tambahkan custom attribute:

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => {
        const div = document.createElement('div');
        div.appendChild(document.createTextNode(todo.title));
        
        // â­ BARU: Tambahkan data-id attribute
        div.setAttribute('data-id', todo.id);
        
        if (todo.completed) {
          div.classList.add('done');
        }
        
        document.querySelector('#todo-list').appendChild(div);
      });
    });
};

getTodos();
```

**Penjelasan:**
- `div.setAttribute('data-id', todo.id)` â†’ Simpan ID to-do sebagai attribute
- Custom attribute harus diawali `data-`
- Nanti bisa diakses dengan `element.dataset.id`

**ğŸ’¡ Test:** Inspect element di browser, setiap div to-do punya attribute `data-id`

---

<a name="step-6-refactoring-dengan-fungsi-terpisah"></a>
### ğŸ”¹ Step 6: Refactoring dengan Fungsi Terpisah

Kode di dalam `forEach` akan kita gunakan lagi nanti. Lebih baik dipisah jadi fungsi:

```javascript
// â­ Fungsi untuk menambahkan to-do ke DOM
const addTodoToDOM = (todo) => {
  const div = document.createElement('div');
  div.textContent = todo.title; // Lebih simple dari appendChild
  div.setAttribute('data-id', todo.id);

  if (todo.completed) {
    div.classList.add('done');
  }

  document.querySelector('#todo-list').append(div); // append() lebih simple
};

// â­ Fungsi getTodos jadi lebih ringkas
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => addTodoToDOM(todo));
    });
};

getTodos();
```

**Penjelasan:**
- Kita buat fungsi `addTodoToDOM(todo)` yang bisa digunakan berkali-kali
- `div.textContent` â†’ Lebih simple dari `appendChild(createTextNode())`
- `.append()` â†’ Lebih simple dari `.appendChild()`

**ğŸ’¡ Hasilnya sama, tapi kode lebih rapi dan reusable!**

---

<a name="step-7-membuat-fungsi-createtodo"></a>
### ğŸ”¹ Step 7: Membuat Fungsi createTodo()

Sekarang kita buat fungsi untuk menambahkan to-do baru. Pertama, setup event listener:

```javascript
const createTodo = (e) => {
  e.preventDefault(); // Stop form dari reload halaman
  
  console.log('Form submitted!');
};

// Event listener untuk form
document.querySelector('#todo-form').addEventListener('submit', createTodo);
```

**Penjelasan:**
- `addEventListener('submit', ...)` â†’ Listen ketika form di-submit
- `e.preventDefault()` â†’ Mencegah halaman reload (behavior default form)

**ğŸ’¡ Test:** Ketik sesuatu di input, klik Add, lihat console!

---

Sekarang ambil value dari input:

```javascript
const createTodo = (e) => {
  e.preventDefault();
  
  // â­ Ambil value dari input
  const inputValue = e.target.firstElementChild.value;
  console.log(inputValue);
};

document.querySelector('#todo-form').addEventListener('submit', createTodo);
```

**Penjelasan:**
- `e.target` â†’ Element form yang di-submit
- `e.target.firstElementChild` â†’ Element pertama dalam form (input)
- `.value` â†’ Ambil value dari input

**ğŸ’¡ Test:** Ketik sesuatu, klik Add, value muncul di console!

---

Buat object to-do baru:

```javascript
const createTodo = (e) => {
  e.preventDefault();
  
  // â­ Buat object to-do baru
  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false, // Default: belum selesai
  };
  
  console.log(newTodo);
};

document.querySelector('#todo-form').addEventListener('submit', createTodo);
```

**Penjelasan:**
- `newTodo` â†’ Object dengan format yang sama seperti data dari API
- `completed: false` â†’ To-do baru selalu belum selesai

**ğŸ’¡ Test:** Ketik sesuatu, klik Add, object muncul di console!

---

<a name="step-8-mengirim-post-request"></a>
### ğŸ”¹ Step 8: Mengirim POST Request

Sekarang kirim object `newTodo` ke server dengan POST request:

```javascript
const createTodo = (e) => {
  e.preventDefault();
  
  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false,
  };
  
  // â­ Kirim POST request
  fetch(apiUrl, {
    method: 'POST',
    body: JSON.stringify(newTodo),
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((data) => {
      console.log('Response:', data);
      addTodoToDOM(data); // Tambahkan ke DOM
    });
};

document.querySelector('#todo-form').addEventListener('submit', createTodo);
```

**Penjelasan:**
- `method: 'POST'` â†’ Jenis request (POST untuk create)
- `body: JSON.stringify(newTodo)` â†’ Convert object ke JSON string
- `headers: {'Content-Type': 'application/json'}` â†’ Beritahu server kita kirim JSON
- `.then((data) => addTodoToDOM(data))` â†’ Setelah berhasil, tambahkan ke halaman

**ğŸ’¡ Test:** Tambahkan to-do baru, seharusnya langsung muncul di halaman!

---

<a name="step-9-membuat-fungsi-init"></a>
### ğŸ”¹ Step 9: Membuat Fungsi init()

Terakhir, rapikan dengan fungsi `init()` untuk setup awal:

```javascript
const init = () => {
  // Load to-do saat halaman selesai dimuat
  document.addEventListener('DOMContentLoaded', getTodos);
  
  // Event listener untuk form
  document.querySelector('#todo-form').addEventListener('submit', createTodo);
};

// Jalankan init
init();
```

**Penjelasan:**
- `DOMContentLoaded` â†’ Event yang trigger saat HTML sudah selesai dimuat
- Semua setup event listener ada di satu tempat
- Kode lebih terorganisir

**ğŸ’¡ Sekarang hapus `getTodos()` yang tadi, karena sudah dipanggil di `init()`!**

---

<a name="kode-final"></a>
## ğŸ‰ Kode Final

Berikut kode JavaScript lengkap:

```javascript
const apiUrl = 'https://jsonplaceholder.typicode.com/todos';

const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => addTodoToDOM(todo));
    });
};

const addTodoToDOM = (todo) => {
  const div = document.createElement('div');
  div.textContent = todo.title;
  div.setAttribute('data-id', todo.id);

  if (todo.completed) {
    div.classList.add('done');
  }

  document.querySelector('#todo-list').append(div);
};

const createTodo = (e) => {
  e.preventDefault();

  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false,
  };

  fetch(apiUrl, {
    method: 'POST',
    body: JSON.stringify(newTodo),
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((data) => addTodoToDOM(data));
};

const init = () => {
  document.addEventListener('DOMContentLoaded', getTodos);
  document.querySelector('#todo-form').addEventListener('submit', createTodo);
};

init();
```

---

<a name="cara-kerja-aplikasi"></a>
## âš™ï¸ Cara Kerja Aplikasi

1. **Saat halaman dimuat:**
   - `init()` dijalankan
   - Event `DOMContentLoaded` trigger fungsi `getTodos()`
   - `getTodos()` fetch data dari API
   - Setiap to-do ditampilkan dengan `addTodoToDOM()`

2. **Saat user menambahkan to-do:**
   - User ketik di input, klik Add
   - Form submit, trigger fungsi `createTodo()`
   - `createTodo()` kirim POST request ke server
   - Server kasih response (to-do baru dengan ID)
   - To-do baru ditampilkan dengan `addTodoToDOM()`

---

<a name="catatan-penting"></a>
## âš ï¸ Catatan Penting

### ğŸ“Œ Mock API
- JSON Placeholder adalah **Mock API**
- Data yang kita POST **tidak tersimpan permanen**
- Jika reload halaman, to-do yang kita tambahkan hilang
- ID to-do baru selalu **201** (karena ada 200 to-do di server)

### ğŸ“Œ Network Tab
Buka **Developer Tools â†’ Network Tab** untuk melihat:
- GET request (status 200)
- POST request (status 201)
- Response dari server

### ğŸ“Œ Next Steps
Di video berikutnya akan ditambahkan:
- âœï¸ **Update to-do** (PUT request) - toggle completed
- ğŸ—‘ï¸ **Delete to-do** (DELETE request) - double click
- ğŸ’¾ **JSON Server** - API lokal yang menyimpan data permanen

---

## ğŸ“ Apa yang Sudah Dipelajari?

âœ… Fetch API untuk GET request  
âœ… Fetch API untuk POST request  
âœ… Menggunakan `.then()` untuk handle Promise  
âœ… Membuat element HTML dengan JavaScript  
âœ… Menambahkan custom attribute (`data-id`)  
âœ… Event listener untuk form submit  
âœ… `e.preventDefault()` untuk stop default behavior  
âœ… `JSON.stringify()` untuk convert object ke JSON  
âœ… Best practice: pisahkan fungsi agar reusable

---

## ğŸš€ Selamat!

Kamu sudah berhasil membuat aplikasi To-Do dengan Fetch API! ğŸ‰

**Tips untuk latihan:**
- Coba ubah `_limit` jadi 10 atau 20
- Coba tambahkan validasi (input tidak boleh kosong)
- Coba tambahkan tombol clear all
- Experiment dengan styling CSS

**Happy Coding! ğŸ’»âœ¨**
