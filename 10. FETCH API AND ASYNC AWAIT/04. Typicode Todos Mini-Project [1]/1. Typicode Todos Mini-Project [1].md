# ğŸ“š Dokumentasi Typicode Todos - Fetch API Project

## ğŸ“‘ Daftar Isi

- [Pengenalan Project](#pengenalan-project)
- [Apa itu JSON Placeholder API?](#apa-itu-json-placeholder)
- [Struktur File Project](#struktur-file-project)
- [HTML Structure](#html-structure)
- [CSS Styling](#css-styling)
- [JavaScript - Langkah demi Langkah](#javascript-langkah-demi-langkah)
  - [Setup API URL](#setup-api-url)
  - [Fungsi getTodos()](#fungsi-gettodos)
  - [Fungsi addTodoToDOM()](#fungsi-addtodotodom)
  - [Custom Data Attribute](#custom-data-attribute)
  - [Fungsi createTodo()](#fungsi-createtodo)
  - [Fungsi init()](#fungsi-init)
- [Cara Kerja Fetch API](#cara-kerja-fetch-api)
- [Testing di Browser](#testing-di-browser)
- [Catatan Penting](#catatan-penting)

---

<a name="pengenalan-project"></a>
## ğŸ¯ Pengenalan Project

Project ini adalah **mini aplikasi Todo List** yang menggunakan **Fetch API** untuk melakukan operasi HTTP seperti:
- âœ… **GET** - Mengambil data todos dari server
- âœ… **POST** - Menambahkan todo baru ke server

Project ini dirancang untuk **pemula** yang ingin belajar:
- ğŸ”¹ Cara menggunakan Fetch API
- ğŸ”¹ Cara mengirim dan menerima data dari API
- ğŸ”¹ Cara memanipulasi DOM dengan JavaScript

---

<a name="apa-itu-json-placeholder"></a>
## ğŸ“– Apa itu JSON Placeholder API?

**JSON Placeholder** adalah **mock API** (API tiruan) yang gratis untuk testing dan prototyping. 

### ğŸ” Karakteristik:
- ğŸŒ URL: `https://jsonplaceholder.typicode.com`
- ğŸ“¦ Menyediakan berbagai resource: posts, comments, albums, photos, **todos**, users
- âš ï¸ **Data tidak persisten** - artinya data yang kita tambahkan/edit/hapus tidak benar-benar tersimpan
- ğŸ¯ Cocok untuk belajar dan testing

### ğŸ“Š Struktur Data Todo:
Setiap todo memiliki struktur seperti ini:
```json
{
  "userId": 1,
  "id": 1,
  "title": "delectus aut autem",
  "completed": false
}
```

**Penjelasan:**
- `userId`: ID user yang memiliki todo
- `id`: ID unik dari todo
- `title`: Judul/deskripsi todo
- `completed`: Status todo (true/false)

---

<a name="struktur-file-project"></a>
## ğŸ“ Struktur File Project

```
ğŸ“¦ typicode-todos/
â”œâ”€â”€ ğŸ“„ index.html    (struktur halaman)
â”œâ”€â”€ ğŸ¨ style.css     (styling halaman)
â””â”€â”€ âš¡ index.js      (logika aplikasi)
```

---

<a name="html-structure"></a>
## ğŸ“„ HTML Structure

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Typicode Todos</title>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Typicode Todos</h1>
      </header>
      <main>
        <!-- Form untuk menambah todo -->
        <form id="todo-form">
          <input type="text" id="title" placeholder="Add Todo..." />
          <button type="submit">Add</button>
        </form>

        <!-- Container untuk menampilkan daftar todo -->
        <div id="todo-list"></div>
      </main>
    </div>

    <script src="./index.js"></script>
  </body>
</html>
```

### ğŸ”‘ Elemen Penting:

| Elemen | ID/Class | Fungsi |
|--------|----------|--------|
| `<form>` | `#todo-form` | Form untuk input todo baru |
| `<input>` | `#title` | Input field untuk judul todo |
| `<div>` | `#todo-list` | Container untuk menampilkan todos |

---

<a name="css-styling"></a>
## ğŸ¨ CSS Styling

```css
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

*, *:before, *:after {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Poppins';
  line-height: 1.6;
  padding: 0 40px;
}

header {
  margin-bottom: 20px;
}

button {
  padding: 10px;
  background: salmon;
  color: white;
  border-radius: 5px;
  width: 100px;
  border: none;
}

input[type='text'] {
  padding: 5px;
  border-radius: 5px;
  width: 300px;
  height: 35px;
  border: 1px #ccc solid;
  margin-right: 5px;
}

#todo-list {
  display: flex;
  flex-wrap: wrap;
  margin-top: 20px;
}

#todo-list > div {
  border: 1px #666 solid;
  padding: 10px;
  margin: 5px;
  cursor: pointer;
}

/* Class untuk todo yang sudah selesai */
.done {
  background: #ccc;
}
```

### ğŸ¯ Styling Penting:

- **`.done`** â†’ Class yang ditambahkan ke todo yang sudah completed
- **`#todo-list > div`** â†’ Setiap todo akan ditampilkan dalam div dengan border
- **Flexbox** â†’ Digunakan untuk layout yang responsive

---

<a name="javascript-langkah-demi-langkah"></a>
## âš¡ JavaScript - Langkah demi Langkah

<a name="setup-api-url"></a>
### 1ï¸âƒ£ Setup API URL

```javascript
const apiUrl = 'https://jsonplaceholder.typicode.com/todos';
```

**ğŸ“ Penjelasan:**
- Kita simpan URL API dalam **variabel global** `apiUrl`
- Kenapa global? Karena akan digunakan di banyak fungsi
- URL ini adalah endpoint untuk resource **todos**

---

<a name="fungsi-gettodos"></a>
### 2ï¸âƒ£ Fungsi getTodos() - Mengambil Data dari Server

```javascript
const getTodos = () => {
  fetch(apiUrl + '?_limit=5')
    .then((res) => res.json())
    .then((data) => {
      data.forEach((todo) => addTodoToDOM(todo));
    });
};
```

**ğŸ“ Penjelasan Step-by-Step:**

#### ğŸ”¹ Step 1: Fetch dengan Limit
```javascript
fetch(apiUrl + '?_limit=5')
```
- `fetch()` â†’ Fungsi untuk melakukan HTTP request
- `?_limit=5` â†’ Query parameter untuk membatasi hasil menjadi 5 todos
- **Kenapa limit?** Karena API ini punya 200 todos, terlalu banyak untuk ditampilkan

#### ğŸ”¹ Step 2: Konversi Response ke JSON
```javascript
.then((res) => res.json())
```
- `res` â†’ Response object dari server
- `res.json()` â†’ Mengubah response menjadi JavaScript object
- Return promise yang berisi data

#### ğŸ”¹ Step 3: Loop dan Tampilkan ke DOM
```javascript
.then((data) => {
  data.forEach((todo) => addTodoToDOM(todo));
});
```
- `data` â†’ Array berisi 5 todo objects
- `forEach()` â†’ Loop setiap todo
- `addTodoToDOM(todo)` â†’ Panggil fungsi untuk menambahkan ke halaman

---

<a name="fungsi-addtodotodom"></a>
### 3ï¸âƒ£ Fungsi addTodoToDOM() - Menambahkan Todo ke Halaman

```javascript
const addTodoToDOM = (todo) => {
  const div = document.createElement('div');
  div.textContent = todo.title;
  div.setAttribute('data-id', todo.id);

  if (todo.completed) {
    div.classList.add('done');
  }

  document.querySelector('#todo-list').append(div);
};
```

**ğŸ“ Penjelasan Step-by-Step:**

#### ğŸ”¹ Step 1: Buat Element Div
```javascript
const div = document.createElement('div');
```
- Membuat element `<div>` baru di memory
- Belum ditambahkan ke halaman

#### ğŸ”¹ Step 2: Set Text Content
```javascript
div.textContent = todo.title;
```
- Mengisi text dalam div dengan judul todo
- Misal: "delectus aut autem"

#### ğŸ”¹ Step 3: Set Custom Attribute
```javascript
div.setAttribute('data-id', todo.id);
```
- Menambahkan attribute `data-id` dengan nilai ID todo
- Akan dijelaskan lebih lanjut di bagian [Custom Data Attribute](#custom-data-attribute)

#### ğŸ”¹ Step 4: Cek Status Completed
```javascript
if (todo.completed) {
  div.classList.add('done');
}
```
- Jika `todo.completed === true`, tambahkan class `done`
- Class `done` memberi background abu-abu (lihat CSS)

#### ğŸ”¹ Step 5: Tambahkan ke Halaman
```javascript
document.querySelector('#todo-list').append(div);
```
- `querySelector('#todo-list')` â†’ Ambil container todo-list
- `append(div)` â†’ Tambahkan div ke dalam container

---

<a name="custom-data-attribute"></a>
### ğŸ·ï¸ Custom Data Attribute

```javascript
div.setAttribute('data-id', todo.id);
```

**ğŸ“ Penjelasan:**

#### Apa itu Data Attribute?
- Attribute custom yang kita buat sendiri
- **Harus** diawali dengan `data-`
- Contoh: `data-id`, `data-name`, `data-value`

#### Kenapa Pakai `data-id`?
- Untuk menyimpan ID todo di element HTML
- Nanti berguna saat mau **update** atau **delete** todo
- Bisa diakses dengan property `dataset`

#### Contoh di HTML:
```html
<div data-id="1">Todo pertama</div>
<div data-id="2">Todo kedua</div>
```

#### Cara Akses di JavaScript:
```javascript
const todoDiv = document.querySelector('[data-id="1"]');
console.log(todoDiv.dataset.id); // Output: "1"
```

---

<a name="fungsi-createtodo"></a>
### 4ï¸âƒ£ Fungsi createTodo() - Menambah Todo Baru

```javascript
const createTodo = (e) => {
  e.preventDefault();

  const newTodo = {
    title: e.target.firstElementChild.value,
    completed: false,
  };

  fetch(apiUrl, {
    method: 'POST',
    body: JSON.stringify(newTodo),
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((data) => addTodoToDOM(data));
};
```

**ğŸ“ Penjelasan Step-by-Step:**

#### ğŸ”¹ Step 1: Prevent Default Behavior
```javascript
e.preventDefault();
```
- `e` â†’ Event object dari form submit
- `preventDefault()` â†’ Mencegah halaman reload (behavior default form)

#### ğŸ”¹ Step 2: Ambil Value dari Input
```javascript
const newTodo = {
  title: e.target.firstElementChild.value,
  completed: false,
};
```

**Breakdown:**
- `e.target` â†’ Element yang trigger event (form)
- `firstElementChild` â†’ Anak pertama dari form (input text)
- `.value` â†’ Nilai yang diketik user

**ğŸ’¡ Kenapa `firstElementChild` bukan `firstChild`?**

| Property | Hasil | Penjelasan |
|----------|-------|------------|
| `firstChild` | Text Node | Termasuk whitespace/line break |
| `firstElementChild` | Element Node | Hanya element HTML |

Contoh:
```html
<form>
  <!-- ada line break di sini = text node -->
  <input type="text" />
</form>
```

- `firstChild` â†’ akan ambil text node (line break)
- `firstElementChild` â†’ akan ambil `<input>` âœ…

#### ğŸ”¹ Step 3: Buat Object Todo Baru
```javascript
const newTodo = {
  title: e.target.firstElementChild.value,
  completed: false,
};
```
- `title` â†’ Dari input user
- `completed` â†’ Default false (todo baru selalu belum selesai)

#### ğŸ”¹ Step 4: Kirim POST Request
```javascript
fetch(apiUrl, {
  method: 'POST',
  body: JSON.stringify(newTodo),
  headers: {
    'Content-Type': 'application/json',
  },
})
```

**Breakdown Parameter:**

1. **Method**: `'POST'`
   - Menandakan kita ingin **menambahkan** data baru
   - Bukan GET (ambil data)

2. **Body**: `JSON.stringify(newTodo)`
   - Data yang dikirim ke server
   - `JSON.stringify()` â†’ Ubah object jadi string JSON
   - Contoh: `{"title":"Makan siang","completed":false}`

3. **Headers**: `{ 'Content-Type': 'application/json' }`
   - Memberi tahu server bahwa kita kirim data dalam format JSON

#### ğŸ”¹ Step 5: Proses Response
```javascript
.then((res) => res.json())
.then((data) => addTodoToDOM(data));
```
- Server return todo yang baru dibuat (lengkap dengan ID)
- `data` â†’ Todo object dengan ID
- `addTodoToDOM(data)` â†’ Tampilkan di halaman

---

<a name="fungsi-init"></a>
### 5ï¸âƒ£ Fungsi init() - Inisialisasi Aplikasi

```javascript
const init = () => {
  document.addEventListener('DOMContentLoaded', getTodos);
  document.querySelector('#todo-form').addEventListener('submit', createTodo);
};

init();
```

**ğŸ“ Penjelasan:**

#### ğŸ”¹ Event Listener 1: DOMContentLoaded
```javascript
document.addEventListener('DOMContentLoaded', getTodos);
```
- Trigger: Saat halaman selesai dimuat
- Action: Panggil fungsi `getTodos()`
- Tujuan: Tampilkan todos dari server saat halaman pertama kali dibuka

#### ğŸ”¹ Event Listener 2: Form Submit
```javascript
document.querySelector('#todo-form').addEventListener('submit', createTodo);
```
- Trigger: Saat form di-submit (tombol Add diklik)
- Action: Panggil fungsi `createTodo()`
- Tujuan: Tambah todo baru

#### ğŸ”¹ Panggil init()
```javascript
init();
```
- Menjalankan fungsi `init()` saat script diload
- Setup semua event listener

---

<a name="cara-kerja-fetch-api"></a>
## ğŸ”„ Cara Kerja Fetch API

### ğŸ“Š Flow Diagram GET Request:

```
User buka halaman
       â†“
DOMContentLoaded event
       â†“
getTodos() dipanggil
       â†“
fetch(apiUrl + '?_limit=5')
       â†“
[Kirim GET request ke server]
       â†“
Server kirim response (5 todos)
       â†“
.then(res => res.json())
       â†“
[Convert response jadi object]
       â†“
.then(data => {...})
       â†“
Loop forEach todo
       â†“
addTodoToDOM(todo) untuk setiap todo
       â†“
Todos tampil di halaman âœ…
```

### ğŸ“Š Flow Diagram POST Request:

```
User ketik todo di input
       â†“
User klik tombol "Add"
       â†“
Form submit event
       â†“
createTodo(e) dipanggil
       â†“
e.preventDefault()
       â†“
Ambil value dari input
       â†“
Buat object newTodo
       â†“
fetch(apiUrl, {method: 'POST', ...})
       â†“
[Kirim POST request ke server]
       â†“
Server proses & beri ID
       â†“
Server kirim response (todo dengan ID)
       â†“
.then(res => res.json())
       â†“
[Convert response jadi object]
       â†“
.then(data => addTodoToDOM(data))
       â†“
Todo baru tampil di halaman âœ…
```

---

<a name="testing-di-browser"></a>
## ğŸ§ª Testing di Browser

### âœ… Test 1: Load Todos

1. Buka `index.html` di browser
2. Buka **DevTools** (F12)
3. Lihat tab **Network**
4. Refresh halaman
5. Cari request ke `todos?_limit=5`
6. Klik request tersebut
7. Lihat **Response** â†’ Harus ada 5 todos

### âœ… Test 2: Add Todo

1. Ketik "Belajar JavaScript" di input
2. Klik tombol "Add"
3. Todo muncul di halaman âœ…
4. Buka tab **Network**
5. Lihat request terakhir (POST)
6. Klik request tersebut
7. Lihat **Headers** â†’ Method: POST
8. Lihat **Response** â†’ Todo dengan ID 201

**ğŸ” Response Example:**
```json
{
  "title": "Belajar JavaScript",
  "completed": false,
  "id": 201
}
```

**â“ Kenapa ID selalu 201?**
- API punya 200 todos
- Todo baru dapat ID berikutnya (201)
- Karena ini **mock API**, data tidak persisten
- Setiap POST request selalu dapat ID 201

---

<a name="catatan-penting"></a>
## ğŸ“Œ Catatan Penting

### âš ï¸ Limitasi Mock API

| Aspek | Behavior |
|-------|----------|
| **Data Persistence** | âŒ Tidak ada - data hilang saat refresh |
| **ID Todo Baru** | Selalu 201 (karena tidak persisten) |
| **Database** | Tidak ada - hanya simulasi |

### ğŸ’¡ Tips Belajar

1. **Coba tanpa limit**
   ```javascript
   fetch(apiUrl) // Tanpa ?_limit=5
   ```
   - Akan dapat 200 todos
   - Bagus untuk lihat semua data

2. **Console.log di setiap step**
   ```javascript
   const getTodos = () => {
     fetch(apiUrl + '?_limit=5')
       .then((res) => {
         console.log('Response:', res);
         return res.json();
       })
       .then((data) => {
         console.log('Data:', data);
         data.forEach((todo) => addTodoToDOM(todo));
       });
   };
   ```

3. **Inspect Element**
   - Lihat `data-id` attribute di setiap todo
   - Lihat class `done` di todo yang completed

### ğŸ¯ Next Steps

Video berikutnya akan menambahkan:
- âœ… **Update Todo** - Toggle completed status (PUT request)
- âœ… **Delete Todo** - Double click untuk hapus (DELETE request)

### ğŸ”— Resource Tambahan

- ğŸ“š [JSON Placeholder Docs](https://jsonplaceholder.typicode.com/)
- ğŸ“š [MDN Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)
- ğŸ“š [MDN DOM Manipulation](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents)

---

## ğŸ‰ Selamat!

Kamu telah belajar:
- âœ… Cara menggunakan Fetch API untuk GET request
- âœ… Cara menggunakan Fetch API untuk POST request
- âœ… Cara memanipulasi DOM dengan JavaScript
- âœ… Cara bekerja dengan JSON data
- âœ… Cara menggunakan custom data attributes
- âœ… Perbedaan `firstChild` vs `firstElementChild`

**Keep coding! ğŸš€**
