# ğŸ¤ Tutorial Web Speech API - Speech Synthesis

> **Dokumentasi Pribadi untuk Pemula** ğŸ“š  
> Belajar membuat aplikasi Text-to-Speech menggunakan Web Speech API langkah demi langkah

---

## ğŸ“‹ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Web Speech API?](#apa-itu-web-speech-api)
- [Apa itu Speech Synthesis?](#apa-itu-speech-synthesis)
- [Persiapan Project](#persiapan-project)
- [Struktur HTML](#struktur-html)
- [Styling dengan CSS](#styling-dengan-css)
- [Implementasi JavaScript](#implementasi-javascript)
  - [Inisialisasi Speech Synthesis](#inisialisasi-speech-synthesis)
  - [Membuat Event Submit](#membuat-event-submit)
  - [Membuat Fungsi Speak](#membuat-fungsi-speak)
  - [Menambahkan Pilihan Voice](#menambahkan-pilihan-voice)
  - [Mengimplementasikan Pemilihan Voice](#mengimplementasikan-pemilihan-voice)
- [Testing Aplikasi](#testing-aplikasi)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar membuat aplikasi **Text-to-Speech** sederhana menggunakan Web Speech API. Aplikasi ini memungkinkan pengguna untuk:

âœ… Mengetik teks di textarea  
âœ… Memilih berbagai suara/voice yang tersedia  
âœ… Mendengarkan browser membacakan teks yang diketik  

**Kegunaan praktis:**
- ğŸ“ Aplikasi pembelajaran untuk anak-anak
- â™¿ Alat bantu untuk orang dengan kebutuhan khusus
- ğŸ—£ï¸ Alat bantu komunikasi untuk orang non-verbal
- ğŸ“– Pembaca teks otomatis

---

<a name="apa-itu-web-speech-api"></a>
## ğŸ“– Apa itu Web Speech API?

**Web Speech API** adalah teknologi browser yang memungkinkan kita untuk:

1. ğŸ¤ **Speech Recognition** - Mengubah suara menjadi teks
2. ğŸ”Š **Speech Synthesis** - Mengubah teks menjadi suara

Dalam tutorial ini, kita fokus pada bagian **Speech Synthesis**.

---

<a name="apa-itu-speech-synthesis"></a>
## ğŸ”Š Apa itu Speech Synthesis?

**Speech Synthesis** adalah teknologi yang memungkinkan browser untuk "berbicara" atau membacakan teks.

**Konsep utama:**
- ğŸ“ Input: Teks yang ingin dibacakan
- ğŸ”Š Output: Suara yang keluar dari speaker
- ğŸ—£ï¸ Voice: Berbagai pilihan suara (pria, wanita, berbagai aksen)

---

<a name="persiapan-project"></a>
## ğŸ› ï¸ Persiapan Project

Struktur file project kita:

```
project-folder/
â”‚
â”œâ”€â”€ index.html      (struktur halaman)
â”œâ”€â”€ style.css       (styling tampilan)
â””â”€â”€ script.js       (logika JavaScript)
```

**Catatan:** Pastikan ketiga file berada dalam folder yang sama! ğŸ“

---

<a name="struktur-html"></a>
## ğŸ“„ Struktur HTML

Mari kita buat file `index.html` yang sangat sederhana:

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Web Speech API</title>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Type some text</h1>
      <form id="form">
        <div>
          <textarea id="text-input" cols="30" rows="10"></textarea>
        </div>
        <div>
          <select id="voice-select"></select>
        </div>
        <button type="submit" class="btn">Speak</button>
      </form>
    </div>
  </body>
</html>
```

### ğŸ” Penjelasan Elemen HTML:

| Elemen | ID | Fungsi |
|--------|------|--------|
| `<form>` | `form` | Menampung semua elemen input |
| `<textarea>` | `text-input` | Tempat user mengetik teks |
| `<select>` | `voice-select` | Dropdown untuk memilih voice |
| `<button>` | - | Tombol untuk trigger speech |

**Poin Penting:** âš ï¸
- Setiap elemen memiliki **ID yang unik** untuk diakses di JavaScript
- Form menggunakan event `submit`
- Script dimuat dengan attribute `defer` agar HTML selesai load terlebih dahulu

---

<a name="styling-dengan-css"></a>
## ğŸ¨ Styling dengan CSS

File `style.css` membuat tampilan lebih menarik:

```css
@import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  font-size: 18px;
  background: salmon;
}

.container {
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

#text-input,
#voice-select {
  display: block;
  width: 600px;
  border-radius: 10px;
  background: #fafafa;
  margin-bottom: 20px;
  font-size: inherit;
  padding: 8px;
  outline: none;
}

#voice-select {
  height: 40px;
}

.btn {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 18px;
  width: 100%;
  background: #333;
  border: 1px solid #000;
  text-decoration: none;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}

.btn:hover {
  background: #000;
}
```

### ğŸ¨ Penjelasan Styling:

- **Font Poppins** dari Google Fonts untuk tampilan modern
- **Background salmon** agar tidak membosankan
- **Container** dengan max-width 600px dan di-center
- **Input & Select** dengan border-radius untuk tampilan rounded
- **Button** dengan efek hover yang berubah warna

**Tips:** ğŸ’¡ Kamu bisa ganti warna background sesuai selera!

---

<a name="implementasi-javascript"></a>
## âš™ï¸ Implementasi JavaScript

Sekarang bagian paling penting - logika JavaScript! Mari kita buat langkah demi langkah.

---

<a name="inisialisasi-speech-synthesis"></a>
### 1ï¸âƒ£ Inisialisasi Speech Synthesis

**Langkah pertama:** Buat variabel di bagian atas file `script.js`

```javascript
const voiceSelect = document.getElementById('voice-select');

const synth = window.speechSynthesis;
let voices;
```

#### ğŸ“ Penjelasan:

- **`voiceSelect`** = Menyimpan elemen dropdown voice selector dari HTML
- **`synth`** = Objek utama Speech Synthesis dari browser
- **`voices`** = Variabel untuk menyimpan daftar voice yang tersedia

**Kenapa pakai `let` untuk voices?** ğŸ¤”  
Karena kita akan mengisi nilai `voices` nanti di dalam fungsi!

---

<a name="membuat-event-submit"></a>
### 2ï¸âƒ£ Membuat Event Submit

Di bagian paling bawah `script.js`, tambahkan:

```javascript
document.getElementById('form').addEventListener('submit', onSubmit);
```

#### ğŸ“ Penjelasan:

- **`addEventListener`** = Mendengarkan event tertentu
- **`submit`** = Event yang terjadi ketika form di-submit (tombol diklik)
- **`onSubmit`** = Fungsi yang akan dipanggil ketika submit terjadi

**Analogi:** ğŸ‘‚  
Seperti memasang alarm - ketika tombol diklik (alarm berbunyi), fungsi `onSubmit` akan dijalankan!

---

<a name="membuat-fungsi-speak"></a>
### 3ï¸âƒ£ Membuat Fungsi Speak

Sekarang kita buat fungsi `onSubmit`:

```javascript
function onSubmit(e) {
  e.preventDefault();

  const textInput = document.getElementById('text-input');

  const utterThis = new SpeechSynthesisUtterance(textInput.value);

  synth.speak(utterThis);
}
```

#### ğŸ“ Penjelasan Step by Step:

**a) `e.preventDefault()`**
- Mencegah form melakukan submit default (reload halaman)
- Tanpa ini, halaman akan refresh setiap kali tombol diklik! âš ï¸

**b) `const textInput = document.getElementById('text-input')`**
- Mengambil elemen textarea dari HTML
- Kita simpan sebagai variabel agar bisa dipakai berkali-kali

**c) `const utterThis = new SpeechSynthesisUtterance(textInput.value)`**
- **`SpeechSynthesisUtterance`** = Constructor untuk membuat objek ucapan
- **`textInput.value`** = Mengambil nilai/teks yang diketik user
- Objek `utterThis` sekarang berisi teks yang akan dibacakan

**d) `synth.speak(utterThis)`**
- Method untuk mulai membacakan teks
- Browser akan berbicara sesuai teks yang ada di `utterThis`! ğŸ”Š

**Analogi sederhana:** ğŸ“¢  
`SpeechSynthesisUtterance` = Kertas yang berisi teks  
`synth.speak()` = Seseorang membaca teks dari kertas itu

#### ğŸ§ª Testing Awal:

Sebelum lanjut, coba test terlebih dahulu:
1. Buka `index.html` di browser
2. Ketik "Hello World" di textarea
3. Klik tombol "Speak"
4. Browser akan membacakan "Hello World"! âœ…

---

<a name="menambahkan-pilihan-voice"></a>
### 4ï¸âƒ£ Menambahkan Pilihan Voice

Sekarang kita buat fungsi untuk mengisi dropdown dengan pilihan voice:

```javascript
function addVoicesToSelect() {
  voices = synth.getVoices();

  for (let i = 0; i < voices.length; i++) {
    const option = document.createElement('option');
    option.textContent = `${voices[i].name} - ${voices[i].lang}`;

    if (voices[i].default) {
      option.textContent += ' - DEFAULT';
    }

    option.setAttribute('data-lang', voices[i].lang);
    option.setAttribute('data-name', voices[i].name);
    voiceSelect.appendChild(option);
  }
}
```

#### ğŸ“ Penjelasan Detail:

**a) `voices = synth.getVoices()`**
- **`getVoices()`** = Method untuk mendapatkan semua voice yang tersedia
- Hasilnya berupa array yang berisi banyak voice
- Contoh: `[{name: "Alex", lang: "en-US"}, {name: "Fred", lang: "en-US"}, ...]`

**b) Loop `for (let i = 0; i < voices.length; i++)`**
- Kita loop semua voice yang ada
- Untuk setiap voice, kita akan buat 1 elemen `<option>`

**c) `const option = document.createElement('option')`**
- Membuat elemen HTML `<option>` baru secara dinamis
- Elemen ini akan menjadi pilihan di dropdown

**d) `option.textContent = `${voices[i].name} - ${voices[i].lang}``**
- Mengisi teks yang tampil di dropdown
- Format: "Nama Voice - Bahasa"
- Contoh: "Alex - en-US"
- **Template literals** (`` `${} ` ``) untuk menggabungkan string

**e) Kondisi `if (voices[i].default)`**
- Mengecek apakah voice ini adalah default
- Jika ya, tambahkan tulisan " - DEFAULT"
- Contoh: "Alex - en-US - DEFAULT"

**f) `option.setAttribute('data-lang', voices[i].lang)`**
- Menyimpan data bahasa di attribute `data-lang`
- Custom attribute untuk menyimpan informasi tambahan
- Kita bisa akses nanti dengan `getAttribute()`

**g) `option.setAttribute('data-name', voices[i].name)`**
- Menyimpan nama voice di attribute `data-name`
- Ini yang akan kita gunakan untuk memilih voice nanti!

**h) `voiceSelect.appendChild(option)`**
- Menambahkan elemen `<option>` ke dalam `<select>`
- Setiap iterasi loop, 1 option ditambahkan ke dropdown

**Visualisasi hasil:** ğŸ‘ï¸
```
Dropdown akan terisi:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Alex - en-US - DEFAULT      â”‚
â”‚ Fred - en-US                â”‚
â”‚ Victoria - en-GB            â”‚
â”‚ Diego - es-ES               â”‚
â”‚ ...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ”„ Memanggil Fungsi addVoicesToSelect

Tambahkan di bagian bawah:

```javascript
addVoicesToSelect();
if (speechSynthesis.onvoiceschanged !== undefined) {
  speechSynthesis.onvoiceschanged = addVoicesToSelect;
}
```

#### ğŸ“ Penjelasan:

**a) `addVoicesToSelect()`**
- Memanggil fungsi langsung saat halaman dimuat
- Mengisi dropdown dengan voice yang tersedia

**b) Kondisi `if (speechSynthesis.onvoiceschanged !== undefined)`**
- Mengecek apakah browser support event `onvoiceschanged`
- Tidak semua browser punya event ini

**c) `speechSynthesis.onvoiceschanged = addVoicesToSelect`**
- Event handler yang dipanggil ketika daftar voice berubah
- Beberapa browser memuat voice secara asynchronous
- Jadi kita perlu "dengarkan" kapan voice siap, lalu isi ulang dropdown

**Kenapa perlu ini?** ğŸ¤”  
Di beberapa browser (terutama Chrome), voice tidak langsung tersedia. Kita perlu "tunggu" sampai voice dimuat, baru kita isi dropdown.

**Analogi:** â³  
Seperti menunggu produk datang sebelum ditampilkan di toko!

---

<a name="mengimplementasikan-pemilihan-voice"></a>
### 5ï¸âƒ£ Mengimplementasikan Pemilihan Voice

Sekarang kita update fungsi `onSubmit` agar bisa menggunakan voice yang dipilih:

```javascript
function onSubmit(e) {
  e.preventDefault();

  const textInput = document.getElementById('text-input');

  const utterThis = new SpeechSynthesisUtterance(textInput.value);

  const selectedOption =
    voiceSelect.selectedOptions[0].getAttribute('data-name');
  
  for (let i = 0; i < voices.length; i++) {
    if (voices[i].name === selectedOption) {
      utterThis.voice = voices[i];
    }
  }

  synth.speak(utterThis);
}
```

#### ğŸ“ Penjelasan Kode Baru:

**a) `voiceSelect.selectedOptions[0]`**
- **`selectedOptions`** = Array berisi option yang sedang dipilih
- **`[0]`** = Ambil elemen pertama (karena dropdown hanya bisa pilih 1)

**b) `.getAttribute('data-name')`**
- Mengambil nilai dari attribute `data-name` yang kita set sebelumnya
- Hasilnya adalah nama voice yang dipilih user
- Contoh: "Alex", "Fred", "Victoria"

**c) Loop untuk mencari voice yang cocok:**
```javascript
for (let i = 0; i < voices.length; i++) {
  if (voices[i].name === selectedOption) {
    utterThis.voice = voices[i];
  }
}
```

**Penjelasan:**
- Loop semua voice yang tersedia
- Cek apakah nama voice cocok dengan yang dipilih user
- Jika cocok, set `utterThis.voice` dengan voice tersebut
- Ini seperti mencari buku di perpustakaan berdasarkan judul! ğŸ“š

**d) `utterThis.voice = voices[i]`**
- Mengatur voice yang akan digunakan untuk membacakan teks
- Tanpa ini, browser akan selalu pakai voice default

**Alur lengkap:** ğŸ”„
1. User pilih voice dari dropdown
2. Kita ambil nama voice yang dipilih
3. Kita cari voice tersebut di array `voices`
4. Kita set voice ke objek `utterThis`
5. Browser bacakan dengan voice yang dipilih

---

<a name="testing-aplikasi"></a>
## ğŸ§ª Testing Aplikasi

Sekarang aplikasi sudah lengkap! Mari kita test:

### Test 1: Voice Default
1. Buka `index.html` di browser
2. Ketik "Hello World"
3. Klik "Speak" tanpa mengubah voice
4. Harusnya browser membaca dengan voice default âœ…

### Test 2: Ganti Voice
1. Pilih voice berbeda dari dropdown (misalnya "Fred")
2. Ketik "Hello World"
3. Klik "Speak"
4. Harusnya suaranya berbeda dari sebelumnya! âœ…

### Test 3: Voice dengan Aksen Berbeda
1. Coba pilih voice dengan `lang` berbeda (misalnya "es-ES" untuk Spanish)
2. Ketik "Hello World"
3. Klik "Speak"
4. Harusnya ada aksen yang berbeda! ğŸŒ

### Contoh Test dari Tutorial:

**Test dengan berbagai voice:**
- **Anna:** "Hello"
- **Ellen:** "Hello"
- **Diego:** "Hello world" (dengan aksen Spanish)
- **Juan:** "Hello world" (dengan aksen Spanish)
- **Marisa:** "Hello world" (dengan aksen berbeda)

**Test dengan kalimat lucu:**
```
"My name is Hal and I am here to destroy you"
```
Semua voice akan membaca dengan aksen masing-masing! ğŸ˜„

---

## ğŸ¯ Kode Lengkap

### ğŸ“„ index.html
```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Web Speech API</title>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Type some text</h1>
      <form id="form">
        <div>
          <textarea id="text-input" cols="30" rows="10"></textarea>
        </div>
        <div>
          <select id="voice-select"></select>
        </div>
        <button type="submit" class="btn">Speak</button>
      </form>
    </div>
  </body>
</html>
```

### ğŸ¨ style.css
```css
@import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  font-size: 18px;
  background: salmon;
}

.container {
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

#text-input,
#voice-select {
  display: block;
  width: 600px;
  border-radius: 10px;
  background: #fafafa;
  margin-bottom: 20px;
  font-size: inherit;
  padding: 8px;
  outline: none;
}

#voice-select {
  height: 40px;
}

.btn {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 18px;
  width: 100%;
  background: #333;
  border: 1px solid #000;
  text-decoration: none;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}

.btn:hover {
  background: #000;
}
```

### âš™ï¸ script.js
```javascript
const voiceSelect = document.getElementById('voice-select');

const synth = window.speechSynthesis;
let voices;

function addVoicesToSelect() {
  voices = synth.getVoices();

  for (let i = 0; i < voices.length; i++) {
    const option = document.createElement('option');
    option.textContent = `${voices[i].name} - ${voices[i].lang}`;

    if (voices[i].default) {
      option.textContent += ' - DEFAULT';
    }

    option.setAttribute('data-lang', voices[i].lang);
    option.setAttribute('data-name', voices[i].name);
    voiceSelect.appendChild(option);
  }
}

function onSubmit(e) {
  e.preventDefault();

  const textInput = document.getElementById('text-input');

  const utterThis = new SpeechSynthesisUtterance(textInput.value);

  const selectedOption =
    voiceSelect.selectedOptions[0].getAttribute('data-name');
  
  for (let i = 0; i < voices.length; i++) {
    if (voices[i].name === selectedOption) {
      utterThis.voice = voices[i];
    }
  }

  synth.speak(utterThis);
}

addVoicesToSelect();
if (speechSynthesis.onvoiceschanged !== undefined) {
  speechSynthesis.onvoiceschanged = addVoicesToSelect;
}

document.getElementById('form').addEventListener('submit', onSubmit);
```

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

Selamat! ğŸ‰ Kamu telah berhasil membuat aplikasi Text-to-Speech dengan Web Speech API!

### ğŸ“š Yang Sudah Dipelajari:

âœ… **Struktur HTML** sederhana dengan form, textarea, select, dan button  
âœ… **CSS Styling** untuk membuat tampilan menarik  
âœ… **Speech Synthesis API** untuk mengubah teks menjadi suara  
âœ… **Event Handling** dengan `addEventListener` dan `preventDefault`  
âœ… **DOM Manipulation** untuk membuat elemen dinamis  
âœ… **Loop dan Kondisional** untuk memproses data  
âœ… **Custom Attributes** dengan `data-*` untuk menyimpan informasi  

### ğŸ”‘ Konsep Penting:

1. **`window.speechSynthesis`** = Objek utama untuk Speech Synthesis
2. **`SpeechSynthesisUtterance`** = Constructor untuk membuat objek ucapan
3. **`synth.speak()`** = Method untuk mulai membacakan
4. **`synth.getVoices()`** = Method untuk mendapatkan daftar voice
5. **`utterThis.voice`** = Property untuk set voice yang digunakan

### ğŸ’¡ Aplikasi Praktis:

Teknologi ini sangat berguna untuk:
- ğŸ“ **E-learning** - Membacakan materi pembelajaran
- â™¿ **Aksesibilitas** - Membantu orang dengan disabilitas visual
- ğŸ—£ï¸ **Komunikasi** - Alat bantu untuk orang non-verbal
- ğŸ“– **Audiobook** - Mengubah artikel menjadi audio
- ğŸ® **Game** - Menambahkan narasi suara

### ğŸš€ Pengembangan Lebih Lanjut:

Kamu bisa mengembangkan aplikasi ini dengan:
- â¸ï¸ Tombol Pause/Resume
- â¹ï¸ Tombol Stop
- ğŸšï¸ Slider untuk mengatur kecepatan bicara
- ğŸ›ï¸ Slider untuk mengatur pitch (nada suara)
- ğŸ’¾ Menyimpan pilihan voice ke localStorage
- ğŸ“± Responsive design untuk mobile

### â¤ï¸ Pesan dari Pembuat Tutorial:

> "Tools seperti ini sangat membantu untuk anak-anak dan orang-orang dengan kebutuhan khusus, termasuk mereka yang non-verbal. Ini memiliki tempat spesial di hati saya."

Teknologi yang kita buat bisa membantu banyak orang! ğŸŒŸ

---

## ğŸ“Œ Catatan Tambahan

### ğŸŒ Browser Compatibility:
- âœ… Chrome
- âœ… Edge
- âœ… Safari
- âœ… Firefox (limited voices)

### ğŸ™ï¸ Perbedaan Voice per OS:
- **macOS:** Banyak voice berkualitas tinggi (Alex, Victoria, dll)
- **Windows:** Voice Microsoft (David, Zira, dll)
- **Android/iOS:** Voice Google dan Apple

### ğŸ› Troubleshooting:

**Problem:** Dropdown voice kosong  
**Solusi:** Tunggu beberapa detik, atau reload halaman

**Problem:** Voice tidak berubah  
**Solusi:** Pastikan `utterThis.voice` di-set sebelum `synth.speak()`

**Problem:** Tidak ada suara keluar  
**Solusi:** Cek volume browser dan sistem, pastikan tidak di-mute

---

**Happy Coding!** ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»

*Dibuat dengan â¤ï¸ untuk pembelajaran pribadi*
