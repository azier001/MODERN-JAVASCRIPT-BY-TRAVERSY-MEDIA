# ğŸ“ Dokumentasi Geolocation API untuk Pemula

> **Catatan Pribadi**: Dokumentasi ini dibuat untuk mempelajari Geolocation API step-by-step

---

## ğŸ“š Daftar Isi

- [Pengenalan Geolocation API](#pengenalan-geolocation-api)
- [Apa itu Geolocation API?](#apa-itu-geolocation-api)
- [Cara Mengakses Geolocation API](#cara-mengakses-geolocation-api)
- [Method Utama Geolocation](#method-utama-geolocation)
  - [1. getCurrentPosition()](#1-getcurrentposition)
  - [2. watchPosition()](#2-watchposition)
  - [3. clearWatch()](#3-clearwatch)
- [Praktek Kode - getCurrentPosition()](#praktek-kode---getcurrentposition)
  - [Membuat Fungsi Success](#membuat-fungsi-success)
  - [Membuat Fungsi Error](#membuat-fungsi-error)
  - [Menambahkan Options](#menambahkan-options)
- [Praktek Kode - watchPosition()](#praktek-kode---watchposition)
  - [Membuat Target Lokasi](#membuat-target-lokasi)
  - [Membuat Fungsi watchSuccess](#membuat-fungsi-watchsuccess)
  - [Menggunakan clearWatch()](#menggunakan-clearwatch)
- [Kode Lengkap](#kode-lengkap)
- [Tips & Troubleshooting](#tips--troubleshooting)

---

<a name="pengenalan-geolocation-api"></a>
## ğŸ¯ Pengenalan Geolocation API

Geolocation API adalah fitur JavaScript yang memungkinkan kita untuk **mendapatkan lokasi pengguna** dengan izin mereka. Pasti kamu pernah mengunjungi website yang meminta izin untuk mengakses lokasimu, kan? Nah, itu dia Geolocation API! ğŸ—ºï¸

---

<a name="apa-itu-geolocation-api"></a>
## ğŸ“– Apa itu Geolocation API?

**Geolocation API** adalah API bawaan JavaScript yang tersedia di objek `window` global. Artinya, kita **tidak perlu menginstall library pihak ketiga** - sudah built-in di browser! ğŸ‰

### ğŸ”‘ Fitur Utama:
- âœ… Mendapatkan lokasi perangkat pengguna
- âœ… Memantau perubahan lokasi secara real-time
- âœ… Memerlukan **izin pengguna** (privacy-friendly)
- âœ… Berguna untuk aplikasi cuaca, restaurant finder, maps, dll

---

<a name="cara-mengakses-geolocation-api"></a>
## ğŸ” Cara Mengakses Geolocation API

Geolocation API bisa diakses melalui:

```javascript
navigator.geolocation
```

**Penjelasan:**
- `navigator` adalah objek yang tersedia di `window` global
- Di dalam `navigator`, ada objek `geolocation`
- **BUKAN** `navigation` ya! Hati-hati typo! âš ï¸

### ğŸ“‚ Struktur di Browser Console:
```
window
  â””â”€â”€ navigator
        â””â”€â”€ geolocation
              â”œâ”€â”€ getCurrentPosition()
              â”œâ”€â”€ watchPosition()
              â””â”€â”€ clearWatch()
```

---

<a name="method-utama-geolocation"></a>
## ğŸ› ï¸ Method Utama Geolocation

Ada **3 method utama** yang perlu kamu ketahui:

<a name="1-getcurrentposition"></a>
### 1ï¸âƒ£ `getCurrentPosition()`

**Fungsi**: Mendapatkan lokasi perangkat **satu kali** saja

**Kapan digunakan?**
- Saat kamu hanya butuh lokasi sekali
- Contoh: Menampilkan cuaca di lokasi pengguna saat ini

---

<a name="2-watchposition"></a>
### 2ï¸âƒ£ `watchPosition()`

**Fungsi**: Memantau lokasi perangkat secara **terus-menerus**

**Kapan digunakan?**
- Saat pengguna bergerak dan kamu perlu update lokasi real-time
- Contoh: Aplikasi tracking restoran terdekat saat kamu berjalan
- Contoh: Aplikasi navigasi GPS

---

<a name="3-clearwatch"></a>
### 3ï¸âƒ£ `clearWatch()`

**Fungsi**: Menghentikan pemantauan lokasi dari `watchPosition()`

**Kapan digunakan?**
- Saat pengguna sudah sampai tujuan
- Untuk menghemat battery dan resource

---

<a name="praktek-kode---getcurrentposition"></a>
## ğŸ’» Praktek Kode - getCurrentPosition()

Mari kita belajar step-by-step! ğŸš€

### ğŸ“ Parameter yang Dibutuhkan

`getCurrentPosition()` membutuhkan **3 parameter**:

1. **Success Callback** - Fungsi yang dijalankan jika berhasil
2. **Error Callback** - Fungsi yang dijalankan jika gagal
3. **Options Object** - Pengaturan tambahan (opsional)

---

<a name="membuat-fungsi-success"></a>
### âœ… Membuat Fungsi Success

```javascript
function curSuccess(pos) {
  const coords = pos.coords;

  console.log(`Latitude: ${coords.latitude}`);
  console.log(`Longitude: ${coords.longitude}`);
  console.log(`Within: ${coords.accuracy} meters`);
}
```

**Penjelasan:**
- **`pos`** adalah objek position yang diterima
- **`pos.coords`** berisi objek koordinat
- **`coords.latitude`** = Garis Lintang ğŸŒ
- **`coords.longitude`** = Garis Bujur ğŸŒ
- **`coords.accuracy`** = Akurasi dalam meter (contoh: 25 meter)

**Output yang muncul:**
```
Latitude: 40.7128
Longitude: -74.0060
Within: 23 meters
```

> ğŸ’¡ **Catatan**: Accuracy menunjukkan lokasi kamu dalam radius sekian meter dari titik tersebut

---

<a name="membuat-fungsi-error"></a>
### âŒ Membuat Fungsi Error

```javascript
function curError(err) {
  console.log(`Error: ${err.code} - ${err.message}`);
}
```

**Penjelasan:**
- **`err.code`** = Kode error (angka)
- **`err.message`** = Pesan error (teks)

**Contoh Error:**
```
Error: 1 - User denied Geolocation
```

**Kemungkinan Error:**
- âŒ User menolak izin lokasi
- âŒ Location services dimatikan di sistem operasi
- âŒ Chrome tidak diizinkan mengakses lokasi di system settings

---

<a name="menambahkan-options"></a>
### âš™ï¸ Menambahkan Options

```javascript
const curOptions = {
  enableHighAccuracy: true, // Use GPS if available
  timeout: 5000, // Time to wait to stop trying for location
  maximumAge: 0, // Do not use a cached position
};
```

**Penjelasan Detail:**

| Option | Nilai | Fungsi |
|--------|-------|--------|
| `enableHighAccuracy` | `true` | ğŸ›°ï¸ Gunakan GPS jika tersedia (akurasi lebih baik) |
| `timeout` | `5000` | â±ï¸ Waktu tunggu maksimal 5 detik (5000 ms) |
| `maximumAge` | `0` | ğŸ”„ Jangan gunakan lokasi yang di-cache (selalu ambil yang baru) |

> ğŸ’¡ **Tips**: Set `maximumAge: 0` agar selalu mendapat lokasi terbaru!

---

### ğŸš€ Menjalankan getCurrentPosition()

```javascript
navigator.geolocation.getCurrentPosition(curSuccess, curError, curOptions);
```

**Yang Terjadi:**
1. Browser meminta izin pengguna ğŸ”
2. Jika **diizinkan** â†’ `curSuccess` dipanggil âœ…
3. Jika **ditolak** atau **error** â†’ `curError` dipanggil âŒ

---

<a name="praktek-kode---watchposition"></a>
## ğŸ”„ Praktek Kode - watchPosition()

Sekarang kita belajar memantau lokasi secara **real-time**! 

---

<a name="membuat-target-lokasi"></a>
### ğŸ¯ Membuat Target Lokasi

```javascript
const target = {
  latitude: 41.3874387,
  longitude: -71.394839,
};
```

**Penjelasan:**
- Kita membuat objek **target** sebagai tujuan
- Misal ini adalah koordinat sebuah restoran ğŸ½ï¸
- Kita akan cek apakah user sudah sampai di koordinat ini

---

<a name="membuat-fungsi-watchsuccess"></a>
### ğŸ‘€ Membuat Fungsi watchSuccess

```javascript
function watchSuccess(pos) {
  const coords = pos.coords;
  console.log(coords);

  if (
    target.latitude === coords.latitude &&
    target.longitude === coords.longitude
  ) {
    console.log('You have reached your destination!');
    navigator.geolocation.clearWatch(id);
  }
}
```

**Penjelasan Step-by-Step:**

1. **`const coords = pos.coords`** 
   - Ambil koordinat dari posisi saat ini

2. **`console.log(coords)`** 
   - Tampilkan koordinat (untuk debug)

3. **`if (target.latitude === coords.latitude ...)`** 
   - Cek apakah lokasi sekarang = lokasi target

4. **`console.log('You have reached...')`** 
   - Tampilkan pesan "sudah sampai!" ğŸ‰

5. **`navigator.geolocation.clearWatch(id)`** 
   - Hentikan pemantauan (hemat battery!)

---

### ğŸ“ Fungsi Error dan Options

```javascript
function watchError(err) {
  console.log(`Error: ${err.code} - ${err.message}`);
}

const watchOptions = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0,
};
```

**Penjelasan:**
- Sama seperti `getCurrentPosition()`
- Bisa pakai fungsi yang sama atau buat terpisah (terserah kamu!)

---

<a name="menggunakan-clearwatch"></a>
### ğŸ›‘ Menggunakan clearWatch()

```javascript
const id = navigator.geolocation.watchPosition(
  watchSuccess,
  watchError,
  watchOptions
);
```

**Penjelasan Penting:**

- **`watchPosition()` mengembalikan ID** ğŸ†”
- ID ini kita simpan di variable `id`
- ID ini digunakan untuk **menghentikan** watching dengan `clearWatch(id)`

**Ilustrasi:**
```
watchPosition() â†’ Mulai pantau â†’ Dapat ID #12345
       â†“
   Lokasi berubah â†’ watchSuccess() dipanggil
       â†“
   Sampai tujuan â†’ clearWatch(12345) â†’ Berhenti pantau
```

---

<a name="kode-lengkap"></a>
## ğŸ“„ Kode Lengkap

```javascript
// ==========================================
// 1ï¸âƒ£ getCurrentPosition()
// ==========================================

function curSuccess(pos) {
  const coords = pos.coords;

  console.log(`Latitude: ${coords.latitude}`);
  console.log(`Longitude: ${coords.longitude}`);
  console.log(`Within: ${coords.accuracy} meters`);
}

function curError(err) {
  console.log(`Error: ${err.code} - ${err.message}`);
}

const curOptions = {
  enableHighAccuracy: true, // Use GPS if available
  timeout: 5000, // Time to wait to stop trying for location
  maximumAge: 0, // Do not use a cached position
};

// Uncomment untuk menjalankan:
// navigator.geolocation.getCurrentPosition(curSuccess, curError, curOptions);

// ==========================================
// 2ï¸âƒ£ watchPosition()
// ==========================================

const target = {
  latitude: 41.3874387,
  longitude: -71.394839,
};

function watchSuccess(pos) {
  const coords = pos.coords;
  console.log(coords);

  if (
    target.latitude === coords.latitude &&
    target.longitude === coords.longitude
  ) {
    console.log('You have reached your destination!');
    navigator.geolocation.clearWatch(id);
  }
}

function watchError(err) {
  console.log(`Error: ${err.code} - ${err.message}`);
}

const watchOptions = {
  enableHighAccuracy: true, // Use GPS if available
  timeout: 5000, // Time to wait to stop trying for location
  maximumAge: 0, // Do not use a cached position
};

const id = navigator.geolocation.watchPosition(
  watchSuccess,
  watchError,
  watchOptions
);
```

---

<a name="tips--troubleshooting"></a>
## ğŸ’¡ Tips & Troubleshooting

### âœ… Hal yang Perlu Diingat:

1. **Popup Izin**
   - Pertama kali akan muncul popup minta izin
   - Kalau sudah pernah "Allow", tidak akan muncul lagi
   - Browser akan "cache" pilihan kamu

2. **Pastikan Location Services Aktif**
   - Cek di System Settings (Mac/Windows)
   - Pastikan browser diizinkan akses lokasi
   - Jika tidak, akan dapat error code 1

3. **Perbedaan getCurrentPosition vs watchPosition**
   ```
   getCurrentPosition  â†’ Sekali ambil lokasi âœ‹
   watchPosition      â†’ Terus pantau lokasi ğŸ‘€
   ```

4. **Jangan Lupa clearWatch!**
   - Kalau pakai `watchPosition()`, selalu stop dengan `clearWatch()`
   - Jika tidak, akan terus berjalan dan boros battery ğŸ”‹

---

### ğŸ› Common Errors:

| Error Code | Arti | Solusi |
|------------|------|--------|
| 1 | User denied permission | Minta user izinkan akses lokasi |
| 2 | Position unavailable | Cek koneksi internet |
| 3 | Timeout | Perpanjang `timeout` di options |

---

### ğŸ¯ Use Cases Geolocation API:

- ğŸŒ¦ï¸ **Weather App** - Tampilkan cuaca sesuai lokasi
- ğŸ” **Restaurant Finder** - Cari restoran terdekat
- ğŸ“ **Maps** - Tampilkan posisi user di peta
- ğŸš— **Ride Sharing** - Track lokasi driver/penumpang
- ğŸƒ **Fitness Tracker** - Track jarak lari/jalan

---

## ğŸ“ Kesimpulan

**Yang Sudah Kita Pelajari:**

âœ… Geolocation API adalah fitur built-in JavaScript  
âœ… Ada 3 method utama: `getCurrentPosition()`, `watchPosition()`, `clearWatch()`  
âœ… Cara membuat success & error callback  
âœ… Cara mengatur options (accuracy, timeout, cache)  
âœ… Cara memantau lokasi real-time dengan `watchPosition()`  
âœ… Pentingnya `clearWatch()` untuk stop watching  

---

## ğŸ“š Referensi & Sumber Belajar Lanjutan

### ğŸ“– Dokumentasi Resmi
- [MDN Web Docs - Geolocation API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API)
- [W3Schools - HTML Geolocation](https://www.w3schools.com/html/html5_geolocation.asp)

### ğŸ“ Tutorial & Artikel
- [JavaScript.info - Geolocation](https://javascript.info/geolocation)
- [Google Developers - User Location](https://developers.google.com/web/fundamentals/native-hardware/user-location)

### ğŸ”§ Tools & Checker
- [Can I Use - Geolocation API](https://caniuse.com/?search=geolocation)

### ğŸ“¹ Video Tutorial
- Channel tutorial JavaScript lainnya tentang Geolocation API

---

**Next Steps:** ğŸš€

Di video berikutnya akan belajar cara menampilkan lokasi di **peta** menggunakan library **Leaflet**! Exciting! ğŸ—ºï¸âœ¨

---

> ğŸ“ **Catatan Belajar**: Dokumentasi ini dibuat untuk pembelajaran pribadi. Keep learning! ğŸ’ª
