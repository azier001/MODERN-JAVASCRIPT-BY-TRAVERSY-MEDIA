# ğŸ“ Dokumentasi Shopping List - Refactoring Kode untuk Pemula

> **Catatan Pribadi**: Dokumentasi ini mencatat pembelajaran tentang cara menulis kode yang lebih bersih dan terorganisir dengan baik.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Refactoring?](#apa-itu-refactoring)
- [Konsep Clean Code](#konsep-clean-code)
- [Kode Sebelum Refactoring](#kode-sebelum-refactoring)
- [Proses Refactoring](#proses-refactoring)
  - [Langkah 1: Membuat Fungsi createButton](#langkah-1-membuat-fungsi-createbutton)
  - [Langkah 2: Membuat Fungsi createIcon](#langkah-2-membuat-fungsi-createicon)
  - [Langkah 3: Mengintegrasikan Semua Fungsi](#langkah-3-mengintegrasikan-semua-fungsi)
- [Kode Setelah Refactoring](#kode-setelah-refactoring)
- [Perbandingan Kode](#perbandingan-kode)
- [Keuntungan Refactoring](#keuntungan-refactoring)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam pembelajaran kali ini, kita akan mempelajari bagaimana cara **merapikan kode** (refactoring) pada aplikasi Shopping List sederhana. Tujuannya adalah membuat kode lebih mudah dibaca, dipahami, dan digunakan kembali (reusable).

### ğŸ¨ Tampilan Aplikasi Shopping List

Aplikasi ini adalah daftar belanja sederhana yang memiliki:
- âœ… Input untuk menambah item
- âœ… Tombol hapus (X) untuk setiap item
- âœ… Tombol "Clear All" untuk menghapus semua item
- âœ… Filter untuk mencari item

---

<a name="apa-itu-refactoring"></a>
## ğŸ”„ Apa itu Refactoring?

**Refactoring** adalah proses **mengubah struktur kode internal** tanpa mengubah perilaku eksternal (hasil yang ditampilkan tetap sama). 

### ğŸ’¡ Analogi Sederhana:
Seperti merapikan lemari pakaian. Pakaiannya tetap sama, tapi cara penyusunannya lebih rapi sehingga lebih mudah mencari dan mengambil pakaian.

### ğŸ¯ Tujuan Refactoring:
- Membuat kode lebih mudah dibaca
- Membuat fungsi lebih spesifik (satu fungsi = satu tugas)
- Membuat kode bisa digunakan kembali (reusable)
- Mempermudah maintenance di masa depan

---

<a name="konsep-clean-code"></a>
## âœ¨ Konsep Clean Code

### ğŸ“Œ Prinsip Utama:

> **"A function should do one thing and do it well"**  
> *(Satu fungsi harus melakukan satu hal dan melakukannya dengan baik)*

### ğŸ”‘ Karakteristik Clean Code:

1. **Mudah Dibaca** ğŸ’¬  
   - Nama variabel dan fungsi jelas
   - Struktur kode terorganisir

2. **Modular** ğŸ§©  
   - Fungsi-fungsi kecil dan spesifik
   - Setiap fungsi punya tanggung jawab sendiri

3. **Reusable** â™»ï¸  
   - Fungsi bisa digunakan di tempat lain
   - Tidak perlu menulis ulang kode yang sama

4. **Maintainable** ğŸ”§  
   - Mudah diperbaiki jika ada bug
   - Mudah ditambahkan fitur baru

### âš–ï¸ Catatan Penting:
> Clean code adalah **preferensi** (pilihan). Tidak ada cara yang 100% benar atau salah. Yang penting adalah konsistensi dan kode mudah dipahami oleh tim.

---

<a name="kode-sebelum-refactoring"></a>
## ğŸ“„ Kode Sebelum Refactoring

### HTML (index.html)

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Shopping List</title>
  </head>
  <body>
    <div class="container">
      <header>
        <img src="images/note.png" alt="" />
        <h1>Shopping List</h1>
      </header>
      
      <form id="item-form">
        <div class="form-control">
          <input
            type="text"
            class="form-input"
            id="item-input"
            name="item"
            placeholder="Enter Item"
          />
        </div>
        <div class="form-control">
          <button type="submit" class="btn">
            <i class="fa-solid fa-plus"></i> Add Item
          </button>
        </div>
      </form>

      <div class="filter">
        <input
          type="text"
          class="form-input-filter"
          id="filter"
          placeholder="Filter Items"
        />
      </div>

      <ul id="item-list" class="items">
        <li>
          Apples
          <button class="remove-item btn-link text-red">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </li>
        <li>
          Orange Juice
          <button class="remove-item btn-link text-red">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </li>
        <li>
          Oreos
          <button class="remove-item btn-link text-red">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </li>
        <li>
          Milk
          <button class="remove-item btn-link text-red">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </li>
      </ul>

      <button id="clear" class="btn-clear">Clear All</button>
    </div>

    <script src="script.js"></script>
  </body>
</html>
```

### JavaScript Sebelum Refactoring (script.js)

```javascript
function createNewItem(item) {
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  const button = document.createElement('button');
  button.className = 'remove-item btn-link text-red';

  const icon = document.createElement('i');
  icon.className = 'fa-solid fa-xmark';

  button.appendChild(icon);
  li.appendChild(button);

  document.querySelector('.items').appendChild(li);
}

createNewItem('Cheese');
```

### âŒ Masalah dengan Kode di Atas:

1. **Fungsi terlalu panjang** - `createNewItem()` melakukan terlalu banyak hal:
   - Membuat elemen `<li>`
   - Membuat elemen `<button>`
   - Membuat elemen `<i>` (icon)
   - Menggabungkan semua elemen
   - Menambahkan ke DOM

2. **Tidak reusable** - Jika ingin membuat button atau icon di tempat lain, harus copy-paste kode

3. **Sulit di-maintain** - Jika ada perubahan pada button atau icon, harus mengubah di dalam fungsi besar

---

<a name="proses-refactoring"></a>
## ğŸ”¨ Proses Refactoring

<a name="langkah-1-membuat-fungsi-createbutton"></a>
### ğŸ“ Langkah 1: Membuat Fungsi `createButton()`

Kita akan **memisahkan** proses pembuatan button ke fungsi tersendiri.

#### ğŸ¯ Tujuan:
Fungsi ini hanya bertanggung jawab untuk membuat button dengan classes yang diberikan.

#### ğŸ’» Kode:

```javascript
function createButton(classes) {
  // 1. Membuat elemen button
  const button = document.createElement('button');
  
  // 2. Menambahkan class ke button
  button.className = classes;
  
  // 3. Membuat icon (akan dijelaskan di langkah 2)
  const icon = createIcon('fa-solid fa-xmark');
  
  // 4. Menambahkan icon ke dalam button
  button.appendChild(icon);
  
  // 5. Mengembalikan button yang sudah jadi
  return button;
}
```

#### ğŸ“– Penjelasan Detail:

| Baris | Penjelasan |
|-------|------------|
| `function createButton(classes)` | Fungsi menerima parameter `classes` (nama class CSS) |
| `const button = document.createElement('button')` | Membuat elemen HTML `<button>` |
| `button.className = classes` | Menambahkan class CSS ke button (misal: `'remove-item btn-link text-red'`) |
| `const icon = createIcon('fa-solid fa-xmark')` | Memanggil fungsi `createIcon()` untuk membuat icon X |
| `button.appendChild(icon)` | Memasukkan icon ke dalam button |
| `return button` | Mengembalikan button yang sudah lengkap |

#### âœ… Keuntungan:
- Fungsi fokus hanya membuat button
- Bisa digunakan untuk membuat button apapun dengan class berbeda
- Mudah di-test dan di-debug

---

<a name="langkah-2-membuat-fungsi-createicon"></a>
### ğŸ“ Langkah 2: Membuat Fungsi `createIcon()`

Kita akan **memisahkan** proses pembuatan icon ke fungsi tersendiri.

#### ğŸ¯ Tujuan:
Fungsi ini hanya bertanggung jawab untuk membuat icon dengan classes yang diberikan.

#### ğŸ’» Kode:

```javascript
function createIcon(classes) {
  // 1. Membuat elemen <i> untuk icon
  const icon = document.createElement('i');
  
  // 2. Menambahkan class FontAwesome ke icon
  icon.className = classes;
  
  // 3. Mengembalikan icon yang sudah jadi
  return icon;
}
```

#### ğŸ“– Penjelasan Detail:

| Baris | Penjelasan |
|-------|------------|
| `function createIcon(classes)` | Fungsi menerima parameter `classes` (nama class icon FontAwesome) |
| `const icon = document.createElement('i')` | Membuat elemen HTML `<i>` (untuk icon) |
| `icon.className = classes` | Menambahkan class FontAwesome (misal: `'fa-solid fa-xmark'`) |
| `return icon` | Mengembalikan icon yang sudah jadi |

#### ğŸ¨ Tentang FontAwesome:
FontAwesome adalah library icon gratis. Class seperti `fa-solid fa-xmark` akan menampilkan icon X merah.

#### âœ… Keuntungan:
- Fungsi sangat sederhana dan fokus
- Bisa digunakan untuk membuat icon apapun
- Mudah diubah jika ingin ganti library icon

---

<a name="langkah-3-mengintegrasikan-semua-fungsi"></a>
### ğŸ“ Langkah 3: Mengintegrasikan Semua Fungsi

Sekarang kita akan **mengubah** fungsi `createNewItem()` untuk menggunakan fungsi-fungsi yang sudah dibuat.

#### ğŸ’» Kode:

```javascript
function createNewItem(item) {
  // 1. Membuat elemen <li>
  const li = document.createElement('li');
  
  // 2. Menambahkan teks item ke dalam <li>
  li.appendChild(document.createTextNode(item));
  
  // 3. Membuat button dengan memanggil fungsi createButton()
  const button = createButton('remove-item btn-link text-red');
  
  // 4. Menambahkan button ke dalam <li>
  li.appendChild(button);
  
  // 5. Menambahkan <li> ke dalam <ul> di halaman
  document.querySelector('.items').appendChild(li);
}
```

#### ğŸ“– Penjelasan Detail:

| Baris | Penjelasan |
|-------|------------|
| `const li = document.createElement('li')` | Membuat elemen list item `<li>` |
| `li.appendChild(document.createTextNode(item))` | Menambahkan teks (nama item) ke dalam `<li>` |
| `const button = createButton('...')` | Memanggil fungsi `createButton()` untuk membuat tombol hapus |
| `li.appendChild(button)` | Memasukkan button ke dalam `<li>` |
| `document.querySelector('.items').appendChild(li)` | Menambahkan `<li>` ke dalam `<ul class="items">` di halaman |

#### ğŸ¯ Hasil Struktur HTML:

```html
<li>
  Cheese
  <button class="remove-item btn-link text-red">
    <i class="fa-solid fa-xmark"></i>
  </button>
</li>
```

---

<a name="kode-setelah-refactoring"></a>
## âœ… Kode Setelah Refactoring

### JavaScript Lengkap (script.js)

```javascript
// ========================================
// FUNGSI UTAMA: Membuat Item Baru
// ========================================
function createNewItem(item) {
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  const button = createButton('remove-item btn-link text-red');

  li.appendChild(button);

  document.querySelector('.items').appendChild(li);
}

// ========================================
// FUNGSI HELPER: Membuat Button
// ========================================
function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;

  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);

  return button;
}

// ========================================
// FUNGSI HELPER: Membuat Icon
// ========================================
function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;

  return icon;
}

// ========================================
// PEMANGGILAN FUNGSI
// ========================================
createNewItem('Cheese');
createNewItem('Sauce');
```

### ğŸ“Š Struktur Fungsi:

```
createNewItem('Cheese')
    |
    â”œâ”€> Membuat <li>
    â”œâ”€> Menambahkan teks 'Cheese'
    â”œâ”€> Memanggil createButton()
    |       |
    |       â”œâ”€> Membuat <button>
    |       â”œâ”€> Memanggil createIcon()
    |       |       |
    |       |       â””â”€> Membuat <i> dengan class FontAwesome
    |       |
    |       â””â”€> Mengembalikan button lengkap
    |
    â””â”€> Menambahkan ke DOM
```

---

<a name="perbandingan-kode"></a>
## ğŸ“Š Perbandingan Kode

### ğŸ”´ Sebelum Refactoring:

```javascript
function createNewItem(item) {
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  // Semua dalam satu fungsi
  const button = document.createElement('button');
  button.className = 'remove-item btn-link text-red';

  const icon = document.createElement('i');
  icon.className = 'fa-solid fa-xmark';

  button.appendChild(icon);
  li.appendChild(button);

  document.querySelector('.items').appendChild(li);
}
```

**Masalah:**
- âŒ Satu fungsi melakukan banyak hal
- âŒ Tidak reusable
- âŒ Sulit di-maintain
- âŒ Sulit di-test

---

### ğŸŸ¢ Setelah Refactoring:

```javascript
function createNewItem(item) {
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));
  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);
  document.querySelector('.items').appendChild(li);
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}
```

**Keuntungan:**
- âœ… Setiap fungsi punya tugas spesifik
- âœ… Reusable (bisa digunakan lagi)
- âœ… Mudah di-maintain
- âœ… Mudah di-test
- âœ… Kode lebih bersih dan terorganisir

---

<a name="keuntungan-refactoring"></a>
## ğŸ Keuntungan Refactoring

### 1. â™»ï¸ **Reusability (Dapat Digunakan Kembali)**

Sekarang kita bisa membuat button atau icon di mana saja:

```javascript
// Membuat button di tempat lain
const deleteButton = createButton('btn-delete');
const editButton = createButton('btn-edit');

// Membuat icon di tempat lain
const checkIcon = createIcon('fa-solid fa-check');
const trashIcon = createIcon('fa-solid fa-trash');
```

### 2. ğŸ”§ **Maintainability (Mudah Dipelihara)**

Jika ingin mengubah cara pembuatan button, cukup ubah satu fungsi:

```javascript
// Sebelum: harus ubah di banyak tempat âŒ
// Setelah: cukup ubah fungsi createButton() âœ…

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  
  // Tambahan fitur baru
  button.setAttribute('aria-label', 'Remove item');
  
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  
  return button;
}
```

### 3. ğŸ§ª **Testability (Mudah Di-test)**

Setiap fungsi kecil lebih mudah untuk di-test:

```javascript
// Test createIcon()
const icon = createIcon('fa-solid fa-check');
console.log(icon.className); // Output: 'fa-solid fa-check'

// Test createButton()
const button = createButton('btn-test');
console.log(button.className); // Output: 'btn-test'
console.log(button.children.length); // Output: 1 (berisi icon)
```

### 4. ğŸ“– **Readability (Mudah Dibaca)**

Kode lebih mudah dipahami oleh developer lain (atau diri sendiri di masa depan):

```javascript
// Jelas apa yang dilakukan setiap fungsi
function createNewItem(item) {
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));
  
  const button = createButton('remove-item btn-link text-red'); // â† Jelas membuat button
  
  li.appendChild(button);
  document.querySelector('.items').appendChild(li);
}
```

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### ğŸ“Œ Poin Penting yang Dipelajari:

1. **Refactoring** adalah mengubah struktur kode tanpa mengubah hasil akhir
2. **Clean Code** membuat kode lebih mudah dibaca dan dipelihara
3. **One Function, One Responsibility** - satu fungsi hanya melakukan satu hal
4. **Reusability** - fungsi yang baik bisa digunakan di banyak tempat
5. **Preference** - tidak ada cara yang 100% benar, yang penting konsisten

### ğŸ’­ Kapan Harus Refactoring?

- âœ… Ketika fungsi terlalu panjang (lebih dari 20 baris)
- âœ… Ketika fungsi melakukan banyak hal
- âœ… Ketika ada kode yang diulang-ulang
- âœ… Ketika kode sulit dipahami

### ğŸš€ Tips untuk Pemula:

1. **Mulai sederhana** - Tidak perlu langsung sempurna
2. **Konsisten** - Pilih satu gaya dan pertahankan
3. **Beri nama yang jelas** - Nama fungsi/variabel harus menjelaskan tugasnya
4. **Jangan takut mengubah** - Refactoring adalah proses normal
5. **Test setelah refactor** - Pastikan hasil masih sama

### ğŸ¯ Challenge untuk Latihan:

Coba buat fungsi-fungsi baru untuk:
- `createListItem()` - membuat elemen `<li>`
- `createInput()` - membuat input yang reusable
- `createImage()` - membuat elemen gambar

---

## ğŸ“š Referensi Tambahan

- **Clean Code** by Robert C. Martin
- **MDN Web Docs** - DOM Manipulation
- **JavaScript.info** - Document and Events

---

> **ğŸ’¡ Catatan Akhir:**  
> Refactoring adalah skill yang akan terus berkembang seiring pengalaman. Jangan khawatir jika kode awal tidak sempurna - yang penting terus belajar dan memperbaiki!

**Happy Coding! ğŸš€**
