# ğŸ“š Dokumentasi Window Events JavaScript untuk Pemula

> **Catatan Pribadi**: Dokumentasi ini berisi pembelajaran tentang event-event pada Window Object di JavaScript

---

## ğŸ“‘ Daftar Isi

- [Pengenalan Window Object](#pengenalan-window-object)
- [Page Loading Events](#page-loading-events)
  - [window.onload](#window-onload)
  - [load Event](#load-event)
  - [DOMContentLoaded Event](#domcontentloaded-event)
  - [Perbedaan load vs DOMContentLoaded](#perbedaan-load-vs-domcontentloaded)
- [Masalah Script di Head](#masalah-script-di-head)
  - [Solusi 1: Menggunakan defer](#solusi-1-menggunakan-defer)
  - [Solusi 2: Event Listeners](#solusi-2-event-listeners)
- [Window Events Lainnya](#window-events-lainnya)
  - [Resize Event](#resize-event)
  - [Scroll Event](#scroll-event)
  - [Focus & Blur Events](#focus-blur-events)
- [Praktek Kode Lengkap](#praktek-kode-lengkap)
- [Tips & Best Practices](#tips-best-practices)

---

<a name="pengenalan-window-object"></a>
## ğŸŒ Pengenalan Window Object

**Window Object** adalah objek global pertama yang dimuat oleh execution context di browser. Window object berisi:
- ğŸ”§ Properties (properti)
- ğŸ¯ Methods (metode)
- ğŸŒŸ APIs
- âš¡ Events (event-event)

Window object adalah "jendela" browser tempat JavaScript berjalan dan berinteraksi dengan halaman web.

---

<a name="page-loading-events"></a>
## â³ Page Loading Events

Page loading events adalah event yang terjadi saat halaman web sedang dimuat. Event ini sangat penting untuk memastikan DOM sudah siap sebelum kita memanipulasinya.

<a name="window-onload"></a>
### ğŸ”´ window.onload (Cara Lama)

Ini adalah cara lama (populer di tahun 2000-an) untuk menunggu halaman selesai dimuat:

```javascript
window.onload = function () {
  document.querySelector('h1').textContent = 'Hello World';
};
```

**Penjelasan:**
- â° Menunggu **seluruh halaman** dimuat
- ğŸ–¼ï¸ Termasuk semua resource seperti gambar, CSS, dll
- âš ï¸ Cara ini sudah **jarang digunakan** sekarang
- ğŸ”§ Disebut "hack" karena langsung mengubah property

---

<a name="load-event"></a>
### âœ… load Event (Cara Modern)

Cara yang lebih modern menggunakan `addEventListener`:

```javascript
window.addEventListener('load', () => {
  console.log('Page Loaded');
});
```

**Penjelasan:**
- ğŸ“¦ Menunggu **semua resource** dimuat (gambar, stylesheet, dll)
- ğŸ¯ Lebih fleksibel dari `window.onload`
- âœ¨ Bisa menambahkan multiple listeners
- ğŸ• Paling lambat dijalankan karena menunggu semua resource

**Kapan Menggunakan:**
- Saat butuh manipulasi setelah semua gambar dimuat
- Untuk perhitungan layout yang butuh ukuran gambar
- Untuk efek visual yang memerlukan semua resource

---

<a name="domcontentloaded-event"></a>
### âš¡ DOMContentLoaded Event (Cara Tercepat)

Event yang paling sering digunakan untuk manipulasi DOM:

```javascript
window.addEventListener('DOMContentLoaded', () => {
  console.log('DOM Loaded');
});
```

**Penjelasan:**
- ğŸš€ Dijalankan segera setelah **DOM selesai di-parse**
- â© **TIDAK menunggu** gambar dan resource lain
- âš¡ Lebih cepat dari `load` event
- ğŸ‘ **Recommended** untuk sebagian besar kasus

**Kapan Menggunakan:**
- Manipulasi DOM standar
- Attach event listeners ke elemen
- Saat tidak perlu menunggu gambar dimuat

---

<a name="perbedaan-load-vs-domcontentloaded"></a>
### ğŸ”„ Perbedaan load vs DOMContentLoaded

Mari lihat urutan eksekusinya:

```javascript
// âœ… Yang ini dijalankan PERTAMA (tidak menunggu event)
console.log('Run me');

// âœ… Yang ini dijalankan KEDUA (DOM sudah siap)
window.addEventListener('DOMContentLoaded', () => {
  console.log('DOM Loaded');
});

// âœ… Yang ini dijalankan TERAKHIR (semua resource sudah dimuat)
window.addEventListener('load', () => {
  console.log('Page Loaded');
});
```

**Output di Console:**
```
Run me
DOM Loaded
Page Loaded
```

**Ilustrasi Timeline:**
```
Script Dijalankan â†’ DOM Di-parse â†’ Gambar Dimuat
      â†“                  â†“              â†“
   Run me          DOMContentLoaded   load
```

---

<a name="masalah-script-di-head"></a>
## âš ï¸ Masalah Script di Head

### ğŸš« Masalah yang Terjadi

Jika script tag diletakkan di `<head>` tanpa handling khusus:

```html
<!-- âŒ MASALAH: Script berjalan sebelum DOM siap -->
<head>
  <script src="script.js"></script>
</head>
<body>
  <h1>Hello</h1>
</body>
```

```javascript
// âŒ ERROR: Cannot set properties of null
document.querySelector('h1').textContent = 'Hello World';
```

**Kenapa Error?**
- Script dijalankan **sebelum** elemen HTML dibuat
- `querySelector` tidak menemukan `<h1>` (hasilnya `null`)
- Tidak bisa set property dari `null`

---

<a name="solusi-1-menggunakan-defer"></a>
### âœ… Solusi 1: Menggunakan defer

Atribut `defer` adalah solusi modern dan paling simpel:

```html
<!-- âœ… SOLUSI: Gunakan defer -->
<head>
  <script src="script.js" defer></script>
</head>
<body>
  <h1>Hello</h1>
</body>
```

```javascript
// âœ… Sekarang bisa langsung akses DOM tanpa event listener!
document.querySelector('h1').innerText = 'Hello World';
```

**Keuntungan defer:**
- ğŸš€ Script di-download **bersamaan** dengan parsing HTML
- â¸ï¸ Eksekusi **ditunda** sampai DOM siap
- ğŸ“¦ Tidak perlu event listener
- ğŸ¯ Script tetap dijalankan **sesuai urutan**

**Kapan Menggunakan:**
- Script butuh akses DOM
- Ingin script di `<head>` tapi aman
- Performa adalah prioritas

---

<a name="solusi-2-event-listeners"></a>
### âœ… Solusi 2: Event Listeners

Cara tradisional dengan event listener:

```javascript
// âœ… Wrap kode dalam event listener
window.addEventListener('DOMContentLoaded', () => {
  document.querySelector('h1').textContent = 'Hello World';
});
```

**Kapan Menggunakan:**
- Tidak bisa ubah HTML (tidak bisa tambah `defer`)
- Butuh kontrol timing yang spesifik
- Legacy code yang sudah pakai cara ini

---

<a name="window-events-lainnya"></a>
## ğŸª Window Events Lainnya

<a name="resize-event"></a>
### ğŸ“ Resize Event

Event yang terjadi saat ukuran window/browser diubah:

```javascript
window.addEventListener('resize', () => {
  document.querySelector('h1').innerText = 
    `Resized to ${window.innerWidth} x ${window.innerHeight}`;
});
```

**Penjelasan:**
- ğŸ“ `window.innerWidth` = lebar window dalam pixel
- ğŸ“ `window.innerHeight` = tinggi window dalam pixel
- ğŸ”„ Event dipicu **setiap kali** ukuran berubah
- âš¡ Bisa dipicu berkali-kali saat user resize

**Property yang Berguna:**
```javascript
window.innerWidth   // Lebar viewport (area konten)
window.innerHeight  // Tinggi viewport (area konten)
window.outerWidth   // Lebar seluruh window (termasuk toolbar)
window.outerHeight  // Tinggi seluruh window (termasuk toolbar)
```

**Use Case:**
- Responsive layout adjustments
- Mengubah tampilan berdasarkan ukuran screen
- Recalculate posisi elemen
- Update charts/graphs

**Contoh Praktis:**
```javascript
window.addEventListener('resize', () => {
  if (window.innerWidth < 768) {
    // Tampilan mobile
    document.body.classList.add('mobile-view');
  } else {
    // Tampilan desktop
    document.body.classList.remove('mobile-view');
  }
});
```

---

<a name="scroll-event"></a>
### ğŸ“œ Scroll Event

Event yang terjadi saat user scroll halaman:

```javascript
window.addEventListener('scroll', () => {
  console.log(`Scrolled: ${window.scrollX} x ${window.scrollY}`);

  if (window.scrollY > 70) {
    document.body.style.backgroundColor = 'black';
    document.body.style.color = 'white';
  } else {
    document.body.style.backgroundColor = 'white';
    document.body.style.color = 'black';
  }
});
```

**Penjelasan:**
- ğŸ“ `window.scrollX` = posisi scroll horizontal (kiri-kanan)
- ğŸ“ `window.scrollY` = posisi scroll vertikal (atas-bawah)
- ğŸ”„ Event dipicu **setiap kali** user scroll
- ğŸ¨ Bisa digunakan untuk efek UI dinamis

**Property yang Berguna:**
```javascript
window.scrollX  // Posisi horizontal (biasanya 0 jika tidak ada scroll horizontal)
window.scrollY  // Posisi vertikal (berapa pixel dari atas)
window.pageXOffset  // Alias untuk scrollX
window.pageYOffset  // Alias untuk scrollY
```

**Use Case:**
- ğŸ¨ Navbar yang berubah saat scroll
- ğŸ“„ Infinite scrolling
- ğŸ”¼ Show/hide "back to top" button
- ğŸ“Š Parallax effects
- ğŸ“ˆ Scroll progress indicator

**Contoh Praktis - Navbar Transparan:**
```javascript
window.addEventListener('scroll', () => {
  const navbar = document.querySelector('.navbar');
  
  if (window.scrollY > 70) {
    // User sudah scroll kebawah
    navbar.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
    navbar.style.boxShadow = '0 2px 5px rgba(0,0,0,0.1)';
  } else {
    // User di posisi atas
    navbar.style.backgroundColor = 'transparent';
    navbar.style.boxShadow = 'none';
  }
});
```

**âš ï¸ Performance Tips:**
Scroll event bisa dipicu berkali-kali per detik! Gunakan **throttle** atau **debounce** untuk performa lebih baik:

```javascript
// Tanpa optimization (âŒ Bisa lambat)
window.addEventListener('scroll', () => {
  // Dijalankan berkali-kali per detik
  console.log('Scrolling...');
});

// Dengan optimization (âœ… Lebih baik)
let scrollTimeout;
window.addEventListener('scroll', () => {
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(() => {
    console.log('Scrolling finished');
  }, 100);
});
```

---

<a name="focus-blur-events"></a>
### ğŸ‘ï¸ Focus & Blur Events

Event yang terjadi saat window mendapat/kehilangan fokus:

```javascript
// Focus = saat user klik di dalam window
window.addEventListener('focus', () => {
  document.querySelectorAll('p').forEach((p) => {
    p.style.color = 'blue';
  });
});

// Blur = saat user klik di luar window
window.addEventListener('blur', () => {
  document.querySelectorAll('p').forEach((p) => {
    p.style.color = 'black';
  });
});
```

**Penjelasan:**
- ğŸ‘ï¸ **focus** = window aktif (user sedang di tab ini)
- ğŸ˜´ **blur** = window tidak aktif (user pindah ke tab/app lain)
- ğŸ¯ Berguna untuk pause/resume functionality
- ğŸ’¾ Bisa untuk auto-save saat user pindah tab

**Use Case:**
- â¸ï¸ Pause video/game saat user pindah tab
- ğŸ’¾ Auto-save data saat blur
- ğŸ”” Ubah title untuk notifikasi
- â° Pause timer/countdown
- ğŸ“Š Track user engagement

**Contoh Praktis - Pause Video:**
```javascript
const video = document.querySelector('video');

window.addEventListener('blur', () => {
  // User pindah tab, pause video
  if (!video.paused) {
    video.pause();
  }
});

window.addEventListener('focus', () => {
  // User kembali, lanjutkan video
  video.play();
});
```

**Contoh Praktis - Notifikasi di Title:**
```javascript
const originalTitle = document.title;

window.addEventListener('blur', () => {
  // User tidak fokus, tampilkan notifikasi
  document.title = 'ğŸ”´ Come back!';
});

window.addEventListener('focus', () => {
  // User kembali fokus
  document.title = originalTitle;
});
```

---

<a name="praktek-kode-lengkap"></a>
## ğŸ’» Praktek Kode Lengkap

### ğŸ“„ File: script.js

```javascript
// ==========================================
// 1ï¸âƒ£ PAGE LOADING EVENTS
// ==========================================

// âŒ Cara Lama (Tidak Recommended)
// window.onload = function () {
//   document.querySelector('h1').textContent = 'Hello World';
// };

// âœ… Load Event - Menunggu SEMUA resource dimuat
window.addEventListener('load', () => {
  console.log('âœ… Page Loaded - Semua resource sudah dimuat');
});

// âœ… DOMContentLoaded - Menunggu DOM siap (Recommended)
window.addEventListener('DOMContentLoaded', () => {
  console.log('âœ… DOM Loaded - DOM sudah siap dimanipulasi');
});

// âš¡ Kode di global scope - Dijalankan LANGSUNG
console.log('âš¡ Run me - Dijalankan pertama kali');

// ==========================================
// 2ï¸âƒ£ RESIZE EVENT
// ==========================================

window.addEventListener('resize', () => {
  // Update H1 dengan ukuran window saat ini
  document.querySelector('h1').innerText = 
    `Resized to ${window.innerWidth} x ${window.innerHeight}`;
});

// ==========================================
// 3ï¸âƒ£ SCROLL EVENT
// ==========================================

window.addEventListener('scroll', () => {
  // Log posisi scroll
  console.log(`Scrolled: ${window.scrollX} x ${window.scrollY}`);

  // Ubah background saat scroll lebih dari 70px
  if (window.scrollY > 70) {
    document.body.style.backgroundColor = 'black';
    document.body.style.color = 'white';
  } else {
    document.body.style.backgroundColor = 'white';
    document.body.style.color = 'black';
  }
});

// ==========================================
// 4ï¸âƒ£ FOCUS & BLUR EVENTS
// ==========================================

// Focus = User klik di dalam window/tab
window.addEventListener('focus', () => {
  // Ubah semua paragraf jadi biru
  document.querySelectorAll('p').forEach((p) => {
    p.style.color = 'blue';
  });
});

// Blur = User klik di luar window/pindah tab
window.addEventListener('blur', () => {
  // Kembalikan warna paragraf ke hitam
  document.querySelectorAll('p').forEach((p) => {
    p.style.color = 'black';
  });
});
```

### ğŸ“„ File: index.html

```html
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Window Events Practice</title>
  
  <!-- âœ… Gunakan defer agar script aman dijalankan -->
  <script src="script.js" defer></script>
</head>
<body>
  <h1>Window Events Demo</h1>
  
  <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
  <p>Quo, voluptatum. Quisquam, voluptates.</p>
  <p>Adipisci, quod. Quisquam, voluptates.</p>
  
  <!-- Konten panjang untuk testing scroll -->
  <div style="height: 2000px;">
    <p>Scroll down untuk melihat efek scroll event!</p>
  </div>
</body>
</html>
```

---

<a name="tips-best-practices"></a>
## ğŸ’¡ Tips & Best Practices

### âœ… DO's (Yang Harus Dilakukan)

1. **Gunakan `defer` untuk script di head**
   ```html
   <script src="script.js" defer></script>
   ```

2. **Gunakan `DOMContentLoaded` untuk manipulasi DOM standar**
   ```javascript
   window.addEventListener('DOMContentLoaded', () => {
     // Manipulasi DOM disini
   });
   ```

3. **Gunakan `load` hanya jika butuh semua resource**
   ```javascript
   window.addEventListener('load', () => {
     // Kode yang butuh gambar/resource dimuat
   });
   ```

4. **Optimize scroll event dengan debounce/throttle**
   ```javascript
   let timeout;
   window.addEventListener('scroll', () => {
     clearTimeout(timeout);
     timeout = setTimeout(() => {
       // Kode optimized
     }, 100);
   });
   ```

### âŒ DON'Ts (Yang Harus Dihindari)

1. **Jangan gunakan `window.onload =` (cara lama)**
   ```javascript
   // âŒ Tidak Recommended
   window.onload = function() { ... };
   ```

2. **Jangan akses DOM sebelum siap tanpa event listener**
   ```javascript
   // âŒ Error jika DOM belum siap
   document.querySelector('h1').textContent = 'Hello';
   ```

3. **Jangan lupa `defer` jika script di head**
   ```html
   <!-- âŒ Bisa error -->
   <head>
     <script src="script.js"></script>
   </head>
   ```

4. **Jangan overuse scroll event tanpa optimization**
   ```javascript
   // âŒ Bisa lambat, triggered berkali-kali per detik
   window.addEventListener('scroll', () => {
     // Heavy computation
   });
   ```

---

## ğŸ“š Rangkuman

| Event | Kapan Triggered | Use Case |
|-------|----------------|----------|
| **load** | Semua resource dimuat | Manipulasi yang butuh gambar |
| **DOMContentLoaded** | DOM siap | Manipulasi DOM standar (Recommended) |
| **resize** | Window di-resize | Responsive adjustments |
| **scroll** | User scroll | Navbar effects, infinite scroll |
| **focus** | Window aktif | Resume functionality |
| **blur** | Window tidak aktif | Pause, auto-save |

---

## ğŸ“ Latihan

Coba buat project dengan fitur:
1. âœ… Navbar yang berubah warna saat scroll > 100px
2. âœ… Display ukuran window saat resize
3. âœ… Pause video saat user pindah tab (blur)
4. âœ… Console log saat DOM dan Page selesai loading

---

## ğŸ”— Resources Tambahan

- ğŸ“– [MDN - Window Events](https://developer.mozilla.org/en-US/docs/Web/API/Window#events)
- ğŸ“– [MDN - DOMContentLoaded](https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event)
- ğŸ“– [MDN - defer attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#attr-defer)

---

**ğŸ“ Catatan Akhir:**
Dokumentasi ini dibuat untuk pembelajaran pribadi. Window events adalah fondasi penting untuk membuat web interaktif dan dinamis. Practice makes perfect! ğŸ’ª

---

*Last updated: 31 Desember 2025*
