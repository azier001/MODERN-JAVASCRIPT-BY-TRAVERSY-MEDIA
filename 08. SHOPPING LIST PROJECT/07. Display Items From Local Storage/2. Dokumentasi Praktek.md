# ğŸ“š Tutorial JavaScript: Menampilkan Data dari Local Storage

> **Dokumentasi Pribadi untuk Pemula** - Belajar langkah demi langkah cara menampilkan data dari Local Storage dan mengorganisir kode dengan lebih baik! ğŸš€

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Persiapan Awal](#persiapan-awal)
- [Langkah 1: Membuat Fungsi Get Items From Storage](#langkah-1)
- [Langkah 2: Menggunakan Fungsi Get Items (DRY Principle)](#langkah-2)
- [Langkah 3: Membuat Fungsi Display Items](#langkah-3)
- [Langkah 4: Event Listener DOM Content Loaded](#langkah-4)
- [Langkah 5: Memperbaiki UI dengan Check UI](#langkah-5)
- [Langkah 6: Membuat Fungsi Init (Initialize)](#langkah-6)
- [Hasil Akhir Kode Lengkap](#hasil-akhir)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara:
- âœ… Mengambil data dari **Local Storage**
- âœ… Menampilkan data tersebut di **halaman web**
- âœ… Menerapkan prinsip **DRY (Don't Repeat Yourself)**
- âœ… Mengorganisir kode dengan fungsi **init()**

**Skenario:** Kamu sudah bisa menambahkan item ke Local Storage, tapi saat halaman di-refresh, item-item tersebut tidak muncul di layar. Kita akan memperbaikinya! ğŸ’ª

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

Pastikan kamu sudah memiliki kode dasar dari tutorial sebelumnya. Berikut struktur kode yang sudah ada:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

// Fungsi-fungsi yang sudah ada:
// - onAddItemSubmit()
// - addItemToDOM()
// - createButton()
// - createIcon()
// - addItemToStorage()
// - removeItem()
// - clearItems()
// - filterItems()
// - checkUI()
```

---

<a name="langkah-1"></a>
## ğŸ“– Langkah 1: Membuat Fungsi Get Items From Storage

### ğŸ¯ Tujuan
Membuat fungsi khusus untuk mengambil data dari Local Storage yang bisa digunakan berkali-kali.

### ğŸ“ Penjelasan
Fungsi ini akan:
1. Cek apakah ada data di Local Storage
2. Jika **tidak ada**, return array kosong `[]`
3. Jika **ada**, return array yang berisi data

### ğŸ’» Kode

Tambahkan fungsi ini **setelah fungsi `addItemToStorage()`**:

```javascript
// âœ¨ FUNGSI BARU: Mengambil items dari Local Storage
function getItemsFromStorage() {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  return itemsFromStorage;
}
```

### ğŸ” Penjelasan Detail

| Baris | Penjelasan |
|-------|------------|
| `let itemsFromStorage;` | Deklarasi variabel untuk menampung data |
| `localStorage.getItem('items') === null` | Cek apakah data 'items' ada di Local Storage |
| `itemsFromStorage = [];` | Jika tidak ada, buat array kosong |
| `JSON.parse(...)` | Jika ada, ubah dari JSON string ke array |
| `return itemsFromStorage;` | Kembalikan hasilnya |

---

<a name="langkah-2"></a>
## â™»ï¸ Langkah 2: Menggunakan Fungsi Get Items (DRY Principle)

### ğŸ¯ Tujuan
Menerapkan prinsip **DRY (Don't Repeat Yourself)** - tidak menulis kode yang sama berulang kali.

### ğŸ“ Penjelasan
Sebelumnya, di fungsi `addItemToStorage()`, kita menulis kode yang sama untuk mengambil data. Sekarang kita ganti dengan fungsi yang sudah dibuat!

### ğŸ’» Perubahan Kode

**âŒ SEBELUM (kode lama):**
```javascript
function addItemToStorage(item) {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}
```

**âœ… SESUDAH (kode baru):**
```javascript
function addItemToStorage(item) {
  // ğŸ”„ PERUBAHAN: Gunakan fungsi getItemsFromStorage()
  const itemsFromStorage = getItemsFromStorage();

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}
```

### âœ¨ Keuntungan
- âœ… Kode lebih **ringkas**
- âœ… Lebih mudah di-**maintain**
- âœ… Jika ada perubahan, cukup edit **1 tempat** saja

---

<a name="langkah-3"></a>
## ğŸ“º Langkah 3: Membuat Fungsi Display Items

### ğŸ¯ Tujuan
Membuat fungsi untuk menampilkan semua item dari Local Storage ke halaman web.

### ğŸ“ Penjelasan
Fungsi ini akan:
1. Ambil semua item dari Local Storage
2. Loop setiap item
3. Tampilkan item tersebut ke DOM (halaman web)

### ğŸ’» Kode

Tambahkan fungsi ini **di paling atas**, sebelum `onAddItemSubmit()`:

```javascript
// âœ¨ FUNGSI BARU: Menampilkan items dari Local Storage
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  
  itemsFromStorage.forEach((item) => {
    addItemToDOM(item);
  });
  
  checkUI();
}
```

### ğŸ” Penjelasan Detail

| Baris | Penjelasan |
|-------|------------|
| `getItemsFromStorage()` | Ambil semua item dari Local Storage |
| `forEach((item) => {...})` | Loop setiap item |
| `addItemToDOM(item)` | Tampilkan item ke halaman |
| `checkUI()` | Update tampilan UI (filter & clear button) |

---

<a name="langkah-4"></a>
## ğŸš€ Langkah 4: Event Listener DOM Content Loaded

### ğŸ¯ Tujuan
Menjalankan fungsi `displayItems()` secara otomatis saat halaman selesai dimuat.

### ğŸ“ Penjelasan
**DOMContentLoaded** adalah event yang terjadi saat seluruh HTML sudah selesai dimuat. Inilah waktu yang tepat untuk menampilkan data dari Local Storage!

### ğŸ’» Kode

Tambahkan event listener ini **di bagian bawah**, sebelum `init()`:

```javascript
// âœ¨ EVENT LISTENER BARU: Jalankan displayItems saat halaman dimuat
document.addEventListener('DOMContentLoaded', displayItems);
```

### ğŸ” Alur Kerja

```
User buka halaman 
    â†“
Browser muat HTML
    â†“
Event 'DOMContentLoaded' triggered
    â†“
Fungsi displayItems() dijalankan
    â†“
Item dari Local Storage muncul di halaman! ğŸ‰
```

### âœ… Testing

1. **Tambahkan item** (misalnya: "Eggs")
2. **Refresh halaman** (F5)
3. **Hasilnya:** Item "Eggs" tetap muncul! âœ¨

---

<a name="langkah-5"></a>
## ğŸ¨ Langkah 5: Memperbaiki UI dengan Check UI

### ğŸ¯ Tujuan
Memastikan tombol **Filter** dan **Clear All** muncul saat ada item di Local Storage.

### ğŸ“ Penjelasan
Tanpa `checkUI()`, filter dan clear button tidak akan muncul saat halaman pertama kali dimuat, walaupun ada item di Local Storage.

### ğŸ’» Kode

**Sudah ditambahkan di Langkah 3!** Pastikan fungsi `displayItems()` punya `checkUI()`:

```javascript
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  itemsFromStorage.forEach((item) => addItemToDOM(item));
  
  // âœ¨ PENTING: Panggil checkUI untuk update tampilan
  checkUI();
}
```

### ğŸ” Apa yang Terjadi?

| Kondisi | Hasil |
|---------|-------|
| **Ada items** di Local Storage | âœ… Filter & Clear button **muncul** |
| **Tidak ada items** | âŒ Filter & Clear button **tersembunyi** |

---

<a name="langkah-6"></a>
## ğŸ—ï¸ Langkah 6: Membuat Fungsi Init (Initialize)

### ğŸ¯ Tujuan
Mengorganisir semua event listener dan inisialisasi dalam satu fungsi, sehingga **global scope** lebih bersih.

### ğŸ“ Penjelasan
Daripada menulis semua event listener di global scope, kita kumpulkan dalam fungsi `init()`. Ini membuat kode lebih **terstruktur** dan **profesional**! ğŸ–ï¸

### ğŸ’» Kode

**âŒ SEBELUM:**
```javascript
// Di global scope (berantakan)
itemForm.addEventListener('submit', onAddItemSubmit);
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);
itemFilter.addEventListener('input', filterItems);
document.addEventListener('DOMContentLoaded', displayItems);
checkUI();
```

**âœ… SESUDAH:**

Tambahkan fungsi `init()` di **paling bawah**:

```javascript
// âœ¨ FUNGSI BARU: Initialize app
function init() {
  // Event Listeners
  itemForm.addEventListener('submit', onAddItemSubmit);
  itemList.addEventListener('click', removeItem);
  clearBtn.addEventListener('click', clearItems);
  itemFilter.addEventListener('input', filterItems);
  document.addEventListener('DOMContentLoaded', displayItems);

  checkUI();
}

// ğŸš€ Jalankan init
init();
```

### âœ¨ Keuntungan

| Sebelum | Sesudah |
|---------|---------|
| âŒ Banyak kode di global scope | âœ… Hanya 1 fungsi di global scope |
| âŒ Sulit dibaca | âœ… Lebih terorganisir |
| âŒ Sulit di-maintain | âœ… Mudah di-maintain |

---

<a name="hasil-akhir"></a>
## ğŸ‰ Hasil Akhir Kode Lengkap

Berikut adalah kode `script.js` lengkap setelah semua perubahan:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

// âœ¨ FUNGSI BARU
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  itemsFromStorage.forEach((item) => addItemToDOM(item));
  checkUI();
}

function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);

  // Add item to local storage
  addItemToStorage(newItem);

  checkUI();

  itemInput.value = '';
}

function addItemToDOM(item) {
  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

function addItemToStorage(item) {
  // ğŸ”„ PERUBAHAN: Gunakan fungsi getItemsFromStorage
  const itemsFromStorage = getItemsFromStorage();

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}

// âœ¨ FUNGSI BARU
function getItemsFromStorage() {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  return itemsFromStorage;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI();
}

function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}

function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// âœ¨ FUNGSI BARU: Initialize app
function init() {
  // Event Listeners
  itemForm.addEventListener('submit', onAddItemSubmit);
  itemList.addEventListener('click', removeItem);
  clearBtn.addEventListener('click', clearItems);
  itemFilter.addEventListener('input', filterItems);
  document.addEventListener('DOMContentLoaded', displayItems);

  checkUI();
}

// ğŸš€ Jalankan aplikasi
init();
```

---

<a name="kesimpulan"></a>
## ğŸ¯ Kesimpulan

### âœ… Apa yang Sudah Kita Pelajari?

1. **Membuat fungsi `getItemsFromStorage()`** ğŸ“¦
   - Mengambil data dari Local Storage
   - Bisa digunakan berkali-kali (reusable)

2. **Menerapkan DRY Principle** â™»ï¸
   - Tidak menulis kode yang sama berulang kali
   - Kode lebih efisien dan mudah di-maintain

3. **Membuat fungsi `displayItems()`** ğŸ“º
   - Menampilkan semua item saat halaman dimuat
   - Menggunakan `forEach()` untuk loop

4. **Event `DOMContentLoaded`** ğŸš€
   - Jalankan kode saat HTML selesai dimuat
   - Waktu yang tepat untuk load data

5. **Fungsi `init()`** ğŸ—ï¸
   - Mengorganisir kode dengan lebih baik
   - Global scope lebih bersih

### ğŸ› Masalah yang Masih Ada

âŒ **Belum bisa delete item dari Local Storage** - Item hanya terhapus dari tampilan (DOM), tapi masih ada di Local Storage. Ini akan diperbaiki di tutorial selanjutnya!

### ğŸš€ Next Steps

Di tutorial berikutnya, kita akan belajar:
- ğŸ—‘ï¸ Menghapus item dari Local Storage
- ğŸ§¹ Clear all items dari Local Storage
- ğŸ”„ Sinkronisasi DOM dengan Local Storage

---

### ğŸ“š Catatan Penting

> **ğŸ’¡ Tips:** Selalu cek **Developer Tools** > **Application** > **Local Storage** untuk melihat data yang tersimpan!

> **âš ï¸ Perhatian:** Ketika kamu klik tombol delete, item akan hilang dari layar, tapi jika di-refresh akan muncul lagi karena masih ada di Local Storage.

---

**Happy Coding! ğŸ‰ğŸ’»**

*Dokumentasi ini dibuat untuk pembelajaran pribadi*
