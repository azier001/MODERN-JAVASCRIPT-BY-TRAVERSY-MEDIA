# ğŸ“š Dokumentasi Shopping List App
## Menampilkan Items dari Local Storage

---

## ğŸ“‘ Daftar Isi

- [Pendahuluan](#pendahuluan)
- [Apa yang Akan Kita Pelajari?](#apa-yang-akan-kita-pelajari)
- [Membuat Fungsi Get Items From Storage](#membuat-fungsi-get-items-from-storage)
- [Penerapan Prinsip DRY (Don't Repeat Yourself)](#penerapan-prinsip-dry)
- [Membuat Fungsi Display Items](#membuat-fungsi-display-items)
- [Menambahkan Event Listener DOMContentLoaded](#menambahkan-event-listener-domcontentloaded)
- [Perbaikan UI dengan Check UI](#perbaikan-ui-dengan-check-ui)
- [Membuat Fungsi Init untuk Inisialisasi App](#membuat-fungsi-init)
- [Hasil Akhir Kode](#hasil-akhir-kode)
- [Masalah yang Masih Ada](#masalah-yang-masih-ada)
- [Kesimpulan](#kesimpulan)

---

<a name="pendahuluan"></a>
## ğŸ¯ Pendahuluan

Setelah kita berhasil **menambahkan items ke Local Storage**, sekarang kita perlu **menampilkan items tersebut di halaman** ketika halaman di-reload. 

Bayangkan kalau kita sudah menambahkan "Juice" dan "Milk" ke dalam daftar belanja, lalu kita refresh halaman, tentunya kita ingin melihat items tersebut muncul kembali kan? Nah, di dokumentasi ini kita akan belajar caranya! ğŸš€

---

<a name="apa-yang-akan-kita-pelajari"></a>
## ğŸ“– Apa yang Akan Kita Pelajari?

Dalam dokumentasi ini, kita akan belajar:

1. âœ… Membuat fungsi untuk **mengambil items dari Local Storage**
2. âœ… Menerapkan prinsip **DRY (Don't Repeat Yourself)** untuk kode yang lebih efisien
3. âœ… Menampilkan items ketika **halaman pertama kali di-load**
4. âœ… Mengorganisir kode dengan fungsi **init()** agar lebih rapi

---

<a name="membuat-fungsi-get-items-from-storage"></a>
## ğŸ” Membuat Fungsi Get Items From Storage

### ğŸ“Œ Mengapa Kita Perlu Fungsi Ini?

Kita akan menggunakan fungsi ini di **beberapa tempat berbeda**, jadi lebih baik kita buat fungsi terpisah agar tidak menulis kode yang sama berulang kali.

### ğŸ’» Kode Fungsi

Tambahkan fungsi ini setelah fungsi `addItemToStorage()`:

```javascript
// âœ¨ FUNGSI BARU DITAMBAHKAN
function getItemsFromStorage() {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  return itemsFromStorage;
}
```

### ğŸ” Penjelasan Kode:

1. **`let itemsFromStorage;`** - Membuat variabel untuk menyimpan items
2. **`if (localStorage.getItem('items') === null)`** - Cek apakah Local Storage kosong
3. **`itemsFromStorage = [];`** - Jika kosong, buat array kosong
4. **`itemsFromStorage = JSON.parse(localStorage.getItem('items'));`** - Jika ada isi, ambil dan ubah dari JSON string ke array
5. **`return itemsFromStorage;`** - Kembalikan array yang berisi items

> ğŸ’¡ **Tips:** Fungsi ini akan mengembalikan array kosong `[]` jika belum ada items, atau array berisi items jika sudah ada.

---

<a name="penerapan-prinsip-dry"></a>
## â™»ï¸ Penerapan Prinsip DRY (Don't Repeat Yourself)

### ğŸ“Œ Apa itu Prinsip DRY?

**DRY (Don't Repeat Yourself)** adalah prinsip programming yang mengatakan: "Jangan menulis kode yang sama berulang kali". Kalau ada kode yang sama, lebih baik buat jadi **fungsi** yang bisa dipanggil berkali-kali.

### ğŸ”„ Refactoring Fungsi addItemToStorage()

Sekarang kita punya fungsi `getItemsFromStorage()`, jadi kita bisa **menyederhanakan** fungsi `addItemToStorage()`:

**âŒ SEBELUM (Kode Lama):**

```javascript
function addItemToStorage(item) {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  itemsFromStorage.push(item);
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}
```

**âœ… SESUDAH (Kode Baru):**

```javascript
function addItemToStorage(item) {
  // ğŸ”„ DIUBAH: Menggunakan fungsi getItemsFromStorage()
  const itemsFromStorage = getItemsFromStorage();

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}
```

### ğŸ‰ Keuntungan:

- Kode lebih **pendek** dan **mudah dibaca**
- Tidak ada **duplikasi kode**
- Jika ada perubahan, cukup ubah di **satu tempat** saja

---

<a name="membuat-fungsi-display-items"></a>
## ğŸ“º Membuat Fungsi Display Items

### ğŸ“Œ Apa Fungsi Display Items?

Fungsi ini akan **menampilkan semua items** dari Local Storage ke halaman ketika halaman pertama kali dibuka.

### ğŸ’» Kode Fungsi

Tambahkan fungsi ini di **bagian paling atas** (sebelum `onAddItemSubmit`):

```javascript
// âœ¨ FUNGSI BARU DITAMBAHKAN
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  itemsFromStorage.forEach((item) => addItemToDOM(item));
  checkUI();
}
```

### ğŸ” Penjelasan Kode:

1. **`const itemsFromStorage = getItemsFromStorage();`** - Ambil semua items dari Local Storage
2. **`itemsFromStorage.forEach((item) => addItemToDOM(item));`** - Loop setiap item dan tambahkan ke DOM
3. **`checkUI();`** - Cek UI untuk menampilkan/menyembunyikan tombol filter dan clear

> ğŸ’¡ **Catatan:** `forEach()` adalah method untuk loop array yang lebih modern dan mudah dibaca

---

<a name="menambahkan-event-listener-domcontentloaded"></a>
## ğŸ¬ Menambahkan Event Listener DOMContentLoaded

### ğŸ“Œ Apa itu DOMContentLoaded?

**DOMContentLoaded** adalah event yang terjadi ketika **halaman selesai dimuat**. Kita akan menjalankan fungsi `displayItems()` ketika event ini terjadi.

### ğŸ’» Kode Event Listener

Tambahkan kode ini di bagian bawah, di dalam fungsi `init()` (kita akan bahas fungsi `init()` nanti):

```javascript
// âœ¨ EVENT LISTENER BARU DITAMBAHKAN
document.addEventListener('DOMContentLoaded', displayItems);
```

### ğŸ” Penjelasan Kode:

- **`document`** - Objek yang merepresentasikan seluruh halaman HTML
- **`addEventListener('DOMContentLoaded', displayItems)`** - Ketika halaman selesai dimuat, jalankan fungsi `displayItems()`

### ğŸ§ª Testing:

1. Buka halaman di browser
2. Tambahkan item baru, misalnya "Eggs"
3. **Refresh halaman** (F5)
4. Items yang sudah ada di Local Storage akan **muncul kembali**! ğŸ‰

---

<a name="perbaikan-ui-dengan-check-ui"></a>
## ğŸ¨ Perbaikan UI dengan Check UI

### ğŸ“Œ Masalah yang Terjadi

Ketika kita menampilkan items dari Local Storage, tombol **Filter** dan **Clear All** tidak muncul. Kenapa? Karena kita belum memanggil fungsi `checkUI()`.

### âœ… Solusi

Tambahkan `checkUI()` di akhir fungsi `displayItems()`:

```javascript
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  itemsFromStorage.forEach((item) => addItemToDOM(item));
  // âœ¨ DITAMBAHKAN: Panggil checkUI agar filter dan clear button muncul
  checkUI();
}
```

### ğŸ‰ Hasil:

Sekarang ketika ada items di halaman, tombol **Filter Items** dan **Clear All** akan **muncul otomatis**! âœ¨

---

<a name="membuat-fungsi-init"></a>
## ğŸš€ Membuat Fungsi Init untuk Inisialisasi App

### ğŸ“Œ Mengapa Perlu Fungsi Init?

Daripada menulis semua event listener dan kode inisialisasi di **global scope** (di luar fungsi), lebih baik kita buat fungsi `init()` yang berisi semua kode inisialisasi.

### ğŸ’¡ Keuntungan:

- Kode lebih **terorganisir**
- Global scope lebih **bersih**
- Mudah untuk **maintenance**

### ğŸ’» Kode Fungsi Init

Tambahkan di bagian paling bawah:

```javascript
// âœ¨ FUNGSI INIT DITAMBAHKAN
// Initialize app
function init() {
  // Event Listeners
  itemForm.addEventListener('submit', onAddItemSubmit);
  itemList.addEventListener('click', removeItem);
  clearBtn.addEventListener('click', clearItems);
  itemFilter.addEventListener('input', filterItems);
  document.addEventListener('DOMContentLoaded', displayItems);

  checkUI();
}

// ğŸ¯ Panggil fungsi init
init();
```

### ğŸ” Penjelasan:

1. **Semua event listeners** dikumpulkan dalam satu fungsi
2. **`checkUI()`** dipanggil untuk cek kondisi awal UI
3. **`init()`** dipanggil di akhir untuk menjalankan semua inisialisasi

> ğŸ’¡ **Best Practice:** Hanya ada **satu pemanggilan fungsi** di global scope, yaitu `init()`. Ini membuat kode lebih professional!

---

<a name="hasil-akhir-kode"></a>
## ğŸ“ Hasil Akhir Kode

Berikut adalah kode lengkap `script.js` setelah semua perubahan:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

// âœ¨ FUNGSI BARU: Display items ketika halaman load
function displayItems() {
  const itemsFromStorage = getItemsFromStorage();
  itemsFromStorage.forEach((item) => addItemToDOM(item));
  checkUI();
}

function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);

  // Add item to local storage
  addItemToStorage(newItem);

  checkUI();

  itemInput.value = '';
}

function addItemToDOM(item) {
  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

// ğŸ”„ DIUBAH: Menggunakan getItemsFromStorage()
function addItemToStorage(item) {
  const itemsFromStorage = getItemsFromStorage();

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}

// âœ¨ FUNGSI BARU: Mengambil items dari Local Storage
function getItemsFromStorage() {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  return itemsFromStorage;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI();
}

function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}

function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// âœ¨ FUNGSI BARU: Initialize app
function init() {
  // Event Listeners
  itemForm.addEventListener('submit', onAddItemSubmit);
  itemList.addEventListener('click', removeItem);
  clearBtn.addEventListener('click', clearItems);
  itemFilter.addEventListener('input', filterItems);
  document.addEventListener('DOMContentLoaded', displayItems);

  checkUI();
}

init();
```

---

<a name="masalah-yang-masih-ada"></a>
## âš ï¸ Masalah yang Masih Ada

### ğŸ”´ Hapus Item Belum Sempurna

Saat ini, ketika kita klik tombol **X** untuk menghapus item:

- Item **terhapus dari DOM** (tampilan halaman) âœ…
- Tapi item **BELUM terhapus dari Local Storage** âŒ

Jadi kalau kita **refresh halaman**, item yang sudah kita hapus akan **muncul lagi**! ğŸ˜±

### ğŸ“Œ Solusi

Ini akan kita perbaiki di dokumentasi selanjutnya dengan menambahkan fungsi untuk **menghapus item dari Local Storage**.

---

<a name="kesimpulan"></a>
## ğŸŠ Kesimpulan

Selamat! Kamu sudah belajar:

1. âœ… Membuat fungsi `getItemsFromStorage()` untuk mengambil items
2. âœ… Menerapkan prinsip **DRY** untuk kode yang lebih efisien
3. âœ… Membuat fungsi `displayItems()` untuk menampilkan items ketika halaman load
4. âœ… Menggunakan event **DOMContentLoaded** untuk menjalankan kode saat halaman dimuat
5. âœ… Mengorganisir kode dengan fungsi `init()`

### ğŸ¯ Next Step

Di dokumentasi selanjutnya, kita akan belajar cara **menghapus item dari Local Storage** agar data benar-benar terhapus permanen! ğŸš€

---

## ğŸ“š Catatan Tambahan

### ğŸ”‘ Key Takeaways:

- **DRY (Don't Repeat Yourself)** = Jangan tulis kode yang sama berkali-kali
- **`forEach()`** = Loop array dengan cara yang lebih modern
- **`DOMContentLoaded`** = Event ketika halaman selesai dimuat
- **`init()`** = Fungsi untuk inisialisasi semua event listener

### ğŸ’ª Tips Belajar:

- Coba hapus fungsi `checkUI()` dari `displayItems()`, lihat apa yang terjadi
- Tambahkan `console.log()` di fungsi `displayItems()` untuk melihat items yang diambil
- Eksperimen dengan menambahkan lebih banyak items dan lihat hasilnya

**Happy Coding! ğŸš€âœ¨**

---

*Dokumentasi dibuat untuk pembelajaran pribadi - Step by Step untuk Pemula* ğŸ’™
