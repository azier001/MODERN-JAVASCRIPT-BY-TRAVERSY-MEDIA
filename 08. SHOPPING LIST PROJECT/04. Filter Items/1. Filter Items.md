# ğŸ” Dokumentasi Filter Items - Shopping List App

> **Dokumentasi Pribadi untuk Pemula** - Belajar membuat fitur filter/pencarian item secara real-time

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Persiapan Awal](#persiapan-awal)
- [Menambahkan Event Listener](#menambahkan-event-listener)
- [Membuat Function filterItems](#membuat-function-filteritems)
  - [Mengambil Text Input](#mengambil-text-input)
  - [Mengubah ke Lowercase](#mengubah-ke-lowercase)
  - [Mengambil List Items](#mengambil-list-items)
  - [Looping Items dengan forEach](#looping-items-dengan-foreach)
  - [Mengambil Nama Item](#mengambil-nama-item)
  - [Membandingkan dengan indexOf](#membandingkan-dengan-indexof)
  - [Menampilkan/Menyembunyikan Item](#menampilkan-menyembunyikan-item)
- [Testing Filter](#testing-filter)
- [Kode Lengkap](#kode-lengkap)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Pada dokumentasi ini, kita akan belajar membuat **fitur filter/pencarian** untuk Shopping List App. Fitur ini memungkinkan user untuk mengetik di input filter dan secara real-time akan menampilkan item yang sesuai dengan pencarian.

### âœ¨ Fitur yang Akan Dibuat:
- âŒ¨ï¸ Filter item saat user mengetik
- ğŸ”„ Real-time filtering (tidak perlu submit)
- ğŸ” Pencarian case-insensitive (tidak peduli huruf besar/kecil)
- ğŸ¯ Menampilkan item yang cocok, menyembunyikan yang tidak cocok

---

<a name="persiapan-awal"></a>
## ğŸ› ï¸ Persiapan Awal

Sebelum membuat filter function, kita perlu memiliki beberapa item untuk di-filter. Untuk pembelajaran, kita akan menggunakan **static items** (item yang sudah di-hardcode) agar tidak perlu menambahkan item berulang-ulang.

### ğŸ“ Contoh Items untuk Testing:
```javascript
// Items yang akan kita gunakan untuk testing:
// - Apples
// - Orange Juice
// - Eggs
// - Milk
// - Eggnog
```

> **ğŸ’¡ Catatan:** Dalam video, instruktur menggunakan static items sementara karena belum ada localStorage. Ini memudahkan proses testing tanpa harus menambah item terus-menerus.

---

<a name="menambahkan-event-listener"></a>
## ğŸ§ Menambahkan Event Listener

Langkah pertama adalah menambahkan event listener pada **input filter**. Kita ingin function dipanggil setiap kali user mengetik di input field.

### ğŸ“Œ Memilih Event Type

Ada beberapa pilihan event yang bisa digunakan:
- `keyup` - dipanggil saat tombol keyboard dilepas
- `keydown` - dipanggil saat tombol keyboard ditekan
- `input` - dipanggil saat ada perubahan input (termasuk paste, cut, dll)

Kita akan menggunakan **`input` event** karena lebih comprehensive (menangkap semua jenis input).

### ğŸ’» Kode Event Listener:

```javascript
itemFilter.addEventListener('input', filterItems);
```

**Penjelasan:**
- `itemFilter` - variable yang menyimpan element dengan ID `filter`
- `addEventListener('input', ...)` - mendengarkan event input
- `filterItems` - nama function yang akan dipanggil saat event terjadi

---

<a name="membuat-function-filteritems"></a>
## âš™ï¸ Membuat Function filterItems

Sekarang kita akan membuat function `filterItems` yang akan melakukan filtering. Function ini akan ditempatkan **di atas function checkUI**.

```javascript
function filterItems(e) {
  // Kode akan kita isi bertahap
}
```

**Parameter `e`:** adalah **event object** yang berisi informasi tentang event yang terjadi.

---

<a name="mengambil-text-input"></a>
### ğŸ“¥ Mengambil Text Input

Langkah pertama dalam function adalah mengambil text yang diketik user.

```javascript
const text = e.target.value;
```

**Penjelasan:**
- `e.target` - mengacu pada **element yang memicu event** (dalam hal ini, input filter)
- `.value` - property untuk mendapatkan **nilai dari input field**
- Hasil disimpan dalam variable `text`

### ğŸ§ª Testing dengan Console.log:

```javascript
const text = e.target.value;
console.log(text);
```

Jika kita mengetik "abc" di input filter, console akan menampilkan:
```
a
ab
abc
```

> **ğŸ’¡ Catatan:** Console.log akan dipanggil setiap kali ada perubahan input karena event listener kita.

---

<a name="mengubah-ke-lowercase"></a>
### ğŸ”¡ Mengubah ke Lowercase

Untuk memastikan pencarian **case-insensitive** (tidak peduli huruf besar/kecil), kita perlu mengubah text menjadi lowercase.

```javascript
const text = e.target.value.toLowerCase();
```

**Mengapa perlu lowercase?**
- User bisa mengetik "EGGS", "Eggs", atau "eggs"
- Item di list juga bisa memiliki kapitalisasi berbeda
- Dengan mengubah semuanya ke lowercase, kita bisa membandingkan dengan mudah

### ğŸ“Š Contoh:

```javascript
// Input user: "APPLE"
// Setelah toLowerCase(): "apple"

// Item di list: "Apples"
// Setelah toLowerCase(): "apples"

// Sekarang bisa dibandingkan dengan mudah! âœ…
```

---

<a name="mengambil-list-items"></a>
### ğŸ“‹ Mengambil List Items

Selanjutnya, kita perlu mengambil semua `<li>` items dari shopping list.

```javascript
const items = itemList.querySelectorAll('li');
```

**Penjelasan:**
- `itemList` - reference ke element `<ul>` dengan ID `item-list`
- `.querySelectorAll('li')` - mengambil **semua element `<li>`**
- Hasilnya adalah **NodeList** (seperti array, tapi spesial)

> **ğŸ“š Catatan tentang NodeList vs HTML Collection:**
> - `querySelectorAll` mengembalikan **NodeList** â†’ bisa pakai `.forEach()`
> - `getElementsByTagName` mengembalikan **HTML Collection** â†’ harus diubah ke array dulu dengan `Array.from()`

---

<a name="looping-items-dengan-foreach"></a>
### ğŸ”„ Looping Items dengan forEach

Setelah mendapatkan semua items, kita perlu melakukan loop untuk mengecek setiap item.

```javascript
items.forEach((item) => {
  // Kode untuk setiap item
});
```

**Penjelasan:**
- `.forEach()` - method untuk melakukan iterasi pada setiap element
- `item` - parameter yang merepresentasikan setiap `<li>` element
- Function di dalam akan dijalankan untuk setiap item

### ğŸ§ª Testing forEach:

```javascript
items.forEach((item) => {
  console.log(item);
});
```

Output di console (saat mengetik "a"):
```html
<li>Apples <button>...</button></li>
<li>Orange Juice <button>...</button></li>
<li>Eggs <button>...</button></li>
<li>Milk <button>...</button></li>
<li>Eggnog <button>...</button></li>
```

---

<a name="mengambil-nama-item"></a>
### ğŸ“ Mengambil Nama Item

Dari setiap `<li>`, kita perlu mengambil **nama item** (text-nya saja, bukan button atau element lain).

```javascript
const itemName = item.firstChild.textContent.toLowerCase();
```

**Penjelasan Step by Step:**

1. **`item`** - element `<li>` saat ini
2. **`.firstChild`** - mengambil **child pertama** dari `<li>`
3. **`.textContent`** - mengambil **text content** dari node
4. **`.toLowerCase()`** - mengubah ke lowercase untuk perbandingan

### ğŸ—ï¸ Struktur HTML yang Diakses:

```html
<li>
  Apples          <!-- firstChild (text node) -->
  <button>...</button>
</li>
```

**Mengapa pakai `firstChild`?**
- Child pertama dari `<li>` adalah **text node** yang berisi nama item
- Child kedua adalah `<button>` untuk remove

### ğŸ§ª Testing itemName:

```javascript
items.forEach((item) => {
  const itemName = item.firstChild.textContent.toLowerCase();
  console.log(itemName);
});
```

Output:
```
apples
orange juice
eggs
milk
eggnog
```

> **âœ… Perfect!** Sekarang kita punya nama item dalam lowercase yang siap dibandingkan.

---

<a name="membandingkan-dengan-indexof"></a>
### ğŸ” Membandingkan dengan indexOf

Sekarang kita perlu membandingkan `text` (yang diketik user) dengan `itemName` (nama item).

```javascript
if (itemName.indexOf(text) != -1) {
  // Item cocok dengan pencarian
} else {
  // Item tidak cocok
}
```

**Penjelasan Method indexOf:**

`indexOf()` adalah method string yang mencari substring di dalam string.

- **Return value:** index dimana substring ditemukan
- **Jika tidak ditemukan:** return `-1`

### ğŸ“Š Contoh Cara Kerja indexOf:

```javascript
// Contoh 1: Substring ditemukan
"apples".indexOf("app")  // Return: 0 (ditemukan di index 0)
"apples".indexOf("le")   // Return: 3 (ditemukan di index 3)
"apples".indexOf("a")    // Return: 0 (ditemukan di index 0)

// Contoh 2: Substring tidak ditemukan
"apples".indexOf("z")    // Return: -1 (tidak ditemukan)
"apples".indexOf("xyz")  // Return: -1 (tidak ditemukan)
```

### âœ¨ Keuntungan indexOf:

- âœ… Tidak harus match dari awal string
- âœ… Bisa match di tengah atau akhir string
- âœ… Cocok untuk filter yang fleksibel

### ğŸ¯ Contoh Filtering:

```javascript
// User mengetik "a"
"apples".indexOf("a")       // 0 (bukan -1) âœ… MATCH
"orange juice".indexOf("a") // 2 (bukan -1) âœ… MATCH
"eggs".indexOf("a")         // -1 âŒ TIDAK MATCH
"milk".indexOf("a")         // -1 âŒ TIDAK MATCH
"eggnog".indexOf("a")       // -1 âŒ TIDAK MATCH

// User mengetik "egg"
"eggs".indexOf("egg")       // 0 âœ… MATCH
"eggnog".indexOf("egg")     // 0 âœ… MATCH
"apples".indexOf("egg")     // -1 âŒ TIDAK MATCH
```

### ğŸ§ª Testing dengan Console.log:

```javascript
if (itemName.indexOf(text) != -1) {
  console.log('true');
} else {
  console.log('false');
}
```

**Test 1:** Mengetik "a"
```
true   // apples
true   // orange juice
false  // eggs
false  // milk
false  // eggnog
```

**Test 2:** Mengetik "p"
```
true   // apples (huruf 'p' ada di apples)
false  // orange juice
false  // eggs
false  // milk
false  // eggnog
```

**Test 3:** Mengetik "egg"
```
false  // apples
false  // orange juice
true   // eggs
false  // milk
true   // eggnog
```

---

<a name="menampilkan-menyembunyikan-item"></a>
### ğŸ‘ï¸ Menampilkan/Menyembunyikan Item

Sekarang, alih-alih console.log, kita akan **menampilkan item yang match** dan **menyembunyikan item yang tidak match** menggunakan CSS `display` property.

```javascript
if (itemName.indexOf(text) != -1) {
  item.style.display = 'flex';
} else {
  item.style.display = 'none';
}
```

**Penjelasan:**

1. **`item.style.display = 'flex'`**
   - Set display ke `flex` untuk **menampilkan** item
   - Kita pakai `flex` (bukan `block`) karena item secara default menggunakan flexbox

2. **`item.style.display = 'none'`**
   - Set display ke `none` untuk **menyembunyikan** item
   - Item tidak akan terlihat di halaman

### ğŸ¨ Mengapa Pakai 'flex' dan Bukan 'block'?

Jika kita inspect element `<li>` di browser DevTools, kita akan melihat:

```css
li {
  display: flex; /* Default styling */
}
```

Item list menggunakan flexbox untuk layout (text dan button sejajar horizontal). Jadi kita harus mengembalikan ke `flex`, bukan `block`.

### âœ… Function filterItems Lengkap:

```javascript
function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}
```

---

<a name="testing-filter"></a>
## ğŸ§ª Testing Filter

Sekarang saatnya testing fitur filter yang sudah kita buat!

### Test Case 1: Mengetik "a"

**Input:** `a`

**Hasil:**
- âœ… **Apples** - ditampilkan (ada huruf 'a')
- âœ… **Orange Juice** - ditampilkan (ada huruf 'a')
- âŒ **Eggs** - disembunyikan
- âŒ **Milk** - disembunyikan
- âŒ **Eggnog** - disembunyikan

---

### Test Case 2: Mengetik "ap"

**Input:** `ap`

**Hasil:**
- âœ… **Apples** - ditampilkan (ada substring 'ap')
- âŒ **Orange Juice** - disembunyikan
- âŒ **Eggs** - disembunyikan
- âŒ **Milk** - disembunyikan
- âŒ **Eggnog** - disembunyikan

---

### Test Case 3: Mengetik "apw"

**Input:** `apw`

**Hasil:**
- âŒ Semua item disembunyikan (tidak ada yang match dengan 'apw')

---

### Test Case 4: Mengetik "egg"

**Input:** `egg`

**Hasil:**
- âŒ **Apples** - disembunyikan
- âŒ **Orange Juice** - disembunyikan
- âœ… **Eggs** - ditampilkan (ada substring 'egg')
- âŒ **Milk** - disembunyikan
- âœ… **Eggnog** - ditampilkan (ada substring 'egg')

---

### Test Case 5: Mengetik "EGGS" (uppercase)

**Input:** `EGGS`

**Hasil:**
- âœ… **Eggs** tetap match karena kita sudah convert ke lowercase! ğŸ‰

---

### âœ¨ Keuntungan Filter Real-time:

- ğŸš€ **Instant feedback** - hasil muncul langsung saat mengetik
- âš¡ **No submit button needed** - lebih user-friendly
- ğŸ¯ **Dynamic filtering** - hasil update setiap keystroke
- ğŸ” **Flexible search** - bisa match di awal, tengah, atau akhir kata

---

<a name="kode-lengkap"></a>
## ğŸ“¦ Kode Lengkap

Berikut adalah **kode lengkap** untuk `script.js` dengan fitur filter yang sudah selesai:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

function addItem(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(newItem));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);

  checkUI();

  itemInput.value = '';
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI();
}

// â­ FUNCTION FILTER ITEMS - FITUR BARU! â­
function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}

function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// Event Listeners
itemForm.addEventListener('submit', addItem);
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);
itemFilter.addEventListener('input', filterItems); // â­ EVENT LISTENER BARU!

checkUI();
```

---

<a name="kesimpulan"></a>
## ğŸ“ Kesimpulan

### ğŸ“š Apa yang Sudah Dipelajari:

1. âœ… **Event Listener `input`** - untuk menangkap setiap perubahan pada input field
2. âœ… **Event Object (`e`)** - mengakses informasi tentang event yang terjadi
3. âœ… **`e.target.value`** - mengambil nilai dari input field
4. âœ… **`.toLowerCase()`** - membuat pencarian case-insensitive
5. âœ… **`.querySelectorAll()`** - mengambil semua element yang match selector
6. âœ… **`.forEach()`** - melakukan loop pada NodeList
7. âœ… **`.firstChild`** - mengakses child pertama dari element
8. âœ… **`.textContent`** - mengambil text dari node
9. âœ… **`.indexOf()`** - mencari substring dalam string
10. âœ… **`style.display`** - mengubah CSS display property untuk show/hide element

---

### ğŸ¯ Konsep Penting:

#### ğŸ”‘ Real-time Filtering
Filter bekerja **real-time** karena:
- Event listener `input` dipanggil setiap perubahan
- Function `filterItems` dijalankan setiap keystroke
- Tidak perlu tombol submit atau refresh

#### ğŸ”‘ Case-Insensitive Search
Pencarian tidak peduli huruf besar/kecil karena:
- Input user di-convert ke lowercase
- Nama item di-convert ke lowercase
- Perbandingan dilakukan pada lowercase strings

#### ğŸ”‘ Flexible Matching
indexOf memungkinkan matching fleksibel:
- Bisa match di awal kata: "app" match dengan "apples"
- Bisa match di tengah: "range" match dengan "orange juice"
- Bisa match di akhir: "nog" match dengan "eggnog"

---

### ğŸš€ Pengembangan Selanjutnya:

Fitur yang bisa ditambahkan:
- ğŸ”„ Highlight text yang match
- ğŸ“Š Counter jumlah hasil pencarian
- âš¡ Debouncing untuk performa lebih baik
- ğŸ¨ Animasi saat item muncul/hilang
- ğŸ” Pencarian dengan regex untuk pattern lebih complex

---

### ğŸ’¡ Tips & Best Practices:

1. **Gunakan `const` untuk variable yang tidak berubah**
   ```javascript
   const text = e.target.value.toLowerCase();
   const itemName = item.firstChild.textContent.toLowerCase();
   ```

2. **Lowercase untuk perbandingan string**
   - Selalu convert ke lowercase saat membandingkan string
   - Membuat aplikasi lebih user-friendly

3. **Pilih event yang tepat**
   - `input` event lebih comprehensive daripada `keyup`/`keydown`
   - Menangkap semua jenis input (typing, paste, cut, dll)

4. **Gunakan `display: flex` jika default-nya flex**
   - Check element styling di DevTools
   - Kembalikan ke display value yang sesuai

5. **forEach pada NodeList**
   - `querySelectorAll` return NodeList yang bisa langsung di-forEach
   - Tidak perlu convert ke array

---

### ğŸ‰ Selamat!

Anda telah berhasil membuat **fitur filter/search real-time** untuk Shopping List App! Fitur ini sangat berguna untuk aplikasi yang memiliki banyak items dan user perlu mencari item tertentu dengan cepat.

**Next Step:** Pada pembelajaran selanjutnya, kita akan belajar tentang **localStorage** untuk menyimpan items secara permanen di browser! ğŸ’¾

---

> ğŸ“ **Catatan:** Dokumentasi ini dibuat untuk pembelajaran pribadi. Praktikkan kode ini berulang kali agar lebih memahami konsepnya!

**Happy Coding! ğŸš€âœ¨**
