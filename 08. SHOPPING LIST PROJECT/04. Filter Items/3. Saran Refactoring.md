# ğŸ“š Dokumentasi Refactoring Shopping List untuk Pemula

> **Catatan:** Dokumentasi ini khusus membahas refactoring fungsi `filterItems()` pada file `script.js` agar lebih clean, modern, dan mudah dipahami pemula.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Kode Sebelum Refactoring](#kode-sebelum-refactoring)
- [Kode Setelah Refactoring](#kode-setelah-refactoring)
- [Perubahan yang Dilakukan](#perubahan-yang-dilakukan)
  - [1. Nama Variabel Lebih Deskriptif](#1-nama-variabel-lebih-deskriptif)
  - [2. Menggunakan includes() Bukan indexOf()](#2-menggunakan-includes-bukan-indexof)
  - [3. Pisahkan Logika dengan Variabel isMatch](#3-pisahkan-logika-dengan-variabel-ismatch)
  - [4. Penambahan Komentar yang Jelas](#4-penambahan-komentar-yang-jelas)
- [Bonus: Perbedaan indexOf() vs includes()](#bonus-perbedaan-indexof-vs-includes)
- [Pertanyaan Umum](#pertanyaan-umum)
  - [Q1: Apakah Urutan Function Sudah Benar?](#q1-apakah-urutan-function-sudah-benar)
  - [Q2: Perbedaan firstChild.textContent vs innerText](#q2-perbedaan-firstchildtextcontent-vs-innertext)
- [Kode Lengkap Script.js](#kode-lengkap-scriptjs)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

**Apa itu Refactoring?**

Refactoring adalah proses **memperbaiki kode** agar lebih:
- âœ… **Clean** (bersih dan rapi)
- âœ… **Modern** (menggunakan syntax terbaru)
- âœ… **Readable** (mudah dibaca dan dipahami)

**TANPA mengubah cara kerja program!**

Bayangkan seperti merapikan kamar: barang-barang tetap sama, tapi lebih rapi dan mudah ditemukan! ğŸ§¹

---

<a name="kode-sebelum-refactoring"></a>
## âŒ Kode Sebelum Refactoring

```javascript
function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}
```

**Masalah pada kode di atas:**
- ğŸ”´ Nama variabel kurang jelas (`items`, `text`)
- ğŸ”´ Menggunakan `.indexOf()` yang kurang modern
- ğŸ”´ If-else terlalu panjang untuk kasus sederhana
- ğŸ”´ Tidak ada komentar untuk pemula
- ğŸ”´ `firstChild.textContent` terlalu kompleks

---

<a name="kode-setelah-refactoring"></a>
## âœ… Kode Setelah Refactoring

```javascript
// REFACTORED: Fungsi filter yang lebih mudah dipahami
function filterItems(e) {
  // Ambil semua item dalam list
  const allItems = itemList.querySelectorAll('li');
  
  // Ambil teks yang diketik user dan ubah ke huruf kecil
  const searchText = e.target.value.toLowerCase();

  // Loop setiap item untuk dicek
  allItems.forEach((item) => {
    // Ambil nama item (teks dalam li)
    const itemName = item.innerText.toLowerCase();

    // Cek apakah nama item mengandung teks pencarian
    const isMatch = itemName.includes(searchText);
    
    // Tampilkan atau sembunyikan berdasarkan hasil pencocokan
    item.style.display = isMatch ? 'flex' : 'none';
  });
}
```

**Keunggulan kode baru:**
- âœ… Nama variabel lebih jelas dan deskriptif
- âœ… Menggunakan method modern (`.includes()`)
- âœ… Kode lebih ringkas dengan ternary operator
- âœ… Ada komentar di setiap langkah
- âœ… Lebih mudah di-debug

---

<a name="perubahan-yang-dilakukan"></a>
## ğŸ”§ Perubahan yang Dilakukan

<a name="1-nama-variabel-lebih-deskriptif"></a>
### 1ï¸âƒ£ Nama Variabel Lebih Deskriptif

#### âŒ Sebelum:
```javascript
const items = itemList.querySelectorAll('li');
const text = e.target.value.toLowerCase();
```

#### âœ… Sesudah:
```javascript
const allItems = itemList.querySelectorAll('li');
const searchText = e.target.value.toLowerCase();
```

#### ğŸ’¡ Mengapa Diubah?

| Nama Lama | Nama Baru | Alasan |
|-----------|-----------|---------|
| `items` | `allItems` | Lebih jelas bahwa ini adalah **SEMUA** item di list |
| `text` | `searchText` | Lebih spesifik bahwa ini adalah teks **PENCARIAN** |

**Analogi:**
- âŒ "Buku" â†’ terlalu umum
- âœ… "BukuMatematika" â†’ langsung paham!

**Best Practice untuk Pemula:**
> ğŸ“Œ **Beri nama variabel yang menjelaskan ISI dan TUJUAN-nya!**

---

<a name="2-menggunakan-includes-bukan-indexof"></a>
### 2ï¸âƒ£ Menggunakan `.includes()` Bukan `.indexOf()`

#### âŒ Sebelum:
```javascript
if (itemName.indexOf(text) != -1) {
  // ditemukan
}
```

#### âœ… Sesudah:
```javascript
const isMatch = itemName.includes(searchText);
```

#### ğŸ’¡ Mengapa Diubah?

**`.indexOf()` - Cara Lama ğŸ¦•**
- Mengembalikan **angka** (posisi karakter)
- Jika tidak ditemukan â†’ mengembalikan `-1`
- Harus cek dengan `!= -1` (membingungkan pemula!)

**`.includes()` - Cara Modern ğŸš€**
- Mengembalikan **boolean** (`true` atau `false`)
- Lebih mudah dibaca seperti bahasa Inggris
- Tidak perlu cek angka `-1`

#### ğŸ“Š Perbandingan:

```javascript
// indexOf() - Harus ingat -1
'apple'.indexOf('app')  // â†’ 0 (ditemukan di posisi 0)
'apple'.indexOf('xyz')  // â†’ -1 (tidak ditemukan)

// includes() - Langsung jelas!
'apple'.includes('app') // â†’ true âœ…
'apple'.includes('xyz') // â†’ false âŒ
```

**Contoh dalam Konteks:**

```javascript
// Cara lama - membingungkan ğŸ˜µ
if ('apple'.indexOf('app') != -1) {
  console.log('Ditemukan!');
}

// Cara modern - jelas! ğŸ˜Š
if ('apple'.includes('app')) {
  console.log('Ditemukan!');
}
```

**Kesimpulan:**
> ğŸ“Œ **`.includes()` lebih intuitif karena langsung memberikan jawaban yes/no!**

---

<a name="3-pisahkan-logika-dengan-variabel-ismatch"></a>
### 3ï¸âƒ£ Pisahkan Logika dengan Variabel `isMatch`

#### âŒ Sebelum:
```javascript
if (itemName.indexOf(text) != -1) {
  item.style.display = 'flex';
} else {
  item.style.display = 'none';
}
```

#### âœ… Sesudah:
```javascript
const isMatch = itemName.includes(searchText);
item.style.display = isMatch ? 'flex' : 'none';
```

#### ğŸ’¡ Mengapa Diubah?

**1. Pemisahan Concern (Separation of Concerns)**

```javascript
// Langkah 1: Tentukan apakah cocok
const isMatch = itemName.includes(searchText);

// Langkah 2: Tampilkan berdasarkan hasil
item.style.display = isMatch ? 'flex' : 'none';
```

Seperti memasak:
1. âœ… Cicipi dulu (cek rasa) â†’ `isMatch`
2. âœ… Tentukan aksi (tambah garam atau tidak) â†’ `style.display`

**2. Mudah di-Debug**

```javascript
const isMatch = itemName.includes(searchText);
console.log('Item:', itemName, '| Match:', isMatch); // Bisa cek hasilnya!
item.style.display = isMatch ? 'flex' : 'none';
```

**3. Ternary Operator (`? :`)**

Ternary operator adalah **if-else singkat**:

```javascript
// If-else tradisional (5 baris)
if (isMatch) {
  item.style.display = 'flex';
} else {
  item.style.display = 'none';
}

// Ternary operator (1 baris)
item.style.display = isMatch ? 'flex' : 'none';
```

**Cara Baca Ternary:**
```
kondisi ? nilaiJikaTrue : nilaiJikaFalse
   â†“           â†“              â†“
isMatch ?   'flex'    :    'none'
```

**Kapan Pakai Ternary?**
- âœ… Untuk assignment sederhana (kasih nilai ke variabel)
- âŒ Jangan untuk logika kompleks (tetap pakai if-else biasa)

---

<a name="4-penambahan-komentar-yang-jelas"></a>
### 4ï¸âƒ£ Penambahan Komentar yang Jelas

#### âœ… Komentar yang Baik:

```javascript
// REFACTORED: Fungsi filter yang lebih mudah dipahami
function filterItems(e) {
  // Ambil semua item dalam list
  const allItems = itemList.querySelectorAll('li');
  
  // Ambil teks yang diketik user dan ubah ke huruf kecil
  const searchText = e.target.value.toLowerCase();

  // Loop setiap item untuk dicek
  allItems.forEach((item) => {
    // Ambil nama item (teks dalam li)
    const itemName = item.innerText.toLowerCase();

    // Cek apakah nama item mengandung teks pencarian
    const isMatch = itemName.includes(searchText);
    
    // Tampilkan atau sembunyikan berdasarkan hasil pencocokan
    item.style.display = isMatch ? 'flex' : 'none';
  });
}
```

#### ğŸ’¡ Mengapa Komentar Penting?

**Manfaat untuk Pemula:**
1. âœ… Bisa baca komentar DULU sebelum lihat kode
2. âœ… Memahami ALUR BERPIKIR programmer
3. âœ… Tidak perlu tebak-tebak maksud kode

**Tips Menulis Komentar:**
- ğŸ“ Jelaskan **APA** yang dilakukan (bukan **BAGAIMANA**)
- ğŸ“ Gunakan bahasa sederhana
- ğŸ“ Tidak perlu komentar untuk kode yang sudah jelas

**Contoh:**

```javascript
// âŒ Buruk - terlalu teknis
// Iterasi array dengan forEach method

// âœ… Baik - bahasa sederhana
// Loop setiap item untuk dicek
```

---

<a name="bonus-perbedaan-indexof-vs-includes"></a>
## ğŸ Bonus: Perbedaan `indexOf()` vs `includes()`

### ğŸ“Š Tabel Perbandingan

| Aspek | `.indexOf()` | `.includes()` |
|-------|--------------|---------------|
| **Return Value** | Angka (posisi) atau `-1` | `true` atau `false` |
| **Mudah Dibaca?** | âŒ Harus cek `-1` | âœ… Langsung jelas |
| **Modern?** | ğŸ¦• Cara lama | ğŸš€ ES6+ (modern) |
| **Untuk Pemula** | âš ï¸ Membingungkan | âœ… Intuitif |

### ğŸ’» Contoh Penggunaan

```javascript
const fruits = ['apple', 'banana', 'orange'];

// indexOf() - mengembalikan posisi
console.log(fruits.indexOf('banana'));  // â†’ 1 (posisi index)
console.log(fruits.indexOf('grape'));   // â†’ -1 (tidak ada)

// includes() - mengembalikan boolean
console.log(fruits.includes('banana')); // â†’ true âœ…
console.log(fruits.includes('grape'));  // â†’ false âŒ
```

### ğŸ¯ Kapan Pakai Masing-Masing?

```javascript
// Kalau butuh POSISI â†’ pakai indexOf()
const position = fruits.indexOf('banana');
console.log(`Banana ada di index: ${position}`);

// Kalau cuma mau CEK ADA/TIDAK â†’ pakai includes()
if (fruits.includes('banana')) {
  console.log('Banana tersedia!');
}
```

**Kesimpulan:**
> ğŸ“Œ Untuk filtering/searching seperti di Shopping List, **`.includes()` lebih cocok!**

---

<a name="pertanyaan-umum"></a>
## â“ Pertanyaan Umum

<a name="q1-apakah-urutan-function-sudah-benar"></a>
### Q1: Apakah Urutan Function Sudah Benar?

**Pertanyaan:**
> Di kode, `checkUI()` ada paling bawah, tapi di function `addItem()` dipanggil `checkUI()`. Apakah ini sudah sesuai best practice?

**Jawaban:** âœ… **Ya, sudah benar!**

#### ğŸ” Penjelasan: Function Hoisting

JavaScript punya fitur bernama **"hoisting"** yang "mengangkat" semua function declaration ke atas saat kode dijalankan.

**Visualisasi:**

```javascript
// Kode yang kita tulis:
function addItem() {
  checkUI(); // Dipanggil dulu âœ…
}

function checkUI() {
  // Definisi belakangan
}

// Yang terjadi di JavaScript (otomatis):
// 1. JavaScript "angkat" semua function ke atas
function addItem() { ... }
function checkUI() { ... }

// 2. Baru jalankan kode
addItem(); // Jadi tidak error!
```

#### âš ï¸ Pengecualian: Function Expression

```javascript
// Function Declaration - BEBAS urutan âœ…
function checkUI() { ... }

// Function Expression - HARUS urut âŒ
const checkUI = () => { ... };
```

**Contoh Error:**

```javascript
// âŒ ERROR: Cannot access 'checkUI' before initialization
addItem();

const addItem = () => {
  checkUI(); // checkUI belum didefinisikan!
}

const checkUI = () => {
  console.log('Check UI');
}
```

**Contoh Benar:**

```javascript
// âœ… BENAR: Function declaration bebas urutan
addItem(); // Bisa dipanggil sebelum definisi

function addItem() {
  checkUI(); // Aman!
}

function checkUI() {
  console.log('Check UI');
}
```

#### ğŸ“Œ Best Practice:

| Tipe Function | Urutan | Contoh |
|---------------|--------|---------|
| **Function Declaration** | âœ… Bebas | `function nama() {}` |
| **Function Expression** | âš ï¸ Harus urut | `const nama = () => {}` |

**Kesimpulan:**
> Kode kita menggunakan **function declaration**, jadi urutan tidak masalah! âœ…

---

<a name="q2-perbedaan-firstchildtextcontent-vs-innertext"></a>
### Q2: Perbedaan `firstChild.textContent` vs `innerText`

**Pertanyaan:**
> Ada cara lain yang lebih simple dari `item.firstChild.textContent.toLowerCase()`?

**Jawaban:** âœ… **Ya! Pakai `item.innerText.toLowerCase()`**

#### ğŸ” Struktur HTML Shopping List:

```html
<li>
  Apples                          â† firstChild (text node)
  <button class="remove-item">    â† secondChild (button element)
    <i class="fa-xmark"></i>
  </button>
</li>
```

#### ğŸ“Š Perbandingan Lengkap:

| Aspek | `firstChild.textContent` | `innerText` |
|-------|--------------------------|-------------|
| **Yang Diambil** | Hanya anak PERTAMA | SEMUA teks terlihat |
| **Panjang Kode** | âŒ Lebih panjang | âœ… Lebih pendek |
| **Mudah Dibaca** | âš ï¸ Perlu paham DOM | âœ… Intuitif |
| **Untuk Pemula** | âŒ Membingungkan | âœ… Mudah dipahami |

#### ğŸ’» Cara Kerja Masing-Masing:

**1. `item.firstChild.textContent`**

```javascript
const itemName = item.firstChild.textContent.toLowerCase();

// Langkah per langkah:
// 1. item.firstChild â†’ Ambil anak pertama dari <li>
// 2. .textContent    â†’ Ambil teks dari anak pertama
// 3. .toLowerCase()  â†’ Ubah ke huruf kecil

// Hasil: "apples" âœ…
```

**2. `item.innerText`**

```javascript
const itemName = item.innerText.toLowerCase();

// Langkah per langkah:
// 1. item.innerText  â†’ Ambil SEMUA teks terlihat di <li>
// 2. .toLowerCase()  â†’ Ubah ke huruf kecil

// Hasil: "apples" âœ…
```

#### ğŸ¨ Visualisasi Sederhana:

```
<li> â”€â”€â”¬â”€â”€ "Apples" (text node) â† firstChild apakan ini
       â”‚
       â””â”€â”€ <button> â† secondChild
              â””â”€â”€ <i class="icon">  (tidak ada teks)
```

**`firstChild.textContent`:**
- ğŸ¯ Target: Kotak pertama saja
- ğŸ“¦ Hasil: `"Apples"`

**`innerText`:**
- ğŸ¯ Target: Semua teks terlihat di `<li>`
- ğŸ“¦ Hasil: `"Apples"` (button tidak punya teks, jadi aman)

#### âš ï¸ Kapan `innerText` Tidak Aman?

Jika button punya teks:

```html
<li>
  Apples
  <button>Delete</button>  â† Ada teks "Delete"
</li>
```

```javascript
// firstChild.textContent â†’ "Apples" âœ…
// innerText              â†’ "Apples Delete" âŒ (termasuk teks button!)
```

**Tapi di Shopping List kita:**
Button hanya punya icon (tidak ada teks), jadi **`innerText` AMAN!** âœ…

#### ğŸ“Œ Rekomendasi:

**Untuk Shopping List ini, pakai `innerText` karena:**
- âœ… Lebih simple dan mudah dibaca
- âœ… Lebih modern dan intuitif
- âœ… Lebih cocok untuk pemula
- âœ… Button kita tidak punya teks

**Kode Akhir:**

```javascript
// âŒ Cara lama - terlalu kompleks
const itemName = item.firstChild.textContent.toLowerCase();

// âœ… Cara modern - simple!
const itemName = item.innerText.toLowerCase();
```

---

<a name="kode-lengkap-scriptjs"></a>
## ğŸ“ Kode Lengkap Script.js

Berikut kode lengkap `script.js` dengan refactoring pada fungsi `filterItems`:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

function addItem(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(newItem));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);

  checkUI();

  itemInput.value = '';
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI();
}

// âœ… REFACTORED: Fungsi filter yang lebih mudah dipahami
function filterItems(e) {
  // Ambil semua item dalam list
  const allItems = itemList.querySelectorAll('li');
  
  // Ambil teks yang diketik user dan ubah ke huruf kecil
  const searchText = e.target.value.toLowerCase();

  // Loop setiap item untuk dicek
  allItems.forEach((item) => {
    // Ambil nama item (teks dalam li)
    const itemName = item.innerText.toLowerCase();

    // Cek apakah nama item mengandung teks pencarian
    const isMatch = itemName.includes(searchText);
    
    // Tampilkan atau sembunyikan berdasarkan hasil pencocokan
    item.style.display = isMatch ? 'flex' : 'none';
  });
}

function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// Event Listeners
itemForm.addEventListener('submit', addItem);
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);
itemFilter.addEventListener('input', filterItems);

checkUI();
```

---

<a name="kesimpulan"></a>
## ğŸ¯ Kesimpulan

### ğŸ“š Apa yang Sudah Dipelajari?

1. âœ… **Refactoring** adalah memperbaiki kode tanpa mengubah fungsinya
2. âœ… **Nama variabel deskriptif** membuat kode lebih mudah dipahami
3. âœ… **`.includes()`** lebih modern dan intuitif daripada `.indexOf()`
4. âœ… **Ternary operator** membuat kode lebih ringkas untuk kasus sederhana
5. âœ… **Komentar yang baik** membantu pemula memahami alur berpikir
6. âœ… **Function hoisting** memungkinkan function dipanggil sebelum didefinisikan
7. âœ… **`innerText`** lebih simple daripada `firstChild.textContent`

### ğŸš€ Prinsip Kode yang Baik:

| Prinsip | Penjelasan |
|---------|------------|
| **Clean** | Kode bersih dan rapi |
| **Readable** | Mudah dibaca seperti membaca cerita |
| **Modern** | Menggunakan syntax JavaScript terbaru |
| **Maintainable** | Mudah diperbaiki dan dikembangkan |

### ğŸ’¡ Tips untuk Pemula:

1. ğŸ“ **Beri nama variabel yang jelas** - jangan takut nama panjang!
2. ğŸ” **Gunakan method modern** - `.includes()`, arrow function, dll
3. ğŸ’¬ **Tambahkan komentar** - bantu dirimu di masa depan
4. ğŸ§ª **Pisahkan logika** - satu variabel, satu tanggung jawab
5. ğŸ¯ **Keep it simple** - jangan over-engineering

### ğŸ“ Next Steps:

- âœ… Coba refactor fungsi lain dengan prinsip yang sama
- âœ… Pelajari ES6+ features (arrow function, destructuring, dll)
- âœ… Latihan baca kode orang lain dan pahami logikanya
- âœ… Selalu tanya: "Bisakah kode ini lebih simple?"

---

## ğŸ“Œ Catatan Penutup

> **"Code is read more often than it is written."**  
> â€” Guido van Rossum (Pembuat Python)

Kode yang baik bukan hanya yang berfungsi, tapi yang **mudah dibaca dan dipahami orang lain** (termasuk dirimu sendiri 6 bulan ke depan!). 

Terus berlatih dan happy coding! ğŸš€âœ¨

---

**Dibuat dengan â¤ï¸ untuk pembelajaran pribadi**  
**Versi:** 1.0  
**Tanggal:** 2026
