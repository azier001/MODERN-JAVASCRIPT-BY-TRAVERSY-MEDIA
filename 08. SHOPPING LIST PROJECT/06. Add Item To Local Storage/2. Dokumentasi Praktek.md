# ğŸ“š Tutorial Implementasi Local Storage untuk Pemula

> ğŸ’¡ **Catatan Penting**: Tutorial ini dibuat untuk pembelajaran pribadi. Kita akan belajar step-by-step cara menyimpan data ke Local Storage!

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Apa itu Local Storage?](#apa-itu-local-storage)
- [Konsep JSON.stringify dan JSON.parse](#konsep-json)
- [Langkah 1: Persiapan - Mengubah Nama Fungsi](#langkah-1)
- [Langkah 2: Memisahkan Fungsi ke addItemToDOM](#langkah-2)
- [Langkah 3: Membuat Fungsi addItemToStorage](#langkah-3)
- [Langkah 4: Memanggil Fungsi Storage](#langkah-4)
- [Langkah 5: Testing di Browser](#langkah-5)
- [Kode Lengkap](#kode-lengkap)
- [Langkah Selanjutnya](#langkah-selanjutnya)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial ini, kita akan belajar cara **menyimpan data ke Local Storage** agar data tidak hilang ketika halaman di-refresh! 

### â“ Masalah yang Akan Kita Selesaikan:
- âœ… Menyimpan item baru ke Local Storage
- âœ… Memuat item dari Local Storage saat halaman dibuka
- âœ… Menghapus item dari Local Storage

---

<a name="apa-itu-local-storage"></a>
## ğŸ“– Apa itu Local Storage?

**Local Storage** adalah tempat penyimpanan di browser yang bisa menyimpan data secara permanen (tidak hilang saat refresh).

### ğŸ”‘ Karakteristik Local Storage:
- Hanya bisa menyimpan **STRING** (teks)
- Menggunakan sistem **KEY-VALUE** (kunci dan nilai)
- Data **tidak hilang** saat browser ditutup
- Batas penyimpanan sekitar **5-10MB**

### ğŸ’¾ Contoh Sederhana:
```javascript
// Menyimpan data
localStorage.setItem('nama', 'John');

// Mengambil data
const nama = localStorage.getItem('nama'); // 'John'
```

---

<a name="konsep-json"></a>
## ğŸ”„ Konsep JSON.stringify dan JSON.parse

Karena Local Storage hanya bisa menyimpan **STRING**, tapi kita ingin menyimpan **ARRAY**, maka kita perlu 2 method ini:

### ğŸ“¦ JSON.stringify()
Mengubah array/object menjadi string:
```javascript
const items = ['Apel', 'Jeruk', 'Pisang'];
const stringItems = JSON.stringify(items);
// Hasil: '["Apel","Jeruk","Pisang"]' (STRING)
```

### ğŸ“‚ JSON.parse()
Mengubah string kembali menjadi array/object:
```javascript
const stringItems = '["Apel","Jeruk","Pisang"]';
const items = JSON.parse(stringItems);
// Hasil: ['Apel', 'Jeruk', 'Pisang'] (ARRAY)
```

---

<a name="langkah-1"></a>
## ğŸ”¨ Langkah 1: Persiapan - Mengubah Nama Fungsi

### ğŸ“ Penjelasan:
Kita akan mengubah nama fungsi `addItem` menjadi `onAddItemSubmit` agar lebih jelas bahwa ini adalah fungsi yang menangani submit form.

### ğŸ’» Kode yang Diubah:

**SEBELUM:**
```javascript
function addItem(e) {
  e.preventDefault();
  // ... kode lainnya
}
```

**SESUDAH:**
```javascript
function onAddItemSubmit(e) {  // â¬…ï¸ UBAH NAMA FUNGSI
  e.preventDefault();
  // ... kode lainnya
}
```

### ğŸ”§ Jangan Lupa Update Event Listener:

**SEBELUM:**
```javascript
itemForm.addEventListener('submit', addItem);
```

**SESUDAH:**
```javascript
itemForm.addEventListener('submit', onAddItemSubmit);  // â¬…ï¸ UBAH DI SINI JUGA
```

---

<a name="langkah-2"></a>
## ğŸ§© Langkah 2: Memisahkan Fungsi ke addItemToDOM

### ğŸ“ Penjelasan:
Kita akan memisahkan kode yang menambahkan item ke DOM menjadi fungsi tersendiri. Ini membuat kode lebih rapi dan mudah dipahami.

### ğŸ’» Langkah-langkahnya:

#### 1ï¸âƒ£ Buat Fungsi Baru `addItemToDOM`

```javascript
function addItemToDOM(item) {
  // Kode untuk menambahkan item ke DOM akan dipindahkan ke sini
}
```

#### 2ï¸âƒ£ Pindahkan Kode dari `onAddItemSubmit`

**Kode yang DIPOTONG dari `onAddItemSubmit`:**
```javascript
// Create list item
const li = document.createElement('li');
li.appendChild(document.createTextNode(newItem));  // â¬…ï¸ INI AKAN DIUBAH

const button = createButton('remove-item btn-link text-red');
li.appendChild(button);

// Add li to the DOM
itemList.appendChild(li);
```

**PINDAHKAN ke fungsi `addItemToDOM` dan UBAH:**
```javascript
function addItemToDOM(item) {
  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));  // â¬…ï¸ UBAH: newItem â†’ item

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);
}
```

#### 3ï¸âƒ£ Update Fungsi `onAddItemSubmit`

**SEBELUM:**
```javascript
function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Banyak kode di sini untuk membuat DOM element...
  
  checkUI();
  itemInput.value = '';
}
```

**SESUDAH:**
```javascript
function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);  // â¬…ï¸ PANGGIL FUNGSI BARU
  
  checkUI();
  itemInput.value = '';
}
```

### âœ¨ Keuntungan Memisahkan Fungsi:
- âœ… Kode lebih rapi dan mudah dibaca
- âœ… Fungsi bisa digunakan kembali
- âœ… Mudah untuk maintenance

---

<a name="langkah-3"></a>
## ğŸ’¾ Langkah 3: Membuat Fungsi addItemToStorage

### ğŸ“ Penjelasan:
Ini adalah bagian **PALING PENTING**! Kita akan membuat fungsi untuk menyimpan item ke Local Storage.

### ğŸ¯ Apa yang Akan Dilakukan Fungsi Ini?
1. Cek apakah sudah ada data di Local Storage
2. Jika belum ada, buat array kosong
3. Jika sudah ada, ambil data yang ada
4. Tambahkan item baru ke array
5. Simpan kembali ke Local Storage

### ğŸ’» Langkah-langkahnya:

#### 1ï¸âƒ£ Buat Struktur Fungsi

```javascript
function addItemToStorage(item) {
  // Kode akan ditambahkan di sini
}
```

#### 2ï¸âƒ£ Siapkan Variable untuk Menyimpan Items

```javascript
function addItemToStorage(item) {
  let itemsFromStorage;  // â¬…ï¸ Variable untuk menyimpan array items
}
```

#### 3ï¸âƒ£ Cek Apakah Ada Data di Local Storage

```javascript
function addItemToStorage(item) {
  let itemsFromStorage;

  // â¬…ï¸ CEK: Apakah ada data dengan key 'items'?
  if (localStorage.getItem('items') === null) {
    // Jika TIDAK ada, buat array kosong
    itemsFromStorage = [];
  } else {
    // Jika ADA, ambil dan parse menjadi array
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }
}
```

**ğŸ” Mari Kita Pahami:**

| Kondisi | Penjelasan | Hasil |
|---------|-----------|-------|
| `localStorage.getItem('items') === null` | Belum ada data | `itemsFromStorage = []` (array kosong) |
| `localStorage.getItem('items') !== null` | Sudah ada data | Parse string menjadi array |

#### 4ï¸âƒ£ Tambahkan Item Baru ke Array

```javascript
function addItemToStorage(item) {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  // â¬…ï¸ Tambahkan item baru ke array
  itemsFromStorage.push(item);
}
```

#### 5ï¸âƒ£ Simpan Kembali ke Local Storage (PALING PENTING!)

```javascript
function addItemToStorage(item) {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  // Add new item to array
  itemsFromStorage.push(item);

  // â¬…ï¸ Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}
```

### ğŸ“ Penjelasan Detail Proses:

```javascript
// LANGKAH DEMI LANGKAH:

// 1. Misalkan kita menambahkan 'Apel'
const item = 'Apel';

// 2. Cek Local Storage (misalkan kosong)
itemsFromStorage = [];  // Array kosong

// 3. Tambahkan item
itemsFromStorage.push('Apel');  // Sekarang: ['Apel']

// 4. Stringify (ubah jadi string)
const stringified = JSON.stringify(itemsFromStorage);  // '["Apel"]'

// 5. Simpan ke Local Storage
localStorage.setItem('items', '["Apel"]');

// 6. Jika menambahkan 'Jeruk' setelahnya:
// - Ambil: '["Apel"]'
// - Parse: ['Apel']
// - Push: ['Apel', 'Jeruk']
// - Stringify: '["Apel","Jeruk"]'
// - Simpan: localStorage.setItem('items', '["Apel","Jeruk"]')
```

---

<a name="langkah-4"></a>
## ğŸ”— Langkah 4: Memanggil Fungsi Storage

### ğŸ“ Penjelasan:
Sekarang kita tinggal memanggil fungsi `addItemToStorage` di dalam `onAddItemSubmit`.

### ğŸ’» Update Fungsi `onAddItemSubmit`:

**SEBELUM:**
```javascript
function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);
  
  checkUI();
  itemInput.value = '';
}
```

**SESUDAH:**
```javascript
function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);

  // â¬…ï¸ TAMBAHKAN: Add item to local storage
  addItemToStorage(newItem);
  
  checkUI();
  itemInput.value = '';
}
```

### ğŸ¯ Urutan Eksekusi:
1. User submit form â†’ `onAddItemSubmit` dipanggil
2. Validasi input
3. `addItemToDOM(newItem)` â†’ Item muncul di layar
4. `addItemToStorage(newItem)` â†’ Item disimpan ke Local Storage
5. `checkUI()` â†’ Update tampilan UI
6. Reset input form

---

<a name="langkah-5"></a>
## ğŸ§ª Langkah 5: Testing di Browser

### ğŸ” Cara Melihat Local Storage:

#### 1ï¸âƒ£ Tambahkan Item
- Ketik "Juice" di input
- Klik tombol tambah

#### 2ï¸âƒ£ Buka Developer Tools
- Tekan `F12` atau `Ctrl+Shift+I` (Windows/Linux)
- Tekan `Cmd+Option+I` (Mac)

#### 3ï¸âƒ£ Navigasi ke Application/Storage Tab
- Klik tab **"Application"** (Chrome) atau **"Storage"** (Firefox)
- Di sidebar kiri, cari **"Local Storage"**
- Klik domain website Anda

#### 4ï¸âƒ£ Lihat Hasilnya
Anda akan melihat:
```
Key: items
Value: ["Juice"]
```

#### 5ï¸âƒ£ Tambahkan Item Lagi
- Ketik "Milk"
- Klik tombol tambah
- Lihat Local Storage lagi:
```
Key: items
Value: ["Juice","Milk"]
```

### âœ… Apa yang Terjadi?
- Item **tersimpan** di Local Storage
- Tapi jika refresh, item **masih hilang** dari layar
- **Kenapa?** Karena kita belum membuat fungsi untuk **memuat data** saat halaman dibuka

---

<a name="kode-lengkap"></a>
## ğŸ“„ Kode Lengkap (Hasil Akhir)

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

// â¬…ï¸ FUNGSI INI DIUBAH NAMANYA
function onAddItemSubmit(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create item DOM element
  addItemToDOM(newItem);  // â¬…ï¸ FUNGSI BARU

  // Add item to local storage
  addItemToStorage(newItem);  // â¬…ï¸ FUNGSI BARU

  checkUI();

  itemInput.value = '';
}

// â¬…ï¸ FUNGSI BARU: Menambahkan ke DOM
function addItemToDOM(item) {
  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(item));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);
}

// â¬…ï¸ FUNGSI BARU: Menyimpan ke Local Storage
function addItemToStorage(item) {
  let itemsFromStorage;

  if (localStorage.getItem('items') === null) {
    itemsFromStorage = [];
  } else {
    itemsFromStorage = JSON.parse(localStorage.getItem('items'));
  }

  // Add new item to array
  itemsFromStorage.push(item);

  // Convert to JSON string and set to local storage
  localStorage.setItem('items', JSON.stringify(itemsFromStorage));
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI();
}

function filterItems(e) {
  const items = itemList.querySelectorAll('li');
  const text = e.target.value.toLowerCase();

  items.forEach((item) => {
    const itemName = item.firstChild.textContent.toLowerCase();

    if (itemName.indexOf(text) != -1) {
      item.style.display = 'flex';
    } else {
      item.style.display = 'none';
    }
  });
}

function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// Event Listeners
itemForm.addEventListener('submit', onAddItemSubmit);  // â¬…ï¸ NAMA FUNGSI DIUBAH
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);
itemFilter.addEventListener('input', filterItems);

checkUI();
```

---

<a name="langkah-selanjutnya"></a>
## ğŸš€ Langkah Selanjutnya

Sekarang kita sudah bisa **menyimpan** data ke Local Storage! Tapi masih ada yang perlu dilakukan:

### ğŸ“‹ To-Do List:
- [ ] **Load Items** - Memuat item dari Local Storage saat halaman dibuka
- [ ] **Remove from Storage** - Menghapus item dari Local Storage
- [ ] **Clear Storage** - Menghapus semua item dari Local Storage

### ğŸ’¡ Di Tutorial Berikutnya:
Kita akan belajar cara **memuat data dari Local Storage** agar item yang sudah disimpan muncul kembali saat halaman di-refresh!

---

## ğŸ‰ Selamat!

Anda telah berhasil mengimplementasikan penyimpanan data ke Local Storage! Lanjutkan belajar untuk fitur selanjutnya! ğŸ’ª

---

### ğŸ“Œ Catatan Penting:
- âš ï¸ Local Storage hanya bisa menyimpan **STRING**
- ğŸ”„ Gunakan `JSON.stringify()` untuk menyimpan
- ğŸ”„ Gunakan `JSON.parse()` untuk mengambil
- ğŸ’¾ Data tidak hilang meskipun browser ditutup
- ğŸ”‘ Gunakan key yang **konsisten** (contoh: 'items')

---

**Happy Coding! ğŸˆ**
