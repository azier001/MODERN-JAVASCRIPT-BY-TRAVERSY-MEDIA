# ğŸ“‹ Dokumentasi CheckUI Function - Shopping List App

> **Catatan Pribadi**: Dokumentasi ini membahas tentang cara membuat fungsi `checkUI()` untuk menampilkan/menyembunyikan elemen filter dan clear button secara dinamis berdasarkan jumlah item dalam list.

---

## ğŸ“‘ Daftar Isi

- [Pengenalan](#pengenalan)
- [Permasalahan yang Dihadapi](#permasalahan-yang-dihadapi)
- [Solusi: Fungsi checkUI()](#solusi-fungsi-checkui)
- [Membuat Fungsi checkUI()](#membuat-fungsi-checkui)
  - [Langkah 1: Menambahkan Element Filter ke Variables](#langkah-1-menambahkan-element-filter-ke-variables)
  - [Langkah 2: Membuat Fungsi checkUI](#langkah-2-membuat-fungsi-checkui)
  - [Langkah 3: Menjalankan checkUI Saat Page Load](#langkah-3-menjalankan-checkui-saat-page-load)
- [Masalah dengan Variable di Global Scope](#masalah-dengan-variable-di-global-scope)
- [Solusi: Pindahkan querySelectorAll ke Dalam Fungsi](#solusi-pindahkan-queryselectorall-ke-dalam-fungsi)
- [Menjalankan checkUI di Berbagai Event](#menjalankan-checkui-di-berbagai-event)
  - [Saat Menambah Item](#saat-menambah-item)
  - [Saat Menghapus Item](#saat-menghapus-item)
  - [Saat Clear All Items](#saat-clear-all-items)
- [Menambahkan Konfirmasi Delete](#menambahkan-konfirmasi-delete)
- [Kode Lengkap](#kode-lengkap)
- [Kesimpulan](#kesimpulan)

---

<a name="pengenalan"></a>
## ğŸ¯ Pengenalan

Dalam tutorial sebelumnya, kita sudah membuat aplikasi Shopping List yang bisa **menambah**, **menghapus**, dan **clear all items**. Namun, ada satu masalah: **filter input** dan **clear button** tetap muncul meskipun tidak ada item dalam list. 

Pada dokumentasi ini, kita akan belajar cara membuat aplikasi lebih **dinamis** dengan menampilkan/menyembunyikan elemen-elemen tersebut berdasarkan kondisi tertentu. ğŸš€

---

<a name="permasalahan-yang-dihadapi"></a>
## â“ Permasalahan yang Dihadapi

**Masalah:**
- Filter input dan Clear button **selalu tampil** meskipun list kosong
- Tidak ada gunanya menampilkan filter jika tidak ada item yang bisa difilter
- Tidak ada gunanya menampilkan clear button jika tidak ada item yang bisa dihapus

**Yang Diinginkan:**
- âœ… Ketika ada item â†’ tampilkan filter dan clear button
- âœ… Ketika tidak ada item â†’ sembunyikan filter dan clear button

---

<a name="solusi-fungsi-checkui"></a>
## ğŸ’¡ Solusi: Fungsi checkUI()

Kita akan membuat sebuah fungsi bernama `checkUI()` yang akan:

1. ğŸ” **Mengecek** berapa jumlah item dalam list
2. ğŸ‘ï¸ **Menampilkan** filter dan clear button jika ada item
3. ğŸš« **Menyembunyikan** filter dan clear button jika tidak ada item

Fungsi ini akan dipanggil di berbagai tempat:
- Saat page pertama kali load
- Saat menambah item baru
- Saat menghapus item
- Saat clear all items

---

<a name="membuat-fungsi-checkui"></a>
## ğŸ› ï¸ Membuat Fungsi checkUI()

<a name="langkah-1-menambahkan-element-filter-ke-variables"></a>
### ğŸ“Œ Langkah 1: Menambahkan Element Filter ke Variables

Pertama, kita perlu menambahkan variabel untuk **filter input** karena kita akan mengontrol tampilannya:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter'); // âœ¨ BARU!
```

**Penjelasan:**
- `itemFilter` akan mengambil element dengan ID `filter` dari HTML
- Kita sudah punya `clearBtn`, sekarang tinggal tambahkan `itemFilter`

---

<a name="langkah-2-membuat-fungsi-checkui"></a>
### ğŸ“Œ Langkah 2: Membuat Fungsi checkUI

Sekarang kita buat fungsinya:

```javascript
function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}
```

**Penjelasan Detail:**

1. **`const items = itemList.querySelectorAll('li');`**
   - ğŸ” Mengambil **semua** element `<li>` dalam `itemList`
   - Hasilnya berupa **NodeList** (mirip array)
   - NodeList memiliki property `length` untuk menghitung jumlah item

2. **`if (items.length === 0)`**
   - âœ… Cek apakah jumlah item sama dengan 0 (list kosong)
   - Jika **BENAR** (list kosong):
     - `clearBtn.style.display = 'none'` â†’ sembunyikan clear button
     - `itemFilter.style.display = 'none'` â†’ sembunyikan filter input

3. **`else`**
   - Jika **list TIDAK kosong** (ada minimal 1 item):
     - `clearBtn.style.display = 'block'` â†’ tampilkan clear button
     - `itemFilter.style.display = 'block'` â†’ tampilkan filter input

> **ğŸ’¡ Tips Alternatif:** Kamu juga bisa menggunakan CSS class untuk mengontrol display, misalnya dengan menambahkan class `hidden` yang memiliki `display: none` di CSS.

---

<a name="langkah-3-menjalankan-checkui-saat-page-load"></a>
### ğŸ“Œ Langkah 3: Menjalankan checkUI Saat Page Load

Sekarang kita panggil fungsi `checkUI()` saat page pertama kali load:

```javascript
// Event Listeners
itemForm.addEventListener('submit', addItem);
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);

checkUI(); // âœ¨ Jalankan saat page load!
```

**Hasil:**
- âœ… Jika ada hard-coded `<li>` di HTML â†’ filter dan clear button tampil
- âœ… Jika tidak ada `<li>` di HTML â†’ filter dan clear button tersembunyi

**Coba Test:**
1. Hapus atau comment semua `<li>` di HTML
2. Refresh page
3. Filter dan clear button akan **hilang** âœ¨

---

<a name="masalah-dengan-variable-di-global-scope"></a>
## âš ï¸ Masalah dengan Variable di Global Scope

Sekarang kita punya masalah baru! Coba tambahkan item baru, filter dan clear button **tidak muncul**! Kenapa? ğŸ¤”

**Penyebabnya:**

Jika kita menempatkan variabel `items` di **global scope** (di luar fungsi):

```javascript
// âŒ JANGAN SEPERTI INI!
const items = itemList.querySelectorAll('li');

function checkUI() {
  if (items.length === 0) {
    // ...
  }
}
```

**Masalahnya:**
- `items` didefinisikan **sekali saja** saat page load
- Ketika page pertama load dan list kosong, `items.length` = 0
- Nilai ini **tidak akan berubah** meskipun kita tambahkan item baru ke DOM!
- JavaScript tidak otomatis "update" nilai variabel

**Contoh Masalah:**

```javascript
// Page load pertama kali
items = []; // Length = 0

// Kita tambahkan item baru via addItem()
// Di DOM sudah ada <li> baru
// Tapi variabel items tetap []
// items.length masih = 0 âŒ
```

**Console.log Proof:**

```javascript
function checkUI() {
  const items = itemList.querySelectorAll('li');
  console.log(items); // ğŸ” Cek isinya
  // ...
}
```

Jika `items` di global scope:
- Tambah item pertama â†’ `console.log` tetap `NodeList(0)` âŒ
- Tambah item kedua â†’ `console.log` tetap `NodeList(0)` âŒ

---

<a name="solusi-pindahkan-queryselectorall-ke-dalam-fungsi"></a>
## âœ… Solusi: Pindahkan querySelectorAll ke Dalam Fungsi

**Solusinya simpel:** Pindahkan `querySelectorAll` **ke dalam fungsi** `checkUI()`!

```javascript
function checkUI() {
  const items = itemList.querySelectorAll('li'); // âœ¨ DI DALAM FUNGSI!

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}
```

**Kenapa ini solusinya?**
- âœ… Setiap kali `checkUI()` dipanggil, `querySelectorAll` akan **dijalankan ulang**
- âœ… Ini akan mengambil **kondisi terbaru** dari DOM
- âœ… Jika ada item baru ditambahkan, akan terdeteksi!

**Hasil setelah diperbaiki:**
```javascript
// Tambah item pertama
checkUI() // querySelectorAll jalan lagi â†’ NodeList(1) âœ…

// Tambah item kedua
checkUI() // querySelectorAll jalan lagi â†’ NodeList(2) âœ…

// Hapus semua item
checkUI() // querySelectorAll jalan lagi â†’ NodeList(0) âœ…
```

---

<a name="menjalankan-checkui-di-berbagai-event"></a>
## ğŸ¯ Menjalankan checkUI di Berbagai Event

Sekarang kita perlu panggil `checkUI()` setiap kali ada perubahan pada list!

<a name="saat-menambah-item"></a>
### â• Saat Menambah Item

Panggil `checkUI()` di dalam fungsi `addItem()`, **setelah** item ditambahkan ke DOM:

```javascript
function addItem(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(newItem));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);

  checkUI(); // âœ¨ Cek UI setelah item ditambahkan!

  itemInput.value = '';
}
```

**Penjelasan:**
- Setelah `itemList.appendChild(li)`, item sudah ada di DOM
- Panggil `checkUI()` untuk update tampilan filter dan clear button
- Filter dan clear button akan muncul karena `items.length` > 0

---

<a name="saat-menghapus-item"></a>
### â– Saat Menghapus Item

Panggil `checkUI()` di dalam fungsi `removeItem()`, **setelah** item dihapus:

```javascript
function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      checkUI(); // âœ¨ Cek UI setelah item dihapus!
    }
  }
}
```

**Penjelasan:**
- Setelah `.remove()`, item sudah hilang dari DOM
- Panggil `checkUI()` untuk update tampilan
- Jika semua item sudah dihapus, filter dan clear button akan disembunyikan

---

<a name="saat-clear-all-items"></a>
### ğŸ—‘ï¸ Saat Clear All Items

Panggil `checkUI()` di dalam fungsi `clearItems()`, **setelah** semua item dihapus:

```javascript
function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

  checkUI(); // âœ¨ Cek UI setelah semua item dihapus!
}
```

**Penjelasan:**
- Setelah while loop selesai, semua item sudah dihapus
- Panggil `checkUI()` untuk update tampilan
- Filter dan clear button akan disembunyikan karena `items.length` = 0

---

<a name="menambahkan-konfirmasi-delete"></a>
## âš ï¸ Menambahkan Konfirmasi Delete

Untuk mencegah penghapusan item secara tidak sengaja, kita tambahkan **konfirmasi dialog** menggunakan `confirm()`:

```javascript
function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) { // âœ¨ Konfirmasi!
      e.target.parentElement.parentElement.remove();
      checkUI();
    }
  }
}
```

**Penjelasan:**

1. **`confirm('Are you sure?')`**
   - Menampilkan dialog konfirmasi dengan 2 tombol: **OK** dan **Cancel**
   - Jika user klik **OK** â†’ return `true`
   - Jika user klik **Cancel** â†’ return `false`

2. **`if (confirm('Are you sure?'))`**
   - Jika user klik **OK** (return true) â†’ item akan dihapus
   - Jika user klik **Cancel** (return false) â†’ item tidak dihapus

**Cara Kerja:**
```javascript
// User klik icon X
â†“
// Muncul dialog "Are you sure?"
â†“
// User klik OK â†’ item dihapus â†’ checkUI() dipanggil
â†“
// User klik Cancel â†’ tidak terjadi apa-apa
```

---

<a name="kode-lengkap"></a>
## ğŸ“ Kode Lengkap

Berikut adalah kode lengkap `script.js` setelah semua perubahan:

```javascript
const itemForm = document.getElementById('item-form');
const itemInput = document.getElementById('item-input');
const itemList = document.getElementById('item-list');
const clearBtn = document.getElementById('clear');
const itemFilter = document.getElementById('filter');

function addItem(e) {
  e.preventDefault();

  const newItem = itemInput.value;

  // Validate Input
  if (newItem === '') {
    alert('Please add an item');
    return;
  }

  // Create list item
  const li = document.createElement('li');
  li.appendChild(document.createTextNode(newItem));

  const button = createButton('remove-item btn-link text-red');
  li.appendChild(button);

  // Add li to the DOM
  itemList.appendChild(li);

  // ğŸ“Œ FOCUS : panggil checkUI
  checkUI();

  itemInput.value = '';
}

function createButton(classes) {
  const button = document.createElement('button');
  button.className = classes;
  const icon = createIcon('fa-solid fa-xmark');
  button.appendChild(icon);
  return button;
}

function createIcon(classes) {
  const icon = document.createElement('i');
  icon.className = classes;
  return icon;
}

function removeItem(e) {
  if (e.target.parentElement.classList.contains('remove-item')) {
    if (confirm('Are you sure?')) {
      e.target.parentElement.parentElement.remove();

      // ğŸ“Œ FOCUS : panggil checkUI
      checkUI();
    }
  }
}

function clearItems() {
  while (itemList.firstChild) {
    itemList.removeChild(itemList.firstChild);
  }

// ğŸ“Œ FOCUS : panggil checkUI
  checkUI();
}

// ğŸ“Œ FOCUS : Buat fungsi checkUI
function checkUI() {
  const items = itemList.querySelectorAll('li');

  if (items.length === 0) {
    clearBtn.style.display = 'none';
    itemFilter.style.display = 'none';
  } else {
    clearBtn.style.display = 'block';
    itemFilter.style.display = 'block';
  }
}

// Event Listeners
itemForm.addEventListener('submit', addItem);
itemList.addEventListener('click', removeItem);
clearBtn.addEventListener('click', clearItems);

// ğŸ“Œ FOCUS : panggil checkUI di global 
checkUI();
```

---

<a name="kesimpulan"></a>
## ğŸ‰ Kesimpulan

### ğŸ“š Apa yang Sudah Dipelajari:

1. âœ… **Membuat fungsi `checkUI()`** untuk mengecek kondisi UI
2. âœ… **Menampilkan/menyembunyikan element** berdasarkan kondisi tertentu
3. âœ… **Masalah variable di global scope** dan solusinya
4. âœ… **Memanggil fungsi di berbagai event** (add, remove, clear)
5. âœ… **Menambahkan konfirmasi delete** dengan `confirm()`

### ğŸ¯ Poin Penting:

> **"Dengan Vanilla JavaScript, kamu harus mengatur semuanya secara manual!"**

- ğŸ”„ Tidak ada auto-update seperti di framework (React, Vue, dll)
- ğŸ§  Kamu harus **memikirkan semua skenario**:
  - Apa yang terjadi saat item ditambah?
  - Apa yang terjadi saat item dihapus?
  - Apa yang terjadi saat semua item dihapus?
- ğŸ’ª Ini membuat kamu jadi programmer yang lebih baik!

### ğŸš€ Selanjutnya:

Pada tutorial berikutnya, kita akan membuat **fitur filter** agar bisa mencari item berdasarkan keyword yang diketik! ğŸ”

---

### ğŸ’¡ Tips Tambahan:

**Nama Fungsi Alternatif:**
- `checkUI()` âœ…
- `updateUI()` âœ…
- `resetUI()` âœ…
- `checkState()` âœ…
- `resetState()` âœ…

Semua nama ini valid dan menjelaskan fungsi yang sama!

---

**ğŸ“Œ Catatan:**
- Saat ini data belum persisten (hilang saat refresh)
- Nanti akan ditambahkan **Local Storage** untuk menyimpan data
- Stay tuned untuk tutorial selanjutnya! ğŸš€

---

**Happy Coding! ğŸ’»âœ¨**
